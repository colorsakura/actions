{"Aè®¡ç§‘å·¥ç¨‹/Clion":{"title":"Clion","links":[],"tags":["TODO","ide"],"content":"Clion\n\nå‚è€ƒé“¾æ¥"},"Aè®¡ç§‘å·¥ç¨‹/Fcitx":{"title":"Fcitx","links":["Eä¸´æ—¶ç¬”è®°/Rime"],"tags":["TODO","fcitx"],"content":"FCITX\nFcitx æ˜¯ä¸€æ¬¾å…¨å¹³å°çš„è¾“å…¥æ³•æ¡†æ¶ï¼Œæ‹¥æœ‰å¤šç§è¯­è¨€è¾“å…¥æ³•ã€‚\nFcitx5 Chinese Add On\nè‡ªå®šä¹‰è¯åº“\nFcitx5 æ‹¼éŸ³è¾“å…¥æ³•çš„è¯åº“æ˜¯ç”± libime è¿™ä¸ªåº“æä¾›çš„ã€‚å¹¶ä¸”æ‹¼éŸ³å’ŒåŒæ‹¼ä½¿ç”¨åŒæ ·çš„è¯åº“ã€‚\nArch ç³»ç»Ÿä¸Šï¼Œè¯åº“ç›®å½•åœ¨ /usr/share/libime. å†…å®¹å¦‚ä¸‹å›¾ã€‚\n\n\nsc.dict : é€šç”¨æ‹¼éŸ³è¯åº“\nextb.dict  : CJK æ‰©å±•è¯åº“\nzrm.main.dict : è‡ªç„¶ç ç è¡¨è¯åº“ (éæ‹¼éŸ³è¯åº“)\n\nå·¥å…·ï¼šlibime_pinyindict txt å’Œ dict äº’ç›¸è½¬æ¢å·¥å…·\næ ¼å¼ï¼šè¯ æ‹¼éŸ³ è¯é¢‘\næˆ‘ wo 0\næˆ‘ä»¬ wo&#039;meng 0\n\n\n                  \n                  Note\n                  \n                \n\nè¯é¢‘å»ºè®®å…¨éƒ¨ä¸º 0, ä¸ç„¶æ— æ³•è½¬æ¢ï¼ŒåŸå› æš‚æ—¶ä¸æ˜ã€‚\næ‹¼éŸ³ä¸æ”¯æŒä¸æ­£ç¡®çš„æ‹¼éŸ³æ ¼å¼ã€‚\n\n\nä¸­è‹±æ··åˆè¾“å…¥\nç»è¿‡æµ‹è¯•ï¼Œè¿™ä¸ªåŠŸèƒ½æ˜¯ç”± spell è¿™ä¸ªé€‰é¡¹æä¾›çš„ã€‚\nç”¨æˆ·è¾“å…¥å†å²\nä½ç½®ï¼š~/.local/share/fcitx5/pinyin\nFcitx5 Rime\nRime è¾“å…¥æ³•å¯è‡ªå®šä¹‰ç¨‹åº¦è¾ƒé«˜ï¼ŒåŒæ—¶å­¦ä¹ æˆæœ¬ä¹Ÿé«˜ã€‚\nå¦‚æœæ²¡æœ‰ç‰¹æ®Šçš„ç™–å¥½ï¼Œå®Œå…¨æ²¡æœ‰å¿…è¦å»æŠ˜è…¾ã€‚å°±æ‹¼éŸ³è¾“å…¥æ³•è€Œè¨€ï¼Œ\nRime çš„ä¸Šé™ä¹Ÿä¸ä¸€å®šé«˜äº Fcitx5 è‡ªå¸¦çš„æ‹¼éŸ³è¾“å…¥æ³•ã€‚\nè‡ªå®šä¹‰è¯åº“\næ¨èä½¿ç”¨é›¾å‡‡æ‹¼éŸ³\npkill fcitx5\n# åˆ é™¤é»˜è®¤è®¾ç½®\nrm ~/.local/share/fcitx5/rhyme\n# å…‹éš†è¿œç¨‹ä»“åº“\ngit clone github.com/iDvel/rhyme-ice.git ~/.local/share/fcitx5/rhyme\nä¸æ¨èå»ä¿®æ”¹å®šåˆ¶é…ç½®ï¼Œé›¾å‡‡æ‹¼éŸ³å·²ç»åšçš„å¾ˆå¥½äº†ï¼Œæ²¡æœ‰å¿…è¦å»æµªè´¹æ—¶é—´å»æŠ˜è…¾ä¸€ä¸ªè¾“å…¥æ³•ã€‚\næ€»ç»“\nç›®å‰è¿™ä¸¤æ¬¾è¾“å…¥æ³•ä½“éªŒä¸Šæ²¡æœ‰è¾ƒå¤§çš„å·®è·ï¼ŒRhyme æ”¯æŒä¸­è‹±æ··åˆè¾“å…¥ã€‚\nå‚è€ƒé“¾æ¥"},"Aè®¡ç§‘å·¥ç¨‹/GRPC":{"title":"GRPC","links":[],"tags":[],"content":""},"Aè®¡ç§‘å·¥ç¨‹/LLDB":{"title":"LLDB","links":[],"tags":[],"content":"LLDB Debug"},"Aè®¡ç§‘å·¥ç¨‹/Potplayer":{"title":"Potplayer","links":[],"tags":[],"content":"Madvr\nLavFilters"},"Aè®¡ç§‘å·¥ç¨‹/Wayland":{"title":"Wayland","links":[],"tags":[],"content":""},"Aè®¡ç§‘å·¥ç¨‹/gpg":{"title":"gpg","links":[],"tags":["linux","gpg","doc","TODO"],"content":"GPG ç®€æ˜æ•™ç¨‹\n\nGPG ä»‹ç»\nåˆ›å»ºå¯†é’¥\nä¿å­˜å¯†é’¥\næ¢å¤å¯†é’¥\næ›´æ”¹å¯†é’¥\nä½¿ç”¨å¯†é’¥"},"Aè®¡ç§‘å·¥ç¨‹/isync":{"title":"isync","links":[],"tags":[],"content":"isync æ˜¯ä¸€æ¬¾æ–‡ä»¶åŒæ­¥è½¯ä»¶ï¼Œæ”¯æŒå°†æ–‡ä»¶åŒæ­¥åˆ°ä¸åŒçš„äº‘ç›˜å’Œå­˜å‚¨æœåŠ¡ä¸Šã€‚"},"Aè®¡ç§‘å·¥ç¨‹/vim":{"title":"vim","links":[],"tags":["TODO","vim","Doc","neovim"],"content":"\nVIM ç®€æ˜“æ•™ç¨‹"},"Aè®¡ç§‘å·¥ç¨‹/ä¸‹è½½å·¥å…·":{"title":"ä¸‹è½½å·¥å…·","links":[],"tags":["TODO","aria2","windows","linux"],"content":"ä¸‹è½½å·¥å…·\nè®°å½•æ¨èä½¿ç”¨çš„å…¨å¹³å°ä¸‹è½½å·¥å…·\n\nqBittorrent\nå‚è€ƒé“¾æ¥"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux-å®šæ—¶ä»»åŠ¡":{"title":"Linux å®šæ—¶ä»»åŠ¡","links":[],"tags":["TODO"],"content":"å®šæ—¶ä»»åŠ¡\nåœ¨ Linux ä¸Šï¼Œæ€»æœ‰ä¸€äº›æœåŠ¡éœ€è¦å®šæ—¶è¿è¡Œï¼Œæ¥å‡å°‘äººåŠ›ã€‚Linux æœ‰å¾ˆå¤šä¼˜ç§€çš„å®šæ—¶ä»»åŠ¡ç®¡ç†å™¨.\r\nåœ¨ Arch ä¸Šï¼Œç”±äº systemd æ˜¯é»˜è®¤å®‰è£…çš„ï¼Œæ‰€ä»¥ä½¿ç”¨å®ƒæä¾› timer æ¥ç¼–å†™å®šæ—¶ä»»åŠ¡ã€‚\nsystemd æœåŠ¡\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux-å¸¸ç”¨å‘½ä»¤":{"title":"Linux å¸¸ç”¨å‘½ä»¤","links":[],"tags":["TODO","linux"],"content":"Linux å¸¸ç”¨å‘½ä»¤\nè®°å½•åœ¨ Linux ä¸‹ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ã€‚\n\nç»ˆç«¯è¿è¡Œä»»åŠ¡\njobs, bg, fg è¿™ä¸‰ä¸ªå‘½ä»¤ç”± shell æä¾›ï¼Œä¸åŒçš„ shell ä¹‹é—´é€‰é¡¹å¯èƒ½æœ‰ä¸€ç‚¹åŒºåˆ«ã€‚\nåœ¨ç»ˆç«¯ä¸‹å…è®¸çš„å‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨ Ctrl z"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux-è½¯ä»¶æ¸…å•":{"title":"Linux è½¯ä»¶æ¸…å•","links":["Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/btrfs","Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/fdisk","Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/iproute2","Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/nftables","Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/smartdns","Aè®¡ç§‘å·¥ç¨‹/neovim"],"tags":["linux"],"content":"Linux è½¯ä»¶æ¸…å•\nè®°å½• Linux æ¡Œé¢ç¯å¢ƒä¸‹å¸¸ç”¨çš„è½¯ä»¶ï¼Œé™¤å‘½ä»¤è¡Œè½¯ä»¶å¤–ï¼Œå…¶ä»–è½¯ä»¶å¿…é¡»å®Œç¾æ”¯æŒ Wayland æ‰å¯ä»¥æ”¶å½•ã€‚\n\næ–‡ä»¶ç³»ç»Ÿ\nbtrfs\n\nbtrfs-progs\nbtrfs-assistant\nsnapper\n\nåˆ†åŒºå·¥å…·\n\nfdisk\n\nç½‘ç»œ\n\niproute2\nnftables\nsmartdns\nclash-meta\ndnsmasq\nwireshark\n\nè“ç‰™\n\nbluez\nbluez-utils\n\næ¡Œé¢\nKDE:\nWM(sway):\r\n- sway\r\n- swayidle\r\n- swaylock\r\n- waybg\nå­—ä½“\n\nfont-noto\nfont-noto-cjk\nttf-jetbrains-mono\nttf-twemoji\nttf-zhudou-sans\n\néŸ³é¢‘\n\npipewire\npipewire-jack\n\nè§†é¢‘\n\nmpv\nvulkan-intel\nyt-dlp\n\nç¼–è¾‘å™¨\n\nneovim\nvisual-studio-code\nzed\n\nå…¶ä»–\n\nalacritty\nanki\nblender\nfirefox\njetbrains ç³»åˆ—\nkitty\nobs studio\nobsidian\nqbittorrent\nthunderbird\nyazi\nzathura\nzotero\nmangohud(ç›‘æ§ FPS)\n\nä¸ç¡¬ä»¶ç›¸å…³\nCPU\nIntel:\r\n- intel-ucode\r\nAMD:\r\n- amd-ucode\nGPU"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Arch/Arch-å®‰è£…æ‰‹å†Œ":{"title":"Arch å®‰è£…æ‰‹å†Œ","links":[],"tags":["TODO","linux","archlinux","tutor"],"content":"Arch å®‰è£…æ‰‹å†Œ\nè¯¦ç»†çš„å®‰è£…æ•™ç¨‹è¯·å‚é˜…ï¼šArch Wiki å®˜æ–¹å®‰è£…æŒ‡å—\n\n\n                  \n                  Note\n                  \n                \n\nä¸€åˆ‡ä»¥å®˜æ–¹ wiki ä¸ºä¸»ï¼Œå¤šçœ‹ wikiï¼Œå¤šå®è·µï¼Œæ‰èƒ½æœ‰è¿›æ­¥ã€‚\n\n\n\nä¸€. å®‰è£…ç¯å¢ƒç¡®å®š\n1.1 ç¦ç”¨ reflector æœåŠ¡\n2020 å¹´ï¼Œarchlinux å®‰è£…é•œåƒä¸­åŠ å…¥äº† reflector æœåŠ¡ï¼Œå®ƒä¼šè‡ªå·±æ›´æ–° mirrorlistï¼ˆè½¯ä»¶åŒ…ç®¡ç†å™¨ pacman çš„è½¯ä»¶æºï¼‰ã€‚åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œå®ƒä¼šè¯¯åˆ æŸäº›æœ‰ç”¨çš„æºä¿¡æ¯ã€‚è¿™é‡Œè¿›å…¥å®‰è£…ç¯å¢ƒåçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯å°†å…¶ç¦ç”¨ã€‚ä¹Ÿè®¸å®ƒæ˜¯ä¸€ä¸ªå¥½ç”¨çš„å·¥å…·ï¼Œä½†æ˜¯å¾ˆæ˜æ˜¾ï¼Œå› ä¸ºåœ°ç†ä¸Šé€ æˆçš„ç‰¹æ®Šç½‘ç»œç¯å¢ƒï¼Œè¿™é¡¹æœåŠ¡å¹¶ä¸é€‚åˆä¸­å›½å¤§é™†ç”¨æˆ·å¯ç”¨ã€‚\n\né€šè¿‡ä»¥ä¸‹å‘½ä»¤å°†è¯¥æœåŠ¡ç¦ç”¨ï¼š\n\nsystemctl stop reflector.service\n\né€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹è¯¥æœåŠ¡æ˜¯å¦è¢«ç¦ç”¨ï¼ŒæŒ‰ä¸‹ q é€€å‡ºç»“æœè¾“å‡ºï¼š\n\nsystemctl status reflector.service\nåŒæ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ Tab é”®åœ¨è¾“å…¥å‘½ä»¤çš„æ—¶å€™å¯¹å‘½ä»¤ã€å‚æ•°æˆ–æ–‡ä»¶è·¯å¾„è¿›è¡Œè‡ªåŠ¨è¡¥å…¨ï¼Œæé«˜æ•ˆç‡çš„åŒæ—¶é™ä½è¾“å…¥é”™è¯¯çš„é£é™©ã€‚\n\n1.2 ç¡®è®¤æ˜¯å¦ä¸º UEFI æ¨¡å¼\nç¦ç”¨ reflector æœåŠ¡åï¼Œæˆ‘ä»¬å†æ¥ç¡®è®¤ä¸€ä¸‹æ˜¯å¦ä¸º UEFI æ¨¡å¼ï¼š\nls /sys/firmware/efi/efivars\nè‹¥è¾“å‡ºäº†ä¸€å †ä¸œè¥¿ï¼ˆefi å˜é‡ï¼‰ï¼Œåˆ™è¯´æ˜å·²åœ¨ UEFI æ¨¡å¼ã€‚å¦åˆ™è¯·ç¡®è®¤ä½ çš„å¯åŠ¨æ–¹å¼æ˜¯å¦ä¸º UEFIã€‚\n\n1.3 è¿æ¥ç½‘ç»œ\n\n\n                  \n                  Note\n                  \n                \n\narchlinux çš„å®‰è£…**å¿…é¡»**è¦æ±‚ç½‘ç»œç¯å¢ƒã€‚\n\n\n1.3.1 ä½¿ç”¨æ— çº¿è¿æ¥ï¼š\nä½¿ç”¨ iwctl è¿›è¡Œè¿æ¥ï¼š\niwctl # è¿›å…¥äº¤äº’å¼å‘½ä»¤è¡Œ\ndevice list # åˆ—å‡ºæ— çº¿ç½‘å¡è®¾å¤‡åï¼Œæ¯”å¦‚æ— çº¿ç½‘å¡çœ‹åˆ°å« wlan0\nstation wlan0 scan # æ‰«æç½‘ç»œ\nstation wlan0 get-networks # åˆ—å‡ºæ‰€æœ‰ wifi ç½‘ç»œ\nstation wlan0 connect wifi-name # è¿›è¡Œè¿æ¥ï¼Œæ³¨æ„è¿™é‡Œæ— æ³•è¾“å…¥ä¸­æ–‡ã€‚å›è½¦åè¾“å…¥å¯†ç å³å¯\nexit # è¿æ¥æˆåŠŸåé€€å‡º\nè‹¥æ— çº¿ç½‘å¡æ— æ³•æ˜¾ç¤ºï¼Œè¯·æŒ‰ç…§çš„è¯´æ˜ ç¡®ä¿ä½ çš„æ— çº¿ç½‘å¡ç¡¬ä»¶å¼€å…³å¤„äºæ‰“å¼€çŠ¶æ€ã€‚\nä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹å†…æ ¸æ˜¯å¦åŠ è½½äº†ä½ çš„æ— çº¿ç½‘å¡é©±åŠ¨ã€‚\nlspci -k | grep Network\nä»¥æˆ‘çš„ç¡¬ä»¶ä¸ºä¾‹ï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š\n00:14.3 Network controller: Intel Corporation Wi-Fi 6 AX201 (rev 20)\néƒ¨åˆ†æ— çº¿ç½‘å¡ä¸å…¼å®¹ï¼Œè¯·è€ƒè™‘ä½¿ç”¨æœ‰çº¿è¿æ¥å®‰è£… archlinuxï¼Œæ¯”å¦‚ç”¨ usb è¿æ¥æ‰‹æœºå…±äº«ç½‘ç»œ\n1.3.2 ä½¿ç”¨æœ‰çº¿è¿æ¥ï¼š\næ­£å¸¸æ¥è¯´ï¼Œåªè¦æ’ä¸Šä¸€ä¸ªå·²ç»è”ç½‘çš„è·¯ç”±å™¨åˆ†å‡ºçš„ç½‘çº¿ï¼ˆDHCPï¼‰ï¼Œç›´æ¥å°±èƒ½è”ç½‘ã€‚\nå¯ä»¥ç­‰å¾…å‡ ç§’ç­‰ç½‘ç»œå»ºç«‹è¿æ¥åå†è¿›è¡Œä¸‹ä¸€æ­¥æµ‹è¯•ç½‘ç»œçš„æ“ä½œã€‚\nè‹¥ç¬”è®°æœ¬æ²¡æœ‰ç½‘çº¿æ¥å£è¯·ä½¿ç”¨å¸¦ç½‘çº¿æ¥å£çš„æ‰©å±•åã€‚\n1.3.3 æµ‹è¯•ç½‘ç»œè¿é€šæ€§\né€šè¿‡ ping å‘½ä»¤æµ‹è¯•ç½‘ç»œè¿é€šæ€§ï¼š\nping www.bilibili.com\nç¨ç­‰ç‰‡åˆ»ï¼Œè‹¥èƒ½çœ‹åˆ°æ•°æ®è¿”å›ï¼Œå³è¯´æ˜å·²ç»è”ç½‘ã€‚ä¸ Windows ä¸åŒçš„æ˜¯ï¼Œéœ€è¦æŒ‰ä¸‹ Ctrl + C æ‰‹åŠ¨é€€å‡º ping å‘½ä»¤ã€‚\nå¦‚æœæ— çº¿ç½‘ç»œè¿˜æ˜¯æ— æ³•è¿æ¥ï¼Œè¯·ä½¿ç”¨ ip link å‘½ä»¤æŸ¥çœ‹æ— çº¿ç½‘å¡è®¾å¤‡ï¼Œä½¿ç”¨ ip link set &lt;è®¾å¤‡å&gt; up å‘½ä»¤æ¿€æ´»å¯¹åº”çš„æ— çº¿ç½‘å¡ã€‚è‹¥çœ‹åˆ°ç±»ä¼¼ Operation not possible due to RF-kill çš„æŠ¥é”™ï¼Œç»§ç»­å°è¯• rfkill unblock wifi æ¥è§£é”æ— çº¿ç½‘å¡ã€‚\nå¦‚æœ‰éœ€è¦ï¼Œå¯ä»¥å‚è€ƒ archWiki ç›¸å…³å†…å®¹\n1.4 å®‰è£… SSH\n\n\n                  \n                  Note\n                  \n                \n\nå¼ºçƒˆæ¨èä½¿ç”¨ ssh è¿œç¨‹å®‰è£…ï¼Œé¿å…æ‰‹åŠ¨è¾“å…¥å‘½ä»¤ï¼Œå‡å°‘è¾“å…¥é”™è¯¯ï¼Œé¿å…å®‰è£…å¤±è´¥ã€‚\n\n\nå®‰è£… openssh æœåŠ¡ï¼Œä¹‹åç”¨ ssh è¿æ¥ï¼Œé¿å…ä½¿ç”¨ä¸‘é™‹çš„ç•Œé¢ã€‚\n# å®‰è£…ä¹‹å‰é…ç½®é•œåƒæºæ¯”è¾ƒå¥½\npacman -Sy openssh\n# å¯åŠ¨ sshd æœåŠ¡\nsystemctl start sshd\n# è®¾ç½®å¯†ç \npasswd root\n\n\n                  \n                  Note\n                  \n                \n\nä¸è¦å¿˜è®°è®¾ç½® root ç”¨æˆ·çš„å¯†ç \n\n\n\n1.5 æ›´æ–°ç³»ç»Ÿæ—¶é’Ÿ\nä½¿ç”¨ timedatectl ç¡®ä¿ç³»ç»Ÿæ—¶é—´æ˜¯å‡†ç¡®çš„ã€‚è¿™ä¸€æ­¥ä¸æ˜¯å¯é€‰çš„ï¼Œæ­£ç¡®çš„ç³»ç»Ÿæ—¶é—´å¯¹äºéƒ¨åˆ†ç¨‹åºæ¥è¯´éå¸¸é‡è¦ï¼š\ntimedatectl set-ntp true # å°†ç³»ç»Ÿæ—¶é—´ä¸ç½‘ç»œæ—¶é—´è¿›è¡ŒåŒæ­¥\ntimedatectl status # æ£€æŸ¥æœåŠ¡çŠ¶æ€\n\n1.6 æ›´æ¢è½¯ä»¶ä»“åº“é•œåƒæº\nä½¿ç”¨ vim ç¼–è¾‘å™¨ä¿®æ”¹ /etc/pacman.d/mirrorlist æ–‡ä»¶ã€‚å°† pacman è½¯ä»¶ä»“åº“æºæ›´æ¢ä¸ºå›½å†…è½¯ä»¶ä»“åº“é•œåƒæºï¼š\nvim /etc/pacman.d/mirrorlist\n\næ”¾åœ¨æœ€ä¸Šé¢çš„æ˜¯ä¼šä½¿ç”¨çš„è½¯ä»¶ä»“åº“é•œåƒæºï¼Œæ¨èçš„é•œåƒæºå¦‚ä¸‹ï¼š\nServer = mirrors.ustc.edu.cn/archlinux/$repo/os/$arch # ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦å¼€æºé•œåƒç«™\nServer = mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch # æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™\nServer = repo.huaweicloud.com/archlinux/$repo/os/$arch # åä¸ºå¼€æºé•œåƒç«™\nServer = mirror.lzu.edu.cn/archlinux/$repo/os/$arch # å…°å·å¤§å­¦å¼€æºé•œåƒç«™\n\nå‰è½¦ä¹‹é‰´ â€”â€” è¯·ä¸åœ¨è¿™ä¸€æ­¥ä¸­æ·»åŠ  archlinuxcn æºï¼å¦‚æœä½ åœ¨ /etc/pacman.conf ä¸­æ·»åŠ äº†å†…å®¹ï¼Œè¯·å°†å®ƒä»¬åˆ æ‰ã€‚\n2 åˆ†åŒºå’Œæ ¼å¼åŒ–\n2.1 åˆ†åŒº\n\n\n                  \n                  Warning\n                  \n                \n\nåˆ†åŒºæ“ä½œçš„éƒ¨åˆ†å‘½ä»¤å…·æœ‰å±é™©æ€§ï¼é™¤éä½ çŸ¥é“æ¯ä¸€ä¸ªå‘½ä»¤åœ¨å¹²ä»€ä¹ˆï¼Œå¦åˆ™è¯·ä¸è¦æ‰§è¡Œï¼åŒæ—¶ï¼Œè¯·æå‰åšå¥½æ•°æ®å¤‡ä»½ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ï¼\n\n\n\n/ æ ¹ç›®å½•ï¼š&gt;= 128GBï¼ˆå’Œç”¨æˆ·ä¸»ç›®å½•åœ¨åŒä¸€ä¸ª Btrfs æ–‡ä»¶ç³»ç»Ÿä¸Šï¼‰\n/home ç”¨æˆ·ä¸»ç›®å½•ï¼š&gt;= 128GBï¼ˆå’Œæ ¹ç›®å½•åœ¨åŒä¸€ä¸ª Btrfs æ–‡ä»¶ç³»ç»Ÿä¸Šï¼‰\n/boot/efi EFI åˆ†åŒºï¼š256MBï¼ˆç”±ç”µè„‘å‚å•†æˆ– Windows å†³å®šï¼Œæ— éœ€å†æ¬¡åˆ›å»ºï¼‰\nSwap åˆ†åŒºï¼š&gt;= ç”µè„‘å®é™…è¿è¡Œå†…å­˜çš„ 60%ï¼ˆè®¾ç½®è¿™ä¸ªå¤§å°æ˜¯ä¸ºäº†é…ç½®ä¼‘çœ å‡†å¤‡ï¼‰\n\n\n\n                  \n                  æ¨èä½¿ç”¨swapfileä»£æ›¿swapåˆ†åŒºï¼Œè¿™æ ·è°ƒæ•´å¤§å°æ›´çµæ´»ã€‚ \n                  \n                \n\nå› ä¸ºé‡‡ç”¨ Btrfs æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰€ä»¥æ ¹ç›®å½•å’Œç”¨æˆ·ä¸»ç›®å½•å®é™…åœ¨ä¸€ä¸ªåˆ†åŒºä¸Šï¼Œåªæ˜¯åœ¨ä¸åŒçš„å­å·ä¸Šè€Œå·²ã€‚è¿™é‡Œæ ¹ç›®å½•å’Œç”¨æˆ·ä¸»ç›®å½•çš„å¤§å°ä»…ä¸ºå‚è€ƒï¼Œä¸€èˆ¬æ¥è¯´æ—¥å¸¸ä½¿ç”¨çš„ linux åˆ†é… 128GB å·²ç»å¤Ÿç”¨äº†ã€‚\n\né€šè¿‡ lsblk å‘½ä»¤ï¼ŒåŒºåˆ†è¦å®‰è£… archlinux çš„ç£ç›˜ï¼ˆé€šè¿‡è§‚å¯Ÿç£ç›˜çš„å¤§å°ã€å·²å­˜åœ¨çš„åˆ†åŒºæƒ…å†µç­‰åˆ¤æ–­ï¼‰å¹¶æ˜¾ç¤ºå½“å‰ç£ç›˜çš„åˆ†åŒºæƒ…å†µï¼š\n\nlsblk # æ˜¾ç¤ºå½“å‰åˆ†åŒºæƒ…å†µ\n\næ­¤å¤„è¦åˆ†åŒºå’Œå®‰è£… archlinux çš„ç£ç›˜å³ä¸º sdaã€‚è¯·æ ¹æ®ä½ çš„å®é™…æƒ…å†µåˆ¤æ–­ï¼\nâ„¹ï¸ æç¤º\nä¸ºäº†æ¨¡æ‹ŸçœŸå®çš„ç¯å¢ƒï¼Œç¬”è€…æ‰‹åŠ¨åˆ›å»ºäº†ä¸‰ä¸ªåˆ†åŒºåˆ†åˆ«ä»£è¡¨ï¼š\n\nsda1 â€”â€” EFI åˆ†åŒº\nsda2 â€”â€” win10 ä¸‹çš„ C ç›˜ï¼ˆè±¡å¾æ€§çš„åˆ†äº† 1GBï¼‰\nsda3 â€”â€” win10 ä¸‹çš„ D ç›˜ï¼ˆè±¡å¾æ€§çš„åˆ†äº† 1GBï¼‰\n\nâ„¹ï¸ æç¤º\næ³¨æ„æ­¤å¤„å¹¶ä¸ä¼šæ˜¾å‡ºå‡ºæœªåˆ†é…çš„ç£ç›˜ç©ºé—´ï¼åªæœ‰åœ¨ä½¿ç”¨ cfdisk æ‰§è¡Œåˆ†åŒºæ“ä½œåæ‰ä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚\nâ„¹ï¸ æç¤º\nå¦‚æœä½ çš„ç¡¬ç›˜æ˜¯ NVME åè®®çš„å›ºæ€ç¡¬ç›˜ï¼Œé‚£ä¹ˆå°†ä¸æ˜¯ sdx è€Œæ˜¯ nvmexn1ã€‚\n\næ¥ä¸‹æ¥ä½¿ç”¨ cfdisk å‘½ä»¤å¯¹ç£ç›˜åˆ†åŒºï¼ˆå¯¹äº SATA åè®®çš„ç¡¬ç›˜ï¼Œx ä¸ºå­—æ¯ aã€b æˆ– c ç­‰ç­‰ï¼›å¯¹äº NVME åè®®çš„ç¡¬ç›˜ï¼Œx ä¸ºæ•°å­— 0ã€1 æˆ– 2 ç­‰ç­‰ï¼Œè¯·æ ¹æ®å®é™…æƒ…å†µåˆ¤æ–­ï¼‰ï¼š\n\ncfdisk /dev/sdx # å¯¹å®‰è£… archlinux çš„ç£ç›˜åˆ†åŒº\n\nè¿›å…¥ cfdisk åˆ†åŒºå·¥å…·ä¹‹åï¼Œä½ ä¼šçœ‹åˆ°å¦‚å›¾æ‰€ç¤ºçš„ç•Œé¢ã€‚é€šè¿‡æ–¹å‘é”® â†‘ å’Œ â†“ å¯ä»¥åœ¨è¦æ“ä½œç£ç›˜åˆ†åŒºæˆ–ç©ºä½™ç©ºé—´ä¸­ç§»åŠ¨ï¼›é€šè¿‡æ–¹å‘é”® â† å’Œ â†’ åœ¨å¯¹å½“å‰é«˜äº®çš„ç£ç›˜åˆ†åŒºæˆ–ç©ºä½™ç©ºé—´è¦æ‰§è¡Œçš„æ“ä½œä¸­ç§»åŠ¨ã€‚\n\n\né¦–å…ˆåˆ›å»º Swap åˆ†åŒºã€‚é€‰ä¸­ Free space &gt; å†é€‰ä¸­æ“ä½œ [New] &gt; ç„¶åæŒ‰ä¸‹å›è½¦ Enter ä»¥æ–°å»º swap åˆ†åŒºï¼ˆç±»ä¼¼ Windows çš„äº¤æ¢æ–‡ä»¶ï¼‰\n\n\næŒ‰ä¸‹å›è½¦åä¼šæç¤ºè¾“å…¥ åˆ†åŒºå¤§å°ï¼ŒSwap åˆ†åŒºå»ºè®®ä¸ºç”µè„‘å†…å­˜å¤§å°çš„ 60%ï¼Œæˆ–è€…å’Œå†…å­˜å¤§å°ç›¸ç­‰ &gt; ç„¶åæŒ‰ä¸‹å›è½¦ Enter\n\n\nâ„¹ï¸ æç¤º\nå•ä½å¯ä»¥è‡ªè¡Œè¾“å…¥ï¼Œå¦‚ GBã€MB ç­‰ç­‰ã€‚\n\n\né»˜è®¤æ–°å»ºçš„ç±»å‹æ˜¯ Linux filesystemï¼Œæˆ‘ä»¬éœ€è¦å°†ç±»å‹æ›´æ”¹ä¸º Linux swapã€‚é€‰ä¸­æ“ä½œ [Type] &gt; ç„¶åæŒ‰ä¸‹å›è½¦ Enter &gt; é€šè¿‡æ–¹å‘é”® â†‘ å’Œ â†“ é€‰ä¸­ Linux swap &gt; æœ€åæŒ‰ä¸‹å›è½¦ Enter\n\n\næˆ‘ä»¬å†åªéœ€è¦ä¸€ä¸ªåˆ†åŒºå³å¯ï¼ˆå› ä¸ºä½¿ç”¨ Btrfs æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰€ä»¥æ ¹ç›®å½•å’Œç”¨æˆ·ä¸»ç›®å½•åœ¨ä¸€ä¸ªåˆ†åŒºä¸Šï¼‰ï¼Œæ‰€ä»¥ç±»ä¼¼çš„ï¼šé€‰ä¸­ Free space &gt; å†é€‰ä¸­æ“ä½œ [New] &gt; ç„¶åæŒ‰ä¸‹å›è½¦ Enter ä»¥æ–°å»ºåˆ†åŒº\n\n\n\n\nè¾“å…¥ åˆ†åŒºå¤§å°ï¼ˆé»˜è®¤æ˜¯å‰©ä½™çš„å…¨éƒ¨ç©ºé—´ã€‚è¯·æ ¹æ®å®é™…æƒ…å†µè¾“å…¥ï¼‰&gt; ç„¶åæŒ‰ä¸‹å›è½¦ Enter\n\n\n\nåˆ†åŒºç±»å‹é»˜è®¤å³å¯ï¼Œæ— éœ€æ›´æ”¹ã€‚æ¥ä¸‹æ¥é€‰ä¸­æ“ä½œ [Write] å¹¶å›è½¦ Enter &gt; è¾“å…¥ yes å¹¶å›è½¦ Enter ç¡®è®¤åˆ†åŒºæ“ä½œ\n\n\n\nâš ï¸ æ³¨æ„\nåªæœ‰å†™å…¥äº†æ“ä½œåˆ†åŒºè¡¨æ‰ä¼šæ›´æ”¹ã€‚\n\né€‰ä¸­æ“ä½œ [Quit] å¹¶å›è½¦ Enter ä»¥é€€å‡º cfdisk åˆ†åŒºå·¥å…·\n\n\nâ˜¢ï¸ è­¦å‘Š\nå†æ¬¡æé†’ï¼è¯·ä»”ç»†æ£€æŸ¥å‘½ä»¤å’Œæ“ä½œçš„æ­£ç¡®æ€§ï¼Œå¦åˆ™å°†å‡ºç°ä¸å¯é¢„æ–™çš„æƒ…å†µã€‚æœ€å±é™©çš„æ˜¯å¯èƒ½é€ æˆæ•°æ®ä¸¢å¤±ï¼\nå¸¸è§çš„é”™è¯¯åŒ…æ‹¬ä¸å°å¿ƒæŠŠ Windows çš„åˆ†åŒºåˆ æ‰äº† ğŸ˜¥ã€‚\n\nåˆ†åŒºå®Œæˆåï¼Œä½¿ç”¨ fdisk æˆ– lsblk å‘½ä»¤å¤æŸ¥åˆ†åŒºæƒ…å†µï¼š\n\nfdisk -l # å¤æŸ¥ç£ç›˜æƒ…å†µ\n\n\n\n# 7-2. æ ¼å¼åŒ–å¹¶åˆ›å»º Btrfs å­å·\n# 7-2-1. æ ¼å¼åŒ– Swap åˆ†åŒº\né€šè¿‡ä»¥ä¸‹å‘½ä»¤æ ¼å¼åŒ–å¯¹åº”çš„ Swap åˆ†åŒºï¼Œè¯·æŒ‰ç…§å®é™…æƒ…å†µæ›¿æ¢ x å’Œ nï¼ˆä¸‹åŒï¼‰ï¼š\nmkswap /dev/sdxn\n\n\n# 7-2-2. æ ¼å¼åŒ– Btrfs åˆ†åŒº\n\né¦–å…ˆæˆ‘ä»¬éœ€è¦å°†æ•´ä¸€ä¸ªåˆ†åŒºæ ¼å¼åŒ–ä¸º Btrfs æ–‡ä»¶ç³»ç»Ÿã€‚ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡Œæ ¼å¼åŒ–ï¼š\n\nmkfs.btrfs -L myArch /dev/sdxn\n\n\nğŸ“‘ å‘½ä»¤å‚æ•°è¯´æ˜ï¼š\n\n-L é€‰é¡¹åæŒ‡å®šè¯¥åˆ†åŒºçš„ LABLEï¼Œè¿™é‡Œä»¥ myArch ä¸ºä¾‹ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰ï¼Œä½†ä¸èƒ½ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ä»¥åŠç©ºæ ¼ï¼Œä¸”æœ€å¥½æœ‰æ„ä¹‰\n\n\n\n\nä¸ºäº†åˆ›å»ºå­å·ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå°† Btrfs åˆ†åŒºæŒ‚è½½åˆ° /mnt ä¸‹ï¼š\n\nmount -t btrfs -o compress=zstd /dev/sdxn /mnt\n\n\nğŸ“‘ å‘½ä»¤å‚æ•°è¯´æ˜ï¼š\n\n-t é€‰é¡¹åæŒ‡å®šæŒ‚è½½åˆ†åŒºæ–‡ä»¶ç³»ç»Ÿç±»å‹\n-o é€‰é¡¹åæ·»åŠ æŒ‚è½½å‚æ•°ï¼š\n\ncompress=zstd â€”â€” å¼€å¯é€æ˜å‹ç¼©\n\n\n\n\n\nä½¿ç”¨ df å‘½ä»¤å¤æŸ¥æŒ‚è½½æƒ…å†µï¼š\n\ndf -h # -h é€‰é¡¹ä¼šä½¿è¾“å‡ºä»¥äººç±»å¯è¯»çš„å•ä½æ˜¾ç¤º\n\n\n# 7-2-3. åˆ›å»º Btrfs å­å·\n\né€šè¿‡ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸¤ä¸ª Btrfs å­å·ï¼Œä¹‹åå°†åˆ†åˆ«æŒ‚è½½åˆ° / æ ¹ç›®å½•å’Œ /home ç”¨æˆ·ä¸»ç›®å½•ï¼š\n\nbtrfs subvolume create /mnt/@ # åˆ›å»º / ç›®å½•å­å·\nbtrfs subvolume create /mnt/@home # åˆ›å»º /home ç›®å½•å­å·\n\n\nâš ï¸ æ³¨æ„\né™¤éä½ æ¸…æ¥šä½ çš„æ“ä½œäº§ç”Ÿçš„åæœï¼Œå¦åˆ™è¯·ä¿æŒå­å·åç§°å’Œç»“æ„ä¸æœ¬æŒ‡å—ä¸€è‡´ï¼Œå› ä¸ºåœ¨åé¢æˆ‘ä»¬ä¼šè®¾ç½®çš„å¿«ç…§å·¥å…· timeshift åªæ”¯æŒè¿™ç§å­å·å¸ƒå±€ã€‚\n\né€šè¿‡ä»¥ä¸‹å‘½ä»¤å¤æŸ¥å­å·æƒ…å†µï¼š\n\nbtrfs subvolume list -p /mnt\n\n\n\nå­å·åˆ›å»ºå¥½åï¼Œæˆ‘ä»¬éœ€è¦å°† /mnt å¸è½½æ‰ï¼Œä»¥æŒ‚è½½å­å·ï¼š\n\numount /mnt\n\n\n# 8. æŒ‚è½½\n\nåœ¨æŒ‚è½½æ—¶ï¼ŒæŒ‚è½½æ˜¯æœ‰é¡ºåºçš„ï¼Œéœ€è¦ä»æ ¹ç›®å½•å¼€å§‹æŒ‚è½½ã€‚ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŒ‚è½½å­å·ï¼š\n\nmount -t btrfs -o subvol=/@,compress=zstd /dev/sdxn /mnt # æŒ‚è½½ / ç›®å½•\nmkdir /mnt/home # åˆ›å»º /home ç›®å½•\nmount -t btrfs -o subvol=/@home,compress=zstd /dev/sdxn /mnt/home # æŒ‚è½½ /home ç›®å½•\nmkdir -p /mnt/boot/efi # åˆ›å»º /boot/efi ç›®å½•\nmount /dev/sdxn /mnt/boot/efi # æŒ‚è½½ /boot/efi ç›®å½•\nswapon /dev/sdxn # æŒ‚è½½äº¤æ¢åˆ†åŒº\n\n\nä½¿ç”¨ df å‘½ä»¤å¤æŸ¥æŒ‚è½½æƒ…å†µï¼š\n\ndf -h\n\n\n\nä½¿ç”¨ free å‘½ä»¤å¤æŸ¥ Swap åˆ†åŒºæŒ‚è½½æƒ…å†µï¼š\n\nfree -h # -h é€‰é¡¹ä¼šä½¿è¾“å‡ºä»¥äººç±»å¯è¯»çš„å•ä½æ˜¾ç¤º\n\n\n# 9. å®‰è£…ç³»ç»Ÿ\n\né€šè¿‡å¦‚ä¸‹å‘½ä»¤ä½¿ç”¨ pacstrap è„šæœ¬å®‰è£…åŸºç¡€åŒ…ï¼š\n\npacstrap /mnt base base-devel linux linux-firmware\n\n\nğŸ“‘ å‘½ä»¤å‚æ•°è¯´æ˜ï¼š\n\nbase-devel â€”â€” base-devel åœ¨ AUR åŒ…çš„å®‰è£…è¿‡ç¨‹ä¸­æ˜¯å¿…é¡»ç”¨åˆ°çš„\nlinux â€”â€” å†…æ ¸è½¯ä»¶åŒ…ï¼Œè¿™é‡Œå»ºè®®å…ˆä¸è¦æ›¿æ¢ä¸ºå…¶å®ƒå†…æ ¸\n\n\n\n\né€šè¿‡å¦‚ä¸‹å‘½ä»¤ä½¿ç”¨ pacstrap è„šæœ¬å®‰è£…å…¶å®ƒå¿…è¦çš„åŠŸèƒ½æ€§è½¯ä»¶ï¼š\n\npacstrap /mnt iwd neovim sudo fish\n\n\nğŸ“‘ å‘½ä»¤å‚æ•°è¯´æ˜ï¼š\n\nzsh â€”â€” zsh-completions å¦‚æœä½ æ˜¯ bash çš„çˆ±å¥½è€…ï¼Œè¯·æŠŠè¿™ä¸¤ä¸ªåŒ…æ¢æˆbash-completion\nå¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦*nix ç³»ç»Ÿçš„æ–°æ‰‹ï¼Œä¸å»ºè®®æ¢æˆ bash\n\n\n\nç»è¿‡ä¸€ç³»åˆ—å®‰è£…æ—¶æç¤ºä¿¡æ¯çš„åˆ·å±ï¼Œè¿™äº›åŒ…å°±å®‰è£…å¥½äº†ã€‚\nâš ï¸ æ³¨æ„\nåœ¨æ‰§è¡Œå‘½ä»¤å‰ï¼Œè¯·ä»”ç»†æ£€æŸ¥å‘½ä»¤çš„æ‹¼å†™æ­£ç¡®ï¼›åŒæ—¶æ³¨æ„ä¸è¦æ¼è£…ä¸œè¥¿ã€‚\nå¾ˆå¤šäººåœ¨åç»­çš„æ­¥éª¤ä¸­æŠ¥é”™å°±æ˜¯å› ä¸ºè¿™é‡Œæ¼è£…äº†ä¸œè¥¿ã€‚\nå¦‚æœæŠ¥é”™ï¼Œè¯·æ£€æŸ¥æ‹¼å†™ï¼ŒåŒæ—¶è¯·ç¡®ä¿ä¹‹å‰çš„æ­¥éª¤ æ›´æ¢å›½å†…è½¯ä»¶ä»“åº“é•œåƒæºåŠ å¿«ä¸‹è½½é€Ÿåº¦ ä¸­æ²¡æœ‰æ·»åŠ  archlinuxcn æºã€‚\n# 10. ç”Ÿæˆ fstab æ–‡ä»¶\n\nfstab ç”¨æ¥å®šä¹‰ç£ç›˜åˆ†åŒºã€‚å®ƒæ˜¯ Linux ç³»ç»Ÿä¸­é‡è¦çš„æ–‡ä»¶ä¹‹ä¸€ã€‚ä½¿ç”¨ genfstab è‡ªåŠ¨æ ¹æ®å½“å‰æŒ‚è½½æƒ…å†µç”Ÿæˆå¹¶å†™å…¥ fstab æ–‡ä»¶ï¼š\n\ngenfstab -U /mnt &gt; /mnt/etc/fstab\n\n\nå¤æŸ¥ä¸€ä¸‹ /mnt/etc/fstab ç¡®ä¿æ²¡æœ‰é”™è¯¯ï¼š\n\ncat /mnt/etc/fstab\n\n\nè‹¥ä¸º NVME åè®®çš„ç¡¬ç›˜ï¼Œè¾“å‡ºç»“æœåº”è¯¥ä¸æ­¤ç±»ä¼¼ï¼š\n# /dev/nvme0n1p6  /  btrfs  rw,relatime,compress=zstd:3,ssd,space_cache,subvolid=256,subvol=/@,subvol=@ 0 0\nUUID=d01a3ca5-0798-462e-9a30-97065e7e36e1 /  btrfs  rw,relatime,compress=zstd:3,ssd,space_cache,subvolid=256,subvol=/@,subvol=@  0 0\n\n# /dev/nvme0n1p1  /boot/efi vfat  rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=ascii,shortname=mixed,utf8,errors=remount-ro      0 2\nUUID=522C-80C6  /boot/efi vfat  rw,relatime,fmask=0022,dmask=0022,codepage=437,iocharset=ascii,shortname=mixed,utf8,errors=remount-ro 0 2\n\n# /dev/nvme0n1p6  /home btrfs rw,relatime,compress=zstd:3,ssd,space_cache,subvolid=257,subvol=/@home,subvol=@home 0 0\nUUID=d01a3ca5-0798-462e-9a30-97065e7e36e1 /home btrfs rw,relatime,compress=zstd:3,ssd,space_cache,subvolid=257,subvol=/@home,subvol=@home 0 0\n\n# /dev/nvme0n1p5  none  swap  defaults  0 0\nUUID=8e40dbed-590f-4cb8-80de-5cef8343a9fc none  swap  defaults  0 0\n\n# 11. change root\nä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŠŠç³»ç»Ÿç¯å¢ƒåˆ‡æ¢åˆ°æ–°ç³»ç»Ÿä¸‹ï¼š\narch-chroot /mnt\n\n\næ­¤æ—¶ï¼ŒåŸæ¥å®‰è£…ç›˜ä¸‹çš„ /mnt ç›®å½•å°±å˜æˆäº†æ–°ç³»ç»Ÿçš„ / ç›®å½•ã€‚åŒæ—¶ï¼Œå¯ä»¥å‘ç°å‘½ä»¤è¡Œçš„æç¤ºç¬¦é¢œè‰²å’Œæ ·å¼ä¹Ÿå‘ç”Ÿäº†æ”¹å˜ã€‚\n# 12. è®¾ç½®ä¸»æœºåä¸æ—¶åŒº\n\né¦–å…ˆåœ¨ /etc/hostname è®¾ç½®ä¸»æœºåï¼š\n\nvim /etc/hostname\n\n\nåŠ å…¥ä½ æƒ³ä¸ºä¸»æœºå–çš„ä¸»æœºåï¼Œè¿™é‡Œæ¯”å¦‚å« myarchã€‚\nâ„¹ï¸ æç¤º\nä¸»æœºåä¸è¦åŒ…å«ç‰¹æ®Šå­—ç¬¦ä»¥åŠç©ºæ ¼ã€‚\n\næ¥ä¸‹æ¥åœ¨ /etc/hosts è®¾ç½®ä¸å…¶åŒ¹é…çš„æ¡ç›®ï¼š\n\nvim /etc/hosts\n\nåŠ å…¥å¦‚ä¸‹å†…å®¹ï¼š\n127.0.0.1   localhost\n::1         localhost\n127.0.1.1   myarch.localdomain\tmyarch\n\n\nâ„¹ï¸ æç¤º\nä½ å¯ä»¥ä½¿ç”¨ Tab å¯¹é½ã€‚\nâ„¹ï¸ æç¤º\næŸäº›æƒ…å†µä¸‹å¦‚ä¸è®¾ç½®ä¸»æœºåï¼Œåœ¨ KDE ä¸‹å¯èƒ½ä¼šå­˜åœ¨ç½‘ç»œæƒ…å†µå˜æ›´æ—¶æ— æ³•å¯åŠ¨ GUI åº”ç”¨çš„é—®é¢˜ï¼Œåœ¨ç»ˆç«¯ä¸­å‡ºç°å½¢å¦‚ No protocol specified qt.qpa.xcb: could not connect to display çš„é”™è¯¯ã€‚è¿™ç§æƒ…å†µæä¸ºå°‘è§ã€‚\nä½†ä¸ç®¡å¦‚ä½•ï¼Œå³ä½¿æ²¡æœ‰é—®é¢˜ï¼Œæˆ‘ä»¬éƒ½åº”è¯¥è®¾ç½®å¥½ä¸»æœºåã€‚\n\néšåè®¾ç½®æ—¶åŒºï¼Œåœ¨ /etc/localtime ä¸‹ç”¨ /usr ä¸­åˆé€‚çš„æ—¶åŒºåˆ›å»ºç¬¦å·é“¾æ¥ï¼š\n\nln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n\n\n\n# ğŸ§ ç¢ç¢å¿µ\nä¸è¦æ‰¾åŒ—äº¬å•¦ï¼è¿™é‡Œæ²¡æœ‰åŒ—äº¬ï¼Œåªæœ‰ä¸Šæµ·å•¦ï¼ğŸš€\n\nâ„¹ï¸ æç¤º\nåŒæ—¶ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶å®ƒæ—¶åŒºï¼š\n\n# 13. ç¡¬ä»¶æ—¶é—´è®¾ç½®\nä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å°†ç³»ç»Ÿæ—¶é—´åŒæ­¥åˆ°ç¡¬ä»¶æ—¶é—´ï¼š\nhwclock --systohc\n\n# 14. è®¾ç½® Locale\nLocale å†³å®šäº†è½¯ä»¶ä½¿ç”¨çš„è¯­è¨€ã€ä¹¦å†™ä¹ æƒ¯å’Œå­—ç¬¦é›†ã€‚\n\nç¼–è¾‘ /etc/locale.genï¼Œå»æ‰ en_US.UTF-8 UTF-8 ä»¥åŠ zh_CN.UTF-8 UTF-8 è¡Œå‰çš„æ³¨é‡Šç¬¦å·ï¼ˆ#ï¼‰ï¼š\n\nvim /etc/locale.gen\n\n\n\nâ„¹ï¸ æç¤º\næœ‰å‡ ä¸ªé€‰é¡¹æå…·è¿·æƒ‘æ€§ï¼Œè¯·ä¸è¦å–æ¶ˆæ³¨é‡Šé”™äº†ã€‚\n\nç„¶åä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ç”Ÿæˆ localeï¼š\n\nlocale-gen\n\n\n\nå‘ /etc/locale.conf è¾“å…¥å†…å®¹ï¼š\n\necho &#039;LANG=en_US.UTF-8&#039;  &gt; /etc/locale.conf\n\nâš ï¸ æ³¨æ„\nä¸æ¨èåœ¨æ­¤è®¾ç½®ä»»ä½•ä¸­æ–‡ localeï¼Œä¼šå¯¼è‡´ tty ä¹±ç ã€‚\n# 15. ä¸º root ç”¨æˆ·è®¾ç½®å¯†ç \npasswd root\n\n\nâ„¹ï¸ æç¤º\næ ¹æ®æç¤ºæ“ä½œå³å¯ã€‚æ³¨æ„è¾“å…¥å¯†ç æ—¶ä¸ä¼šæ˜¾ç¤ºå“¦ï¼Œä¸è¦ä»¥ä¸º âŒ¨ é”®ç›˜åäº†ã€‚\n# 16. å®‰è£…å¾®ç \né€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…å¯¹åº”èŠ¯ç‰‡åˆ¶é€ å•†çš„å¾®ç ï¼š\npacman -S intel-ucode # Intel\npacman -S amd-ucode # AMD\n\nâ„¹ï¸ æç¤º\nğŸ‰ æ­å–œä½ ï¼è¿™æ˜¯ä½ åœ¨æ–°ç³»ç»Ÿä¸­ç¬¬ä¸€æ¬¡ä½¿ç”¨ pacman è½¯ä»¶åŒ…ç®¡ç†å™¨å®‰è£…è½¯ä»¶ï¼åœ¨è¿™é‡Œä¸€è·¯å›è½¦å®Œæˆå®‰è£…å³å¯ã€‚\nå¦‚æœä½ ä¸ä¼šä½¿ç”¨ï¼Œè¯·å‚é˜… è¿™é‡Œã€‚\n# 17. å®‰è£…å¼•å¯¼ç¨‹åº\nå¦‚æœ‰éœ€è¦å¯ä»¥å‚é˜… archWiki ç›¸å…³å†…å®¹\n\nã€‚\n\nå®‰è£…ç›¸åº”çš„åŒ…ï¼š\n\npacman -S grub efibootmgr os-prober\n\n\nğŸ“‘ å‘½ä»¤å‚æ•°è¯´æ˜ï¼š\n\n-S é€‰é¡¹åæŒ‡å®šè¦é€šè¿‡ pacman åŒ…ç®¡ç†å™¨å®‰è£…çš„åŒ…ï¼š\n\ngrub â€”â€” å¯åŠ¨å¼•å¯¼å™¨\nefibootmgr â€”â€” efibootmgr è¢« grub è„šæœ¬ç”¨æ¥å°†å¯åŠ¨é¡¹å†™å…¥ NVRAM\nos-prober â€”â€” ä¸ºäº†èƒ½å¤Ÿå¼•å¯¼ win10ï¼Œéœ€è¦å®‰è£… os-prober ä»¥æ£€æµ‹åˆ°å®ƒ\n\n\n\n\n\nå®‰è£… GRUB åˆ° EFI åˆ†åŒºï¼š\n\ngrub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=ARCH\n\n\nğŸ“‘ å‘½ä»¤å‚æ•°è¯´æ˜ï¼š\n\n--efi-directory=/boot/efi â€”â€” å°† grubx64.efi å®‰è£…åˆ°ä¹‹å‰çš„æŒ‡å®šä½ç½®ï¼ˆEFI åˆ†åŒºï¼‰\n--bootloader-id=ARCH â€”â€” å–åä¸º ARCH\n\n\n\n\næ¥ä¸‹æ¥ä½¿ç”¨ vim ç¼–è¾‘ /etc/default/grub æ–‡ä»¶ï¼š\n\nvim /etc/default/grub\n\nè¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š\n\nå»æ‰ GRUB_CMDLINE_LINUX_DEFAULT ä¸€è¡Œä¸­æœ€åçš„ quiet å‚æ•°\næŠŠ loglevel çš„æ•°å€¼ä» 3 æ”¹æˆ 5ã€‚è¿™æ ·æ˜¯ä¸ºäº†åç»­å¦‚æœå‡ºç°ç³»ç»Ÿé”™è¯¯ï¼Œæ–¹ä¾¿æ’é”™\nåŠ å…¥ nowatchdog å‚æ•°ï¼Œè¿™å¯ä»¥æ˜¾è‘—æé«˜å¼€å…³æœºé€Ÿåº¦\n\n\n\nä¸ºäº†å¼•å¯¼ win10ï¼Œåˆ™è¿˜éœ€è¦æ·»åŠ æ–°çš„ä¸€è¡Œ GRUB_DISABLE_OS_PROBER=false\n\n# GRUB boot loader configuration\n\nGRUB_DEFAULT=0\nGRUB_TIMEOUT=5\nGRUB_DISTRIBUTOR=&quot;Arch&quot;\nGRUB_CMDLINE_LINUX_DEFAULT=&quot;loglevel=5 nowatchdog&quot;\nGRUB_CMDLINE_LINUX=&quot;&quot;\nGRUB_DISABLE_OS_PROBER=false\n...\n\n\næœ€åç”Ÿæˆ GRUB æ‰€éœ€çš„é…ç½®æ–‡ä»¶ï¼š\n\ngrub-mkconfig -o /boot/grub/grub.cfg\n\n\nè‹¥å¼•å¯¼äº† win10ï¼Œåˆ™è¾“å‡ºåº”è¯¥åŒ…å«å€’æ•°ç¬¬äºŒè¡Œï¼š\n\nâ„¹ï¸ æç¤º\nåœ¨æŸäº›ä¸»æ¿å®‰è£…å®Œæˆåï¼Œä½ ä¼šå‘ç°æ²¡æœ‰å¯åŠ¨æ¡ç›®ã€‚è¿™æ˜¯å› ä¸ºæŸäº›ä¸»æ¿çš„ UEFI å›ºä»¶åœ¨æ˜¾ç¤º UEFI NVRAM å¼•å¯¼æ¡ç›®ä¹‹å‰ï¼Œéœ€è¦åœ¨ç‰¹å®šçš„ä½ç½®å­˜æ”¾å¯å¼•å¯¼æ–‡ä»¶ï¼Œä¸æ”¯æŒè‡ªå®šä¹‰å­˜æ”¾ efi æ–‡ä»¶ï¼ˆå¦‚å¾®æ˜Ÿ Z170-A Gaming PROï¼‰ã€‚è§£å†³æ–¹æ¡ˆæ˜¯åœ¨é»˜è®¤å¯åŠ¨è·¯å¾„ä¸‹å®‰è£… GRUBã€‚é‡æ–°æ’å…¥å®‰è£…ä¼˜ç›˜ï¼ŒæŒ‰åŸå…ˆé¡ºåºæŒ‚è½½ç›®å½•ï¼ˆä¸éœ€è¦å†æ¬¡åˆ›å»ºæ–‡ä»¶å¤¹äº†ï¼‰ï¼Œchroot åˆ° /mntï¼Œç„¶åä½ å¯ä»¥ç›´æ¥æŠŠå·²ç»ç”Ÿæˆå¥½çš„ efi æ–‡ä»¶ç§»åŠ¨åˆ°é»˜è®¤ç›®å½•ä¸‹ï¼Œå¦‚ä¸‹å‘½ä»¤æ‰€ç¤ºã€‚åªæœ‰å®‰è£…å®Œæˆåä½ çš„ä¸»æ¿ä¸å‡ºç°å¯åŠ¨æ¡ç›®æ‰éœ€è¦å°è¯•å¦‚ä¸‹å‘½ä»¤ï¼Œæ­£å¸¸å®‰è£…æ— éœ€æ‰§è¡Œã€‚å¦‚æœ‰éœ€è¦å¯ä»¥å‚è€ƒ archWiki å¯¹åº”å†…å®¹\n\nã€‚\nmkdir -p /boot/efi/EFI/BOOT\nmv /boot/efi/EFI/GRUB/grubx64.efi /boot/efi/EFI/BOOT/BOOTX64.EFI\n\n# 18. å®Œæˆå®‰è£…\n\nè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š\n\nexit # é€€å›å®‰è£…ç¯å¢ƒ\numount -R /mnt # å¸è½½æ–°åˆ†åŒº\nreboot # é‡å¯\n\n\næ³¨æ„ï¼Œé‡å¯å‰è¦å…ˆæ‹”æ‰ä¼˜ç›˜ï¼Œå¦åˆ™ä½ é‡å¯åè¿˜æ˜¯è¿›å®‰è£…ç¨‹åºè€Œä¸æ˜¯å®‰è£…å¥½çš„ç³»ç»Ÿã€‚\nâ„¹ï¸ æç¤º\nè™šæ‹Ÿæœºç›´æ¥é‡å¯å³å¯ã€‚\n\nå¦‚å›¾å³ä¸º GRUB å¼•å¯¼ç•Œé¢ã€‚\nâ„¹ï¸ æç¤º\nè‹¥å¼•å¯¼äº† win10 ä¹Ÿä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚\nâ„¹ï¸ æç¤º\nè‹¥ win10 åˆ†åŒºä½¿ç”¨äº† ğŸ” Bitlocker åŠ å¯†ï¼Œåˆ™ç¬¬ä¸€æ¬¡ä» GRUB è¿›å…¥éœ€è¦è¾“å…¥è§£é”å¯†é’¥ã€‚\nä½ åº”è¯¥åœ¨æ­¥éª¤ 5. è·å– Bitlocker æ¢å¤å¯†é’¥ ä¸­å·²ç»çŸ¥æ™“äº† Bitlocker è§£é”å¯†é’¥ã€‚\nè‹¥æ— æ³•ä» aka.ms ç›¸å…³é¡µé¢ è·å–è§£é”å¯†é’¥ï¼Œè¯·å°è¯•åœ¨ BIOS ä¸­å°† Windows Boot Manager ç§»åŠ¨åˆ°å¯åŠ¨é¡ºåºé¦–ä½å†å°è¯•è¿›å…¥ win10ã€‚\n\né‡å¯åä½¿ç”¨ root è´¦æˆ·ç™»å½•ç³»ç»Ÿï¼š\n\n\n\nè®¾ç½®å¼€æœºè‡ªå¯å¹¶ç«‹å³å¯åŠ¨ dhcp æœåŠ¡ï¼Œå³å¯è¿æ¥ç½‘ç»œï¼š\n\nsystemctl enable --now dhcpcd # è®¾ç½®å¼€æœºè‡ªå¯å¹¶ç«‹å³å¯åŠ¨ dhcp æœåŠ¡\nping www.bilibili.com # æµ‹è¯•ç½‘ç»œè¿æ¥\n\n\n\nè‹¥ä¸ºæ— çº¿è¿æ¥ï¼Œåˆ™è¿˜éœ€è¦å¯åŠ¨ iwd æ‰å¯ä»¥ä½¿ç”¨ iwctl è¿æ¥ç½‘ç»œï¼š\n\nsystemctl start iwd # ç«‹å³å¯åŠ¨ iwd\niwctl # å’Œä¹‹å‰çš„æ–¹å¼ä¸€æ ·ï¼Œè¿æ¥æ— çº¿ç½‘ç»œ\n\n\nneofetch å¯ä»¥å°†ç³»ç»Ÿä¿¡æ¯å’Œå‘è¡Œç‰ˆ logo ä¸€å¹¶æ‰“å°å‡ºæ¥ã€‚é€šè¿‡ pacman å®‰è£… neofetchï¼š\n\npacman -S neofetch\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Arch/arch-tty-è‡ªåŠ¨ç™»é™†":{"title":"arch tty è‡ªåŠ¨ç™»é™†","links":[],"tags":["TODO","tty"],"content":"èµ·åº”æ˜¯ä¸æƒ³ç”¨ lightdm/gdm ä¹‹ç±»çš„ç™»å½•ç®¡ç†å™¨\næˆ‘ç”¨çš„ zshï¼Œå…ˆåœ¨ç”¨æˆ·çš„~/. zprofile åŠ å…¥ï¼Œå¦‚æœæ˜¯ bash åˆ™æ˜¯~/. bash_profile\nif [[ -z $DISPLAY ]] &amp;&amp; [[ $(tty) = /dev/tty1 ]]; then\n\texec startx\nfi\nç„¶åç¼–è¾‘ä½ çš„\n**/etc/systemd/system/getty. target. wants/ getty@tty1.service **\n[Service]\r\n# the VT is cleared by TTYVTDisallocate\r\n# The &#039;-o&#039; option value tells agetty to replace &#039;login&#039; arguments with an\r\n# option to preserve environment (-p), followed by &#039;--&#039; for safety, and then\r\n# the entered username.\r\n# åŸæ¥æ˜¯\r\nExecStart=-/sbin/agetty -a &lt;user&gt; -o &#039;-p -- \\\\u&#039; --noclear %I $TERM\r\n# æ”¹æˆï¼Œå°±æ˜¯åŠ ä¸€ä¸ª -a å‚æ•°ï¼Œåé¢è·Ÿä½ çš„ç”¨æˆ·å\r\nExecStart=-/sbin/agetty -a &lt;user&gt; -o &#039;-p -- \\\\u&#039; --noclear %I $TERM\r\nType=idle\n\nç„¶åæ‰§è¡Œ\nsystemctl daemon-reload\r\n\r\n\r\nsystemctl start getty@tty1.service\n\nè¿™æ ·è®¾ç½®ä¹‹åå¯åŠ¨è¿˜éœ€è¦è¾“å…¥ä¸€æ¬¡å¯†ç ï¼Œå¦‚æœæƒ³è·³è¿‡å¯†ç åˆ™\nç¼–è¾‘ /etc/pam. d/system-local-login\n#%PAM-1.0\r\n\r\n# åŠ å…¥ä¸‹é¢è¿™ä¸€è¡Œï¼Œå…¶ä¸­æœ€åçš„ **c** ä»£è¡¨çš„æ˜¯ä½ çš„ç”¨æˆ·æ‰€åœ¨çš„ç”¨æˆ·ç»„ï¼Œä¸€èˆ¬åˆ›å»ºç”¨æˆ·çš„æ—¶å€™ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåŒåçš„ç”¨æˆ·ç»„\r\n\r\nauth sufficient pam_succeed_if.so user ingroup c\r\nauth      include   system-login\r\naccount   include   system-login\r\npassword  include   system-login\r\nsession   include   system-login\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Arch/archlinux-devtools":{"title":"archlinux devtools","links":["Eä¸´æ—¶ç¬”è®°/truncate"],"tags":["archlinux","devtools"],"content":"Arch åŒ…æ„å»º\nåˆ›å»ºç¯å¢ƒ\nmakepkg ä¹Ÿå¯ä»¥æ‰“åŒ…ï¼Œä½†æ˜¯å®ƒä½¿ç”¨çš„æ˜¯æœ¬åœ°çš„ç¯å¢ƒï¼Œæ— æ³•éªŒè¯ç›¸å…³ä¾èµ–æ˜¯å¦æ­£ç¡®ã€‚\r\nä½¿ç”¨devtoolså¯ä»¥åˆ›å»ºä¸€ä¸ªå¹²å‡€çš„è™šæ‹Ÿç¯å¢ƒã€‚\n\n\n                  \n                  ä¸å†æ¨èä½¿ç”¨ä»¥ä¸‹æ–¹æ³• \n                  \n                \n\nå»ºè®®ç›´æ¥ä½¿ç”¨ devtools æä¾›çš„å¿«æ·è„šæœ¬\n\n\n# å®šä¹‰ç¯å¢ƒå˜é‡\nCHROOT=$HOME/.chroot\nmkdir ~/.chroot\n \n# åˆ›å»ºåˆå§‹ç¯å¢ƒ\n# åœ¨ btrfs ä¸Šï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°å­å·ï¼Œåˆ é™¤å®ƒ btrfs subvolume delete $CHROOT/root\n# @TODOï¼šè¿™é‡Œæ·»åŠ äº† base åŒ…ï¼Œä»¥ç¡®ä¿åç»­æ›´æ–°ç¯å¢ƒæ­£å¸¸\nmkarchroot $CHROOT/root base base-devel\n \n# æ›´æ–°ç¯å¢ƒ\narch-nspawn $CHROOT/root pacman -Syu\næ‰“åŒ…\nåœ¨åŒ…å«PKGBUILDæ–‡ä»¶ç›®å½•ä¸‹ï¼Œè¿è¡Œï¼š\nmakechrootpkg -c -r $CHROOT\nUsage: makechrootpkg [options] -r &lt;chrootdir&gt; [--] [makepkg args]\r\n...\r\n...\r\nDefault makepkg args: --syncdeps --noconfirm --log --holdver --skipinteg\r\n\r\nFlags:\r\n-h         This help\r\n-c         Clean the chroot before building\r\n-d &lt;dir&gt;   Bind directory into build chroot as read-write\r\n-D &lt;dir&gt;   Bind directory into build chroot as read-only\r\n-t &lt;dir[:opts]&gt;   Mount a tmpfs at directory\r\n-u         Update the working copy of the chroot before building\r\n           This is useful for rebuilds without dirtying the pristine\r\n           chroot\r\n-r &lt;dir&gt;   The chroot dir to use\r\n-I &lt;pkg&gt;   Install a package into the working copy of the chroot\r\n-l &lt;copy&gt;  The directory to use as the working copy of the chroot\r\n           Useful for maintaining multiple copies\r\n           Default: chauncey\r\n-n         Run namcap on the package\r\n-C         Run checkpkg on the package\r\n-T         Build in a temporary directory\r\n-U         Run makepkg as a specified user\n\n\n\n                  \n                  Note\n                  \n                \n\nè¿™ä¸ªè™šæ‹Ÿçš„ç¯å¢ƒä¼šå¤åˆ¶æœ¬åœ°ç³»ç»Ÿçš„ pacman hook æ–‡ä»¶\n\n\n\n\n                  \n                  Note\n                  \n                \n\nè¿™äº›å‘½ä»¤éƒ½æ˜¯ä¾é åº•å±‚çš„ makepkg ï¼Œéœ€è¦ä¼ é€’å‚æ•°ç»™ makepkgï¼Œä½¿ç”¨\r\ncommand -- [options]\n\n\nåŠ é€Ÿ\nä¸ºäº†é¿å…å…¶ä»–è½¯ä»¶çš„ä¾èµ–å½±å“æ‰“åŒ…ç¯å¢ƒï¼Œarch æä¾›äº† devtools æ¥é…ç½®å¹²å‡€çš„\r\nè™šæ‹Ÿç³»ç»Ÿç¯å¢ƒã€‚\n\nå®‰è£… sudo pacman -Sy devtools\n\næ¯æ¬¡é‡æ–°å‡†å¤‡å¹²å‡€ chroot çš„è¿‡ç¨‹ç‰¹åˆ«æ…¢ï¼Œå¦‚ä½•å¯ä»¥æé€Ÿå‘¢ï¼Ÿ\r\nå¯ä»¥è€ƒè™‘ä½¿ç”¨ truncate åšä¸€ä¸ª btrfs é•œåƒæŒ‚è½½åˆ° /var/lib/archbuildï¼Œ\r\ndevtools ä¼šè‡ªåŠ¨ä½¿ç”¨ btrfs æ¥åŠ é€Ÿè¿™ä¸ªè¿‡ç¨‹ã€‚å‚è€ƒåˆ¶ä½œè¿‡ç¨‹ï¼š\nsudo truncate -s 100G /var/archbuild.img\nsudo mkfs.btrfs /var/archbuild.img\nsudo mount -o discard,compress=lzo,autodefrag /var/archbuild.img /var/lib/archbuild\necho &quot;/var/archbuild.img /var/lib/archbuild btrfs defaults,discard,compress=lzo,autodefrag 0 0&quot; | sudo tee /etc/fstab\n\n\n                  \n                  Note\n                  \n                \n\nå¦‚æœæœ¬èº«å°±æ˜¯ btrfs æ–‡ä»¶ç³»ç»Ÿï¼Œæ˜¯å¦å°±ä¸éœ€è¦è¿™ä¸ªæ­¥éª¤äº†\r\nåœ¨åˆ›å»º CHROOT æ—¶ï¼Œè‡ªåŠ¨åˆ›å»ºäº†ä¸€ä¸ªå­å·ï¼Œåº”è¯¥å°±æ˜¯ç”¨æ¥åŠ é€Ÿçš„\n\n\nå‚è€ƒ\n\nArchwiki: Building in a clean chroot\nåœ¨å¹²å‡€çš„ç¯å¢ƒé‡Œç¼–è¯‘è½¯ä»¶åŒ…\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Arch/é—®é¢˜":{"title":"é—®é¢˜","links":[],"tags":[],"content":"www.reddit.com/r/archlinux/comments/rqcg7v/every_single_patched_nerd_font_has_alignment/"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Boot-A-ISO":{"title":"Boot A ISO","links":["Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/systemd-boot"],"tags":["boot","linux","systemd-boot"],"content":"Boot a .iso directly using systemd-boot\n\nPretty self-explanatory.\nIâ€™m using systemd-boot, and my esp is /boot.\nI want to run the official archlinux.iso directly from my /boot partition.\nSteps:\nmount archlinux.iso and copy &quot;vmlinux-linuz&quot; + &quot;initramfs-linux.img&quot; to a newly-created directory at /boot ( eg. /boot/live)\r\n\r\ncopy the archlinux.iso to /boot\r\n\r\ncreate the /boot/loader/entries/live.conf entry with:\n\ntitle Archlinux Live\n \nlinux /live/vmlinuz-linux\n \ninitrd /live/initramfs-linux.img\n \noptions img_dev=/dev/nvme0n1p1 img_loop=archlinux.iso copytoram\n(replace â€œnvme0n1p1â€ and â€œarchlinuxâ€ above, accordingly)\nThis way, you can chroot into your system, at any given time, without the need of a bootable usb flash drive.\nRefferences\nwww.reddit.com/r/archlinux/comments/qy281v/boot_an_archlinux_iso_directly_from_my_boot_using/"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Linux-å­—ä½“è°ƒæ•™":{"title":"Linux å­—ä½“è°ƒæ•™","links":[],"tags":["TODO","linux","font"],"content":"Linux å­—ä½“è°ƒæ•™\n\nå­—ä½“ç±»å‹\n\n\næ— è¡¬çº¿å­—ä½“ï¼ˆsans-serifï¼‰\n\n\nè¡¬çº¿å­—ä½“ï¼ˆserifï¼‰\n\n\nç­‰å®½å­—ä½“ï¼ˆmonospaceï¼‰\n\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Linux-æƒé™ç®¡ç†":{"title":"Linux æƒé™ç®¡ç†","links":[],"tags":["Linux","Doc","TODO"],"content":"Linux æƒé™ç®¡ç†\né¦–å…ˆï¼Œæ˜ç¡® Linux ä¸­çš„ä¸€åˆ‡éƒ½æ˜¯æ–‡ä»¶ï¼Œé‚£ä¹ˆæƒé™ç®¡ç†å°±æ˜¯é’ˆå¯¹æ–‡ä»¶çš„ç®¡ç†ã€‚\r\nå¹¶ä¸”ç”±äº Linux æœ¬èº«æ˜¯ä¸€æ¬¾å¤šç”¨æˆ·çš„æ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥ä»–çš„æƒé™ç®¡ç†ååˆ†å®Œå–„ã€‚\nç”¨æˆ·å’Œç”¨æˆ·ç»„\nArch Linux çš„ç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†å·¥å…·æ¥è‡ªäºåŒ…shadow.\nç”¨æˆ·ç®¡ç†\næŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·ï¼š\ncat /etc/passwd\næ–°å¢ç”¨æˆ·ï¼š\nuseradd -m -G -s [login_shell] [user_name]\n-m / --create-home\r\nç”¨æˆ·çš„å®¶ç›®å½•/home/[user_name], å®¶ç›®å½•ä¼šè¢« /etc/skel/ ä¸‹çš„æ–‡ä»¶å¡«å…….\r\n-G / --groups\r\nç”¨æˆ·æ‰€å±ç”¨æˆ·ç»„.\r\n-s / --shell\r\nç”¨æˆ·çš„ç™»å½•shellè·¯å¾„.\n\n\n                  \n                  å¦‚æœéœ€è¦ç™»å½•ï¼Œè®¾ç½®çš„ç™»å½• shell å¿…é¡»åŒ…å«åœ¨ /etc/shells,\n                  \n                \n\nå¦åˆ™ PAM çš„ pam_shells æ¨¡å—ä¼šæ‹’ç»ç™»å½•è¯·æ±‚ã€‚\n\n\næ·»åŠ ç³»ç»Ÿç”¨æˆ·ï¼š\nuseradd --system -s /usr/bin/nologin [username]\nç›¸å…³å‘½ä»¤:\r\nuseradd, userdel, usermod\nç”¨æˆ·ç»„ç®¡ç†\næŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·ç»„ï¼š\ncat /etc/group\næ–‡ä»¶å±æ€§å’Œæƒé™\n\nACL"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Linux-ç³»ç»Ÿæ•°æ®":{"title":"Linux ç³»ç»Ÿæ•°æ®","links":[],"tags":["TODO"],"content":"Linux ç³»ç»Ÿæ•°æ®æ”¶é›†ä¸åˆ†æ\nPrometheus\nPrometheus æ˜¯ä¸€æ¬¾åŸºäºæ—¶åºæ•°æ®åº“çš„å¼€æºç›‘æ§å‘Šè­¦ç³»ç»Ÿï¼Œè´Ÿè´£æ”¶é›†å’Œå­˜å‚¨æŒ‡æ ‡æ•°æ®ï¼Œæ”¯æŒè¡¨è¾¾å¼æŸ¥è¯¢ï¼Œå’Œå‘Šè­¦çš„ç”Ÿæˆã€‚\n\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Linux-ç½‘ç»œç®¡ç†":{"title":"Linux ç½‘ç»œç®¡ç†","links":["Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/systemd","Eä¸´æ—¶ç¬”è®°/systemd-networkd","Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Tools/iwd","Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/smartdns","Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/iproute2"],"tags":["doc","network","systemd","linux","dns","smartdns"],"content":"ç½‘ç»œç®¡ç†\nsystemd ç›®å‰æ­£åœ¨ç»Ÿä¸€ Linux, å¹¶ä¸”å¤šæ•°å‘è¡Œç‰ˆå·²é‡‡ç”¨ systemd æ›¿ä»£ä»¥å‰çš„ init ï¼›\r\nå½“å‰çš„æ€è·¯æ˜¯é‡‡ç”¨æœ€å°‘çš„è½¯ä»¶ï¼Œæœ€å°ä¾èµ–ï¼Œå¹¶ä¸”å®˜æ–¹æ”¯æŒçš„æ–¹æ¡ˆã€‚\r\nLinux å°†ä½¿ç”¨ systemd-networkd ç®¡ç†ç½‘ç»œï¼Œæ— çº¿ç½‘é…åˆ iwd ä½¿ç”¨ï¼Œæœ¬åœ°é…ç½® smartdns ä½œ DNS ç¼“å­˜ã€‚\n\n\n                  \n                  Warning\n                  \n                \n\nè¿™é‡Œä¸»è¦ä»‹ç»é…ç½®æœ‰çº¿ç½‘ç»œï¼Œä»¥åŠæ— çº¿ç½‘ç»œçš„è¿‡ç¨‹ã€‚åœ¨å¼€å§‹é…ç½®å‰ï¼Œéœ€è¦æŠŠæ­£åœ¨ä½¿ç”¨çš„ç½‘ç»œç®¡ç†æœåŠ¡åœæ­¢æ‰ï¼Œä»¥é¿å…å‡ºç°å†²çªã€‚\n\n\n\nç½‘ç»œå·¥å…·\niproute2\næœ‰çº¿ç½‘ç»œ\næœ‰çº¿ç½‘ç»œä¸»è¦é…ç½®æ—¶ï¼Œè€ƒè™‘åˆ°å¯èƒ½ä½¿ç”¨æ‰‹æœº usb è¿æ¥å…±äº«æ”¶é›†çš„ç½‘ç»œï¼Œä¸ºäº†ä¿æŒå‘½åçš„ä¸€è‡´æ€§ï¼Œ\r\né€šè¿‡ bridge æ¥å½’ä¸€åŒ–æ‰€æœ‰æœ‰çº¿è¿æ¥ã€‚é…ç½®å¦‚ä¸‹ï¼š\n-. å°†æ‰€æœ‰æœ‰çº¿è¿æ¥éƒ½ä½œä¸º br0 çš„åº•å±‚è®¾å¤‡\n# /etc/systemd/network/20-ethernet.network\n[Match]\nName=en*\nName=eth*\n \n[Network]\nBridge=br0\n\n\n                  \n                  &gt; en* é…ä»¥ en å¼€å¤´çš„æ‰€æœ‰è®¾å¤‡ã€‚\n                  \n                \n\n-. å®šä¹‰ br0 è®¾å¤‡\n# /etc/systemd/network/20-br0.netdev\n[NetDev]\nName=br0\nKind=bridge\n-. é…ç½® br0 çš„ç½‘ç»œ\r\nè¿™é‡Œé‡‡ç”¨äº† DHCP çš„æ–¹å¼è·å– ipï¼Œç”±äºæˆ‘é‡‡ç”¨äº†ç‹¬ç«‹çš„ DNS è§£æï¼Œè¿™é‡Œé…ç½®ä¸ä½¿ç”¨ DNS.\n# /etc/systemd/network/20-br0.network\n[Match]\nName=br0\n \n[Network]\nDHCP=yes\nIPForward=yes\nIPv6AcceptRA=yes\nIPv6PrivacyExtensions=no\n \n[DHCPv4]\nUseDNS=false\nRouteMetric=400\n \n[DHCPv6]\nUseDNS=false\nRouteMetric=400\n \n[Route]\nGateway=_dhcp4\n \nä»¥ä¸Šæ˜¯æœ‰çº¿ç½‘ç»œçš„æ‰€æœ‰é…ç½®ã€‚\næ— çº¿ç½‘ç»œ\næ¥ä¸‹æ¥æ˜¯æ— çº¿ç½‘ç»œçš„é…ç½®ï¼Œæ— çº¿ç½‘ç»œé‡‡ç”¨ iwd æ¥ç®¡ç† wifiã€‚\n-. å®‰è£… iwd\n# archlinux\nsudo pacman -S iwd\n-. å¯åŠ¨ iwd æœåŠ¡\nsystemctl enable --now iwd.service\n-. è®¾ç½®æ— çº¿ç½‘ç»œçš„é…ç½®\n# /etc/systemd/network/25-wireless.network\n[Match]\nName=wl*\n \n[Network]\nDHCP=yes\nIPForward=yes\nIPv6AcceptRA=yes\nIPv6PrivacyExtensions=no\n \n[DHCPv4]\nUseDNS=false\nRouteMetric=400\n \n[DHCPv6]\nUseDNS=false\nRouteMetric=400\n \n[Route]\nGateway=_dhcp4\n \n\n\n                  \n                  Note\n                  \n                \n\næœ‰çº¿ç½‘ç»œå’Œæ— çº¿ç½‘ç»œçš„ RouteMetric çš„å€¼æ˜¯ä¸åŒçš„ï¼Œåº”è¯¥ä¼˜å…ˆä½¿ç”¨æœ‰çº¿ç½‘ç»œã€‚\n\n\nå¯åŠ¨æœåŠ¡\nä½¿ç”¨ systemctl start systemd-networkd å¯åŠ¨æœåŠ¡ï¼Œçœ‹é…ç½®æ˜¯å¦ç”Ÿæ•ˆï¼Œç½‘ç»œæ˜¯å¦æ­£å¸¸ã€‚\r\nåœ¨ç½‘ç»œæ­£å¸¸åï¼Œé€šè¿‡ä¸‹é¢å‘½ä»¤è®¾ç½®å¼€æœºè‡ªå¯åŠ¨ï¼Œå®Œæˆæ‰€æœ‰é…ç½®ã€‚\nsystemctl enable --now iwd.service\nsystemctl enable --now systemd-networkd.service\n\n\n                  \n                  Note\n                  \n                \n\nåœ¨ /usr/lib/systemd/system/systemd-networkd-wait-online.service ä¸­ ExecStart åé¢\r\nåŠ ä¸Š --anyã€‚é¿å…å› ä¸ºå¤šä¸ªç½‘ç»œæ¥å£ï¼Œå¯¼è‡´å…¶ä»–æœåŠ¡å»¶è¿Ÿã€‚\n\n\nDNS\nsmartdns\n-. å®‰è£…\n# archlinux\nsudo pacman -S smartdns\n-. ç®€å•é…ç½®\n# ä¾èµ– smartdns-china-list-git åŒ…\n# ï¼ˆå¯é€‰ï¼‰å¼•å…¥é¢å¤–çš„è§„åˆ™åˆ—è¡¨ï¼Œç”¨ç»å¯¹è·¯å¾„\nconf-file /etc/smartdns/anti-ad-smartdns.conf\nconf-file /etc/smartdns/accelerated-domains.china.smartdns.conf\nconf-file /etc/smartdns/apple.china.smartdns.conf\nconf-file /etc/smartdns/google.china.smartdns.conf\n \n# æœ¬åœ°ç›‘å¬ç«¯å£\nbind [::]:53\n \n# å¯ç”¨æµ‹é€Ÿ\nspeed-check-mode ping,tcp:80,tcp:443\n \n# å®Œå…¨ç¦ç”¨ IPv6\nforce-AAAA-SOA yes\n# å¯ç”¨åŒæ ˆä¼˜é€‰\n#dualstack-ip-selection yes\n#dualstack-ip-selection-threshold 15\n \n# log\nlog-level info\nlog-size 512M\n \n# ç¼“å­˜å¤§å°\n# cache-size 4096\n# æŒä¹…åŒ–ç¼“å­˜\ncache-persist yes\n# ç¼“å­˜æ–‡ä»¶å­˜æ”¾ä½ç½®\ncache-file /var/cache/smartdns.cache\n# ç¼“å­˜é¢„è·å–\nprefetch-domain yes\n# è¿‡æœŸç¼“å­˜\nserve-expired yes\n \n# server\n# é˜¿é‡Œ\nserver-tls dns.alidns.com -group china\n# è…¾è®¯\nserver-tls dot.pub -group china\n# 360\nserver-tls dot.360.cn -group china\n# Google\nserver-tls dns.google\n-. å¯åŠ¨\nsudo systemctl enable --now smartdns.service\nReferences\nä½¿ç”¨ systemd-networkd ç®¡ç†ç½‘ç»œ\r\nlinux.cn/lfs/LFS-BOOK-7.7-systemd/chapter07/network.html\r\nwiki.archlinux.org/title/Dnsmasq\r\nwiki.archlinux.org/title/Systemd-resolved\r\nwiki.archlinux.org/title/Systemd-networkd"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Linux-ç¾åŒ–":{"title":"Linux ç¾åŒ–","links":[],"tags":[],"content":"\nCursor\nå¦‚æœæ²¡æœ‰è®¾ç½®å…‰æ ‡ä¸»é¢˜ï¼Œé»˜è®¤ä½¿ç”¨ default,\n\n~/.local/share/icons/default/\n~/.icons/default/\n/usr/share/icons/default/ (system-wide)\n\nIcons\né»˜è®¤å›¾æ ‡æ˜¯ hicolor\n/usr/share/icons/hicolor"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Linux-è™šæ‹Ÿæœº":{"title":"Linux è™šæ‹Ÿæœº","links":["Eä¸´æ—¶ç¬”è®°/kvm"],"tags":["TODO","qemu","kvm","Linux","Doc"],"content":"Linux è™šæ‹Ÿæœº\nQEMU/KVM è™šæ‹ŸåŒ–\nQEMU/KVM æ˜¯ç›®å‰æœ€æµè¡Œçš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå®ƒåŸºäº Linux å†…æ ¸æä¾›çš„ kvm æ¨¡å—ï¼Œç»“æ„ç²¾ç®€ï¼Œæ€§èƒ½æŸå¤±å°ï¼Œè€Œä¸”å¼€æºå…è´¹ï¼Œå› æ­¤æˆäº†å¤§éƒ¨åˆ†ä¼ä¸šçš„é¦–é€‰è™šæ‹ŸåŒ–æ–¹æ¡ˆã€‚\nç›®å‰å„å¤§äº‘å‚å•†çš„è™šæ‹ŸåŒ–æ–¹æ¡ˆï¼Œæ–°çš„æœåŠ¡å™¨å®ä¾‹åŸºæœ¬éƒ½æ˜¯ç”¨çš„ KVM æŠ€æœ¯ã€‚å³ä½¿æ˜¯èµ·æ­¥æœ€æ—©ï¼Œä¸€ç›´é‡åº¦ä½¿ç”¨ Xen çš„ AWSï¼Œä» EC2 C5 å¼€å§‹å°±æ”¹ç”¨äº†åŸºäº KVM å®šåˆ¶çš„ Nitro è™šæ‹ŸåŒ–æŠ€æœ¯ã€‚\nä½†æ˜¯ KVM ä½œä¸ºä¸€ä¸ªä¼ä¸šçº§çš„åº•å±‚è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œå´æ²¡æœ‰å¯¹æ¡Œé¢ä½¿ç”¨åšæ·±å…¥çš„ä¼˜åŒ–ï¼Œå› æ­¤å¦‚æœæƒ³æŠŠå®ƒå½“æˆæ¡Œé¢è™šæ‹ŸåŒ–è½¯ä»¶æ¥ä½¿ç”¨ï¼Œæ›¿ä»£æ‰ VirtualBox/VMwareï¼Œæœ‰ä¸€å®šéš¾åº¦ã€‚\næœ¬æ–‡æ˜¯æˆ‘ä¸ªäººå­¦ä¹  KVM çš„ä¸€ä¸ªæ€»ç»“æ€§æ–‡æ¡£ï¼Œå…¶ç›®æ ‡æ˜¯ä½¿ç”¨ KVM ä½œä¸ºæ¡Œé¢è™šæ‹ŸåŒ–è½¯ä»¶ã€‚\nä¸€ã€å®‰è£… QUEU/KVM\nQEMU/KVM ç¯å¢ƒéœ€è¦å®‰è£…å¾ˆå¤šçš„ç»„ä»¶ï¼Œå®ƒä»¬å„å¸å…¶èŒï¼š\n\nqemu: æ¨¡æ‹Ÿå„ç±»è¾“å…¥è¾“å‡ºè®¾å¤‡ï¼ˆç½‘å¡ã€ç£ç›˜ã€USB ç«¯å£ç­‰ï¼‰, åº•å±‚ä½¿ç”¨ kvm æ¨¡æ‹Ÿ CPU å’Œ RAMï¼Œæ¯”è½¯ä»¶æ¨¡æ‹Ÿçš„æ–¹å¼å¿«å¾ˆå¤šã€‚\nlibvirt: æä¾›ç®€å•ä¸”ç»Ÿä¸€çš„å·¥å…·å’Œ APIï¼Œç”¨äºç®¡ç†è™šæ‹Ÿæœºï¼Œå±è”½äº†åº•å±‚çš„å¤æ‚ç»“æ„ã€‚ï¼ˆæ”¯æŒ qemu-kvm/virtualbox/vmwareï¼‰\novmf: ä¸ºè™šæ‹Ÿæœºå¯ç”¨ UEFI æ”¯æŒ\nvirt-manager: ç”¨äºç®¡ç†è™šæ‹Ÿæœºçš„ GUI ç•Œé¢ï¼ˆå¯ä»¥ç®¡ç†è¿œç¨‹ kvm ä¸»æœºï¼‰ã€‚\nvirt-viewer: é€šè¿‡ GUI ç•Œé¢ç›´æ¥ä¸è™šæ‹Ÿæœºäº¤äº’ï¼ˆå¯ä»¥ç®¡ç†è¿œç¨‹ kvm ä¸»æœºï¼‰ã€‚\ndnsmasq vde2 bridge-utils openbsd-netcat: ç½‘ç»œç›¸å…³ç»„ä»¶ï¼Œæä¾›äº†ä»¥å¤ªç½‘è™šæ‹ŸåŒ–ã€ç½‘ç»œæ¡¥æ¥ã€NAT ç½‘ç»œç­‰è™šæ‹Ÿç½‘ç»œåŠŸèƒ½ã€‚\n\ndnsmasq æä¾›äº† NAT è™šæ‹Ÿç½‘ç»œçš„ DHCP åŠ DNS è§£æåŠŸèƒ½ã€‚\nvde2: ä»¥å¤ªç½‘è™šæ‹ŸåŒ–\nbridge-utils: é¡¾åæ€ä¹‰ï¼Œæä¾›ç½‘ç»œæ¡¥æ¥ç›¸å…³çš„å·¥å…·ã€‚\nopenbsd-netcat: TCP/IP çš„ç‘å£«å†›åˆ€ï¼Œè¯¦è§ socat &amp; netcatï¼Œè¿™é‡Œä¸æ¸…æ¥šæ˜¯å“ªä¸ªç½‘ç»œç»„ä»¶ä¼šç”¨åˆ°å®ƒã€‚\n\n\n\nå®‰è£…å‘½ä»¤ï¼š\n# archlinux without gui\nsudo pacman -S qemu-base\nå®‰è£…å®Œæˆåï¼Œè¿˜ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦åšäº›é¢å¤–çš„å·¥ä½œã€‚è¯·ç»§ç»­å¾€ä¸‹èµ°ã€‚\n1. libguestfs - è™šæ‹Ÿæœºç£ç›˜æ˜ åƒå¤„ç†å·¥å…·\nlibguestfs æ˜¯ä¸€ä¸ªè™šæ‹Ÿæœºç£ç›˜æ˜ åƒå¤„ç†å·¥å…·ï¼Œå¯ç”¨äºç›´æ¥ä¿®æ”¹/æŸ¥çœ‹/è™šæ‹Ÿæœºæ˜ åƒã€è½¬æ¢æ˜ åƒæ ¼å¼ç­‰ã€‚\nå®ƒæä¾›çš„å‘½ä»¤åˆ—è¡¨å¦‚ä¸‹ï¼š\n\nvirt-df centos.img: æŸ¥çœ‹ç¡¬ç›˜ä½¿ç”¨æƒ…å†µ\nvirt-ls centos.img /: åˆ—å‡ºç›®å½•æ–‡ä»¶\nvirt-copy-out -d domain /etc/passwd /tmpï¼šåœ¨è™šæ‹Ÿæ˜ åƒä¸­æ‰§è¡Œæ–‡ä»¶å¤åˆ¶\nvirt-list-filesystems /file/xx.imgï¼šæŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿä¿¡æ¯\nvirt-list-partitions /file/xx.imgï¼šæŸ¥çœ‹åˆ†åŒºä¿¡æ¯\nguestmount -a /file/xx.qcow2(raw/qcow2éƒ½æ”¯æŒ) -m /dev/VolGroup/lv_root --rw /mntï¼šç›´æ¥å°†åˆ†åŒºæŒ‚è½½åˆ°å®¿ä¸»æœº\nguestfish: äº¤äº’å¼ shellï¼Œå¯è¿è¡Œä¸Šè¿°æ‰€æœ‰å‘½ä»¤ã€‚\nvirt-v2v: å°†å…¶ä»–æ ¼å¼çš„è™šæ‹Ÿæœº (æ¯”å¦‚ ova) è½¬æ¢æˆ kvm è™šæ‹Ÿæœºã€‚\nvirt-p2v: å°†ä¸€å°ç‰©ç†æœºè½¬æ¢æˆè™šæ‹Ÿæœºã€‚\n\nå­¦ä¹ è¿‡ç¨‹ä¸­å¯èƒ½ä¼šä½¿ç”¨åˆ°ä¸Šè¿°å‘½ä»¤ï¼Œæå‰å®‰è£…å¥½æ€»ä¸ä¼šæœ‰é”™ï¼Œå®‰è£…å‘½ä»¤å¦‚ä¸‹ï¼š\n# opensuse\nsudo zypper install libguestfs\n \n# archlinux/manjaroï¼Œç›®å‰ç¼ºå°‘ virt-v2v/virt-p2v ç»„ä»¶\nsudo pacman -S libguestfs\n \n# ubuntu\nsudo apt install libguestfs-tools\n \n# centos\nsudo yum install libguestfs-tools\n2. å¯åŠ¨ QEMU/KVM\né€šè¿‡ systemd å¯åŠ¨ libvirtd åå°æœåŠ¡ï¼š\nsudo systemctl enable --now libvirtd.service\nsudo systemctl start libvirtd.service\n3. è®©é root ç”¨æˆ·èƒ½æ­£å¸¸ä½¿ç”¨ kvm\nqumu/kvm è£…å¥½åï¼Œé»˜è®¤æƒ…å†µä¸‹éœ€è¦ root æƒé™æ‰èƒ½æ­£å¸¸ä½¿ç”¨å®ƒã€‚ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œé¦–å…ˆç¼–è¾‘æ–‡ä»¶ /etc/libvirt/libvirtd.conf:\n\nunix_sock_group = &quot;libvirt&quot;ï¼Œå–æ¶ˆè¿™ä¸€è¡Œçš„æ³¨é‡Šï¼Œä½¿ libvirt ç”¨æˆ·ç»„èƒ½ä½¿ç”¨ unix å¥—æ¥å­—ã€‚\nunix_sock_rw_perms = &quot;0770&quot;ï¼Œå–æ¶ˆè¿™ä¸€è¡Œçš„æ³¨é‡Šï¼Œä½¿ç”¨æˆ·èƒ½è¯»å†™ unix å¥—æ¥å­—ã€‚\n\nç„¶åæ–°å»º libvirt ç”¨æˆ·ç»„ï¼Œå°†å½“å‰ç”¨æˆ·åŠ å…¥è¯¥ç»„ï¼š\nsudo newgrp libvirt\nsudo usermod -aG libvirt $USER\næœ€åé‡å¯ libvirtd æœåŠ¡ï¼Œåº”è¯¥å°±èƒ½æ­£å¸¸ä½¿ç”¨äº†ï¼š\nsudo systemctl restart libvirtd.service\n4. å¯ç”¨åµŒå¥—è™šæ‹ŸåŒ–\nå¦‚æœä½ éœ€è¦åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œè™šæ‹Ÿæœºï¼ˆæ¯”å¦‚åœ¨è™šæ‹Ÿæœºé‡Œæµ‹è¯• katacontainers ç­‰å®‰å…¨å®¹å™¨æŠ€æœ¯ï¼‰ï¼Œé‚£å°±éœ€è¦å¯ç”¨å†…æ ¸æ¨¡å— kvm_intel å®ç°åµŒå¥—è™šæ‹ŸåŒ–ã€‚\n# ä¸´æ—¶å¯ç”¨ kvm_intel åµŒå¥—è™šæ‹ŸåŒ–\nsudo modprobe -r kvm_intel\nsudo modprobe kvm_intel nested=1\n# ä¿®æ”¹é…ç½®ï¼Œæ°¸ä¹…å¯ç”¨åµŒå¥—è™šæ‹ŸåŒ–\necho &quot;options kvm-intel nested=1&quot; | sudo tee /etc/modprobe.d/kvm-intel.conf\néªŒè¯åµŒå¥—è™šæ‹ŸåŒ–å·²ç»å¯ç”¨ï¼š\n$ cat /sys/module/kvm_intel/parameters/nested\nY\nè‡³æ­¤ï¼ŒKVM çš„å®‰è£…å°±å¤§åŠŸå‘Šæˆå•¦ï¼Œç°åœ¨åº”è¯¥å¯ä»¥åœ¨ç³»ç»Ÿä¸­æ‰¾åˆ° virt-manager çš„å›¾æ ‡ï¼Œè¿›å»å°±å¯ä»¥ä½¿ç”¨äº†ã€‚virt-manager çš„ä½¿ç”¨æ–¹æ³•å’Œ virtualbox/vmware workstation å¤§åŒå°å¼‚ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†ä»‹ç»äº†ï¼Œè‡ªå·±æ‘¸ç´¢æ‘¸ç´¢åº”è¯¥å°±ä¼šäº†ã€‚\n\n\nå¦‚ä¸‹å†…å®¹æ˜¯è¿›é˜¶ç¯‡ï¼Œä¸»è¦ä»‹ç»å¦‚ä½•é€šè¿‡å‘½ä»¤è¡Œæ¥ç®¡ç†è™šæ‹Ÿæœºç£ç›˜ï¼Œä»¥åŠ KVMã€‚å¦‚æœä½ è¿˜æ˜¯ kvm æ–°æ‰‹ï¼Œå»ºè®®å…ˆé€šè¿‡å›¾å½¢ç•Œé¢ virt-manager ç†Ÿæ‚‰ç†Ÿæ‚‰ï¼Œå†å¾€ä¸‹ç»§ç»­è¯»ã€‚\n\näºŒã€è™šæ‹Ÿæœºç£ç›˜æ˜ åƒç®¡ç†\nè¿™éœ€è¦ç”¨åˆ°ä¸¤ä¸ªå·¥å…·ï¼š\n\nlibguestfs: è™šæ‹Ÿæœºç£ç›˜æ˜ åƒç®¡ç†å·¥å…·ï¼Œå‰é¢ä»‹ç»è¿‡äº†\nqemu-img: qemu çš„ç£ç›˜æ˜ åƒç®¡ç†å·¥å…·ï¼Œç”¨äºåˆ›å»ºç£ç›˜ã€æ‰©ç¼©å®¹ç£ç›˜ã€ç”Ÿæˆç£ç›˜å¿«ç…§ã€æŸ¥çœ‹ç£ç›˜ä¿¡æ¯ã€è½¬æ¢ç£ç›˜æ ¼å¼ç­‰ç­‰ã€‚\n\n# åˆ›å»ºç£ç›˜\nqemu-img create -f qcow2 -o cluster_size=128K virt_disk.qcow2 20G\n\n# æ‰©å®¹ç£ç›˜\nqemu-img resize ubuntu-server-cloudimg-amd64.img 30G\n\n# æŸ¥çœ‹ç£ç›˜ä¿¡æ¯\nqemu-img info ubuntu-server-cloudimg-amd64.img\n\n# è½¬æ¢ç£ç›˜æ ¼å¼\nqemu-img convert -f raw -O qcow2 vm01.img vm01.qcow2  # raw =&gt; qcow2\nqemu-img convert -f qcow2 -O raw vm01.qcow2 vm01.img  # qcow2 =&gt; raw\n\n1. å¯¼å…¥ vmware é•œåƒ\nç›´æ¥ä» vmware ova æ–‡ä»¶å¯¼å…¥ kvmï¼Œè¿™ç§æ–¹å¼è½¬æ¢å¾—åˆ°çš„é•œåƒåº”è¯¥èƒ½ç›´æ¥ç”¨ï¼ˆç½‘å¡éœ€è¦é‡æ–°é…ç½®ï¼‰ï¼š\nvirt-v2v -i ova centos7-test01.ova -o local -os /vmhost/centos7-01  -of qcow2\n\nä¹Ÿå¯ä»¥å…ˆä» ova ä¸­è§£å‹å‡º vmdk ç£ç›˜æ˜ åƒï¼Œå°† vmware çš„ vmdk æ–‡ä»¶è½¬æ¢æˆ qcow2 æ ¼å¼ï¼Œç„¶åå†å¯¼å…¥ kvmï¼ˆç½‘å¡éœ€è¦é‡æ–°é…ç½®ï¼‰ï¼š\n# è½¬æ¢æ˜ åƒæ ¼å¼\nqemu-img convert -p -f vmdk -O qcow2 centos7-test01-disk1.vmdk centos7-test01.qcow2\n# æŸ¥çœ‹è½¬æ¢åçš„æ˜ åƒä¿¡æ¯\nqemu-img info centos7-test01.qcow2\n\nç›´æ¥è½¬æ¢ vmdk æ–‡ä»¶å¾—åˆ°çš„ qcow2 é•œåƒï¼Œå¯ä¼šæŠ¥é”™ï¼Œæ¯”å¦‚ã€Œç£ç›˜æ— æ³•æŒ‚è½½ã€ã€‚æ ¹æ® Importing Virtual Machines and disk images - ProxmoxVE Docs æ–‡æ¡£æ‰€è¨€ï¼Œéœ€è¦åœ¨ç½‘ä¸Šä¸‹è½½å®‰è£… MergeIDE.zip ç»„ä»¶ï¼Œå¦å¤–å¯åŠ¨è™šæ‹Ÿæœºå‰ï¼Œéœ€è¦å°†ç¡¬ç›˜ç±»å‹æ”¹ä¸º IDEï¼Œæ‰èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\n2. å¯¼å…¥ img é•œåƒ\nimg é•œåƒæ–‡ä»¶ï¼Œå°±æ˜¯æ‰€è°“çš„ raw æ ¼å¼é•œåƒï¼Œä¹Ÿè¢«ç§°ä¸ºè£¸é•œåƒï¼ŒIO é€Ÿåº¦æ¯” qcow2 å¿«ï¼Œä½†æ˜¯ä½“ç§¯å¤§ï¼Œè€Œä¸”ä¸æ”¯æŒå¿«ç…§ç­‰é«˜çº§ç‰¹æ€§ã€‚å¦‚æœä¸è¿½æ±‚ IO æ€§èƒ½çš„è¯ï¼Œå»ºè®®å°†å®ƒè½¬æ¢æˆ qcow2 å†ä½¿ç”¨ã€‚\nqemu-img convert -f raw -O qcow2 vm01.img vm01.qcow2\n\nä¸‰ã€è™šæ‹Ÿæœºç®¡ç†\nè™šæ‹Ÿæœºç®¡ç†å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…· virsh/virt-installï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ GUI å·¥å…· virt-manager.\nGUI å¾ˆå‚»ç“œå¼ï¼Œå°±ä¸ä»‹ç»äº†ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»å‘½ä»¤è¡Œå·¥å…· virsh/virt-install\nå…ˆä»‹ç»ä¸‹ libvirt ä¸­çš„å‡ ä¸ªæ¦‚å¿µï¼š\n\nDomain: æŒ‡ä»£è¿è¡Œåœ¨è™šæ‹Ÿæœºå™¨ä¸Šçš„æ“ä½œç³»ç»Ÿçš„å®ä¾‹ - ä¸€ä¸ªè™šæ‹Ÿæœºï¼Œæˆ–è€…ç”¨äºå¯åŠ¨è™šæ‹Ÿæœºçš„é…ç½®ã€‚\nGuest OS: è¿è¡Œåœ¨ domain ä¸­çš„è™šæ‹Ÿæ“ä½œç³»ç»Ÿã€‚\n\nå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä½ éƒ½å¯ä»¥æŠŠä¸‹é¢å‘½ä»¤ä¸­æ¶‰åŠåˆ°çš„ domain ç†è§£æˆè™šæ‹Ÿæœºã€‚\n0. è®¾ç½®é»˜è®¤ URI\nvirsh/virt-install/virt-viewer ç­‰ä¸€ç³»åˆ— libvirt å‘½ä»¤ï¼Œsudo virsh net-list â€“all é»˜è®¤æƒ…å†µä¸‹ä¼šä½¿ç”¨ qemu:///session ä½œä¸º URI å»è¿æ¥ QEMU/KVMï¼Œåªæœ‰ root è´¦å·æ‰ä¼šé»˜è®¤ä½¿ç”¨ qemu:///system.\nå¦ä¸€æ–¹é¢ virt-manager è¿™ä¸ª GUI å·¥å…·ï¼Œé»˜è®¤ä¹Ÿä¼šä½¿ç”¨ qemu:///system å»è¿æ¥ QEMU/KVMï¼ˆå’Œ root è´¦å·ä¸€è‡´ï¼‰\nqemu:///system æ˜¯ç³»ç»Ÿå…¨å±€çš„ qemu ç¯å¢ƒï¼Œè€Œ qemu:///session çš„ç¯å¢ƒæ˜¯æŒ‰ç”¨æˆ·éš”ç¦»çš„ã€‚å¦å¤– qemu:///session æ²¡æœ‰é»˜è®¤çš„ networkï¼Œåˆ›å»ºè™šæ‹Ÿæœºæ—¶ä¼šå‡ºæ¯›ç—…ã€‚ã€‚ã€‚\nå› æ­¤ï¼Œä½ éœ€è¦å°†é»˜è®¤çš„ URI æ”¹ä¸º qemu:///systemï¼Œå¦åˆ™ç»å¯¹ä¼šè¢«å‘ï¼š\necho &#039;export LIBVIRT_DEFAULT_URI=&quot;qemu:///system&quot;&#039; &gt;&gt; ~/.bashrc\n1. è™šæ‹Ÿæœºç½‘ç»œ\nqemu-kvm å®‰è£…å®Œæˆåï¼Œqemu:///system ç¯å¢ƒä¸­é»˜è®¤ä¼šåˆ›å»ºä¸€ä¸ª default ç½‘ç»œï¼Œè€Œ qemu:///session ä¸æä¾›é»˜è®¤çš„ç½‘ç»œï¼Œéœ€è¦æ‰‹åŠ¨åˆ›å»ºã€‚\næˆ‘ä»¬é€šå¸¸ä½¿ç”¨ qemu:///system ç¯å¢ƒå°±å¥½ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•æŸ¥çœ‹å¹¶å¯åŠ¨ default ç½‘ç»œï¼Œè¿™æ ·åé¢åˆ›å»ºè™šæ‹Ÿæœºæ—¶æ‰æœ‰ç½‘ç»œå¯ç”¨ã€‚\n# åˆ—å‡ºæ‰€æœ‰è™šæ‹Ÿæœºç½‘ç»œ\n$ sudo virsh net-list --all\n Name      State      Autostart   Persistent\n----------------------------------------------\n default   inactive   no          yes\n \n# å¯åŠ¨é»˜è®¤ç½‘ç»œ\n$ virsh net-start default\nNetwork default started\n \n# å°† default ç½‘ç»œè®¾ä¸ºè‡ªå¯åŠ¨\n$ virsh net-autostart --network default\nNetwork default marked as autostarted\n \n# å†æ¬¡æ£€æŸ¥ç½‘ç»œçŠ¶å†µï¼Œå·²ç»æ˜¯ active äº†\n$ sudo virsh net-list --all\n Name      State    Autostart   Persistent\n--------------------------------------------\n default   active   yes         yes\nä¹Ÿå¯ä»¥åˆ›å»ºæ–°çš„è™šæ‹Ÿæœºç½‘ç»œï¼Œè¿™éœ€è¦æ‰‹åŠ¨ç¼–å†™ç½‘ç»œçš„ xml é…ç½®ï¼Œç„¶åé€šè¿‡ virsh net-define --file my-network.xml åˆ›å»ºï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†ä»‹ç»äº†ï¼Œå› ä¸ºæš‚æ—¶ç”¨ä¸åˆ°â€¦\n2. åˆ›å»ºè™šæ‹Ÿæœº - virt-intall\n# ä½¿ç”¨ iso é•œåƒåˆ›å»ºå…¨æ–°çš„ proxmox è™šæ‹Ÿæœºï¼Œè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª 60G çš„ç£ç›˜ã€‚\nvirt-install --virt-type kvm \\\n--name pve-1 \\\n--vcpus 4 --memory 8096 \\\n--disk size=60 \\\n--network network=default,model=virtio \\\n--os-type linux \\\n--os-variant generic \\\n--graphics vnc \\\n--cdrom proxmox-ve_6.3-1.iso\n \n# ä½¿ç”¨å·²å­˜åœ¨çš„ opensuse cloud ç£ç›˜åˆ›å»ºè™šæ‹Ÿæœº\nvirt-install --virt-type kvm \\\n  --name opensuse15-2 \\\n  --vcpus 2 --memory 2048 \\\n  --disk opensuse15.2-openstack.qcow2,device=disk,bus=virtio \\\n  --disk seed.iso,device=cdrom \\\n  --os-type linux \\\n  --os-variant opensuse15.2 \\\n  --network network=default,model=virtio \\\n  --graphics vnc \\\n  --import\nå…¶ä¸­çš„ --os-variant ç”¨äºè®¾å®š OS ç›¸å…³çš„ä¼˜åŒ–é…ç½®ï¼Œå®˜æ–¹æ–‡æ¡£å¼ºçƒˆæ¨èè®¾å®šï¼Œå…¶å¯é€‰å‚æ•°å¯ä»¥é€šè¿‡ osinfo-query os æŸ¥çœ‹ã€‚\n3. è™šæ‹Ÿæœºç®¡ç† - virsh\nè™šæ‹Ÿæœºåˆ›å»ºå¥½åï¼Œå¯ä½¿ç”¨ virsh ç®¡ç†è™šæ‹Ÿæœºï¼š\næŸ¥çœ‹è™šæ‹Ÿæœºåˆ—è¡¨ï¼š\n# æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„è™šæ‹Ÿæœº\nvirsh list\n \n# æŸ¥çœ‹æ‰€æœ‰è™šæ‹Ÿæœºï¼ŒåŒ…æ‹¬ inactive çš„è™šæ‹Ÿæœº\nvirsh list --all\nä½¿ç”¨ virt-viewer ä»¥ vnc åè®®ç™»å…¥è™šæ‹Ÿæœºç»ˆç«¯ï¼š\n# ä½¿ç”¨è™šæ‹Ÿæœº ID è¿æ¥\nvirt-viewer 8\n# ä½¿ç”¨è™šæ‹Ÿæœºåç§°è¿æ¥ï¼Œå¹¶ä¸”ç­‰å¾…è™šæ‹Ÿæœºå¯åŠ¨\nvirt-viewer --wait opensuse15\nå¯åŠ¨ã€å…³é—­ã€æš‚åœ (ä¼‘çœ )ã€é‡å¯è™šæ‹Ÿæœºï¼š\nvirsh start opensuse15\nvirsh suuspend opensuse15\nvirsh resume opensuse15\nvirsh reboot opensuse15\n# ä¼˜é›…å…³æœº\nvirsh shutdown opensuse15\n# å¼ºåˆ¶å…³æœº\nvirsh destroy opensuse15\n \n# å¯ç”¨è‡ªåŠ¨å¼€æœº\nvirsh autostart opensuse15\n# ç¦ç”¨è‡ªåŠ¨å¼€æœº\nvirsh autostart --disable opensuse15\nè™šæ‹Ÿæœºå¿«ç…§ç®¡ç†ï¼š\n# åˆ—å‡ºä¸€ä¸ªè™šæ‹Ÿæœºçš„æ‰€æœ‰å¿«ç…§\nvirsh snapshot-list --domain opensuse15\n# ç»™æŸä¸ªè™šæ‹Ÿæœºç”Ÿæˆä¸€ä¸ªæ–°å¿«ç…§\nvirsh snapshot-create &lt;domain&gt;\n# ä½¿ç”¨å¿«ç…§å°†è™šæ‹Ÿæœºè¿˜åŸ\nvirsh snapshot-restore &lt;domain&gt; &lt;snapshotname&gt;\n# åˆ é™¤å¿«ç…§\nvirsh snapshot-delete &lt;domain&gt; &lt;snapshotname&gt;\nåˆ é™¤è™šæ‹Ÿæœºï¼š\nvirsh undefine opensuse15\nè¿ç§»è™šæ‹Ÿæœºï¼š\n# ä½¿ç”¨é»˜è®¤å‚æ•°è¿›è¡Œç¦»çº¿è¿ç§»ï¼Œå°†å·²å…³æœºçš„æœåŠ¡å™¨è¿ç§»åˆ°å¦ä¸€ä¸ª qemu å®ä¾‹\nvirsh migrate 37 qemu+ssh://tux@jupiter.example.com/system\n# è¿˜æ”¯æŒåœ¨çº¿å®æ—¶è¿ç§»ï¼Œå¾…ç»­\ncpu/å†…å­˜ä¿®æ”¹ï¼š\n# æ”¹æˆ 4 æ ¸\nvirsh setvcpus opensuse15 4\n# æ”¹æˆ 4G\nvirsh setmem opensuse15 4096\nè™šæ‹Ÿæœºç›‘æ§ï¼š\n# å¾…ç»­\nä¿®æ”¹ç£ç›˜ã€ç½‘ç»œåŠå…¶ä»–è®¾å¤‡ï¼š\n# æ·»åŠ æ–°è®¾å¤‡\nvirsh attach-device\nvirsh attach-disk\nvirsh attach-interface\n# åˆ é™¤è®¾å¤‡\nvirsh detach-disk\nvirsh detach-device\nvirsh detach-interface\nVirtualBox\nVMware\nå‚è€ƒ\n\nVirtualization Guide - OpenSUSE\nComplete Installation of KVM, QEMU and Virt Manager on Arch Linux and Manjaro\nvirtualization-libvirt - ubuntu docs\nRedHat Docs - KVM\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Linux-è¾“å…¥æ³•":{"title":"Linux è¾“å…¥æ³•","links":[],"tags":["TODO","Fcitx5","ibus",""],"content":"\n\n                  \n                  åªæ¨èå¸¸ç”¨çš„è¾“å…¥æ³•ï¼Œå¹¶ä¸”å¼€å‘æ´»è·ƒçš„ã€‚ç›®å‰è¾“å…¥æ³•åœ¨ Linux ä¸‹å±äºè–„å¼±é¡¹ï¼Œå…¼å®¹è¾ƒå·®ï¼ŒJetbrains ç³»æ— æ³•æ­£å¸¸ä½¿ç”¨ã€‚ \n                  \n                \n\nibus1\nibus æ˜¯ Gnome æ¡Œé¢ç¯å¢ƒä¸‹é»˜è®¤çš„è¾“å…¥æ³•æ¡†æ¶ï¼Œ\nibus-libpinyin\nibus ä¸‹ä½¿ç”¨è¾ƒå¤šçš„ä¸­æ–‡è¾“å…¥æ³•ï¼Œé¢œå€¼å’Œè¯åº“éƒ½éå¸¸å‡ºè‰²ï¼Œæ”¯æŒäº‘è¯åº“ã€‚\né…ç½®ç¯å¢ƒå˜é‡ï¼š\nvim ~/.profile\nexport GTK_IM_MODULE=ibus\nexport XMODIFIERS=@im=ibus\nexport QT_IM_MODULE=ibus\n# è§£å†³ Jetbrains ç­‰ä¸­æ–‡è¾“å…¥é—®é¢˜\nexport LC_CTYPE=zh_CN.UTF-8\nibus-daemon -d -x\n# ä¸ç¡®å®šæ˜¯å¦éœ€è¦ï¼Œä½†ç¡®å®æ˜¯å®‰è£…åï¼Œé‡å¯ ibusï¼ŒJetbrains å¯ç”¨\nsudo dnf install ibus-qt-devel ibus-qt\n\n\n                  \n                  Jetbrains ä½¿ç”¨å®˜æ–¹ä¸‹è½½äºŒè¿›åˆ¶å‹ç¼©åŒ…å®‰è£…ã€‚ \n                  \n                \n\ngithub.com/libpinyin/ibus-libpinyin/issues/289\n\n\n                  \n                  å½“å‰æ­£åœ¨ä½¿ç”¨çš„è¾“å…¥æ³•ï¼Œä¹Ÿæ˜¯ Gnome é»˜è®¤çš„ä¸­æ–‡è¾“å…¥æ³•ã€‚ \n                  \n                \n\nfcitx52\nfcitx5-chinese-addons\ngithub.com/RikudouPatrickstar/JetBrainsRuntime-for-Linux-x64\nä½¿ç”¨è¾ƒå¤šçš„ä¸­æ–‡è¾“å…¥æ³•ï¼Œé¢œå€¼å’Œè¯åº“éƒ½éå¸¸å‡ºè‰²ã€‚\nå®‰è£…ï¼š\n# Fedora\nsudo dnf install fcitx5 fcitx5-chinese-addons fcitx5-configtool fcitx5-autostart\nfcitx5-rime\nç›®å‰è¾“å…¥æ³•å·²ç»è½¬ç§»åˆ° fcitx5-rime, ä¸»è¦åŸå› æ˜¯å¤‡ä»½ç”¨æˆ·è¯åº“ç®€å•ã€‚éšç€ä½¿ç”¨æ—¶é—´çš„æ¨ç§»ï¼Œè¯åº“ä¼šè¶Šæ¥è¶Šé€‚åˆè‡ªå·±ã€‚è™½ç„¶é…ç½®æ–‡ä»¶æ¯”è¾ƒå¤æ‚ï¼Œä½†æ˜¯ç½‘ä¸Šæœ‰æ¯”è¾ƒå®Œå–„çš„æˆå“æ–¹æ¡ˆï¼Œåç»­å¯ä»¥æ…¢æ…¢åœ°ä¿®æ”¹ï¼Œä½¿å…¶è¾¾åˆ°å®Œç¾ã€‚\nFootnotes\n\n\nibus è¯¦ç»†ä»‹ç»-archwiki â†©\n\n\nfcitx5 è¯¦ç»†ä»‹ç»-archwiki â†©\n\n\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Linux-é€æ˜ä»£ç†":{"title":"Linux é€æ˜ä»£ç†","links":["Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/nftables","Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/smartdns"],"tags":["proxy","linux","net","clash","nftables"],"content":"Linux é€æ˜ä»£ç†\nä½¿ç”¨ Arch Linux å·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œæµè§ˆå™¨ä½¿ç”¨ Pac æ¥æ§åˆ¶ä»£ç†ç¡®å®ç®€å•æ–¹ä¾¿ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šè½¯ä»¶æ²¡åŠæ³•æ–¹ä¾¿åœ°è®¾ç½®ä»£ç†ã€‚\nä¸»è¦ä½¿ç”¨çš„è½¯ä»¶ï¼šclash-meta, nftables, smartdns\n\nclash-meta é…ç½®\n# å®‰è£…\nsudo pacman -S clash-meta\n \n# å¯åŠ¨æœåŠ¡\nsudo systemctl enable --now clash-meta\n \n# ç¼–è¾‘é…ç½®\nsudo vim /etc/clash-meta/config.yaml\nç³»ç»Ÿè·¯ç”±\nip rule add fwmark 1 table 100\nip route add local 0.0.0.0/0 dev lo table 100\nå¯ç”¨é€æ˜ä»£ç† clash æ‰€éœ€è¦çš„é…ç½®\nrouting-mark: 1\nsniffer:\n  enable: true\n  sniffing:\n    - tls\n    - http\ntproxy-port: 7893\ndns:\n  enable: true\n  listen: &quot;0.0.0.0:1053&quot;\n  enhanced-mode: redir-host\n  default-nameserver:\n    - 8.8.8.8\n  nameserver:\n    -\n  fallback:\n    -\n  fallback-filter:\n    geoip: true\n    geoip-code: CN\n    ipcidr:\n      - 240.0.0.0/4\nnftables é…ç½®\nè·å– chnroute\nchina_ip_list\ncurl &#039;ftp.apnic.net/apnic/stats/apnic/delegated-apnic-latest&#039; | awk -F\\| &#039;/CN\\|ipv4/ { printf(&quot;%s/%d\\n&quot;, $4, 32-log($5)/log(2)) }&#039;| sed &#039;:label;N;s/\\n/, /;b label&#039;|sed &#039;s/$/&amp; }/g&#039;|sed &#039;s/^/define chnroute_ipv4 = { &amp;/g&#039; &gt; ipv4-chnroute.nft\ncurl &#039;raw.githubusercontent.com/misakaio/chnroutes2/master/chnroutes.txt&#039; | awk &#039;NR &gt; 2 {printf&quot;%s,\\n&quot;, $1}&#039; | sed &#039;:label;N;s/\\n/ /;b label&#039;|sed &#039;s/$/&amp; }/g&#039;|sed &#039;s/^/define chnroute_ipv4 = { &amp;/g&#039; &gt; ipv4-chnroute.nft\nnftables è§„åˆ™\n#!/usr/bin/nft -f\n \nflush ruleset\n \n# include &quot;/etc/nftables.d/ipv4-whitelist.nft&quot;\ninclude &quot;/etc/nftables.d/ipv4-private.nft&quot;\ninclude &quot;/etc/nftables.d/ipv4-chnroute.nft&quot;\n \ndefine DIRECT-IPV4 = {\n    $whitelist_ipv4,\n    $private_ipv4,\n    $chnroute_ipv4,\n}\n \ntable inet firewall {\n  chain input {\n    type filter hook input priority 0; policy drop;\n \n    udp dport dhcpv6-client accept\n \n    # loopback interface\n    iif &quot;lo&quot; accept comment &quot;Accept any localhost traffic&quot;\n    iif != &quot;lo&quot; ip daddr 127.0.0.0/8 counter packets 0 bytes 0 drop comment &quot;drop connections to loopback not coming from loopback&quot;\n    ct state invalid log prefix &quot;Invalid-Input: &quot; level info flags all counter packets 0 bytes 0 drop comment &quot;Drop invalid connections&quot;\n \n    # icmp\n    icmp type echo-request limit rate 20 bytes/second burst 500 bytes counter packets 0 bytes 0 accept comment &quot;No ping floods&quot;\n    icmp type echo-request drop comment &quot;No ping floods&quot;\n    ct state { established, related } counter packets 0 bytes 0 accept comment &quot;Accept traffic originated from us&quot;\n    icmp type { destination-unreachable, router-advertisement, router-solicitation, time-exceeded, parameter-problem } accept comment &quot;Accept ICMP&quot;\n    ip protocol igmp accept comment &quot;Accept IGMP&quot;\n \n    # open tcp ports: sshd (22), httpd (80)\n    tcp dport { ssh } ct state new limit rate 15/minute log prefix &quot;New SSH Connection: &quot; counter accept comment &quot;Avoid brute force on SSH&quot;\n    tcp dport { 80, 443 } ct state new accept comment &quot;Accept web service&quot;\n  }\n}\n \ntable inet clash {\n    chain clash-tproxy {\n        # debug\n        # meta l4proto { tcp, udp } meta nftrace set 1\n \n        meta l4proto { tcp, udp } meta mark set 1 tproxy to :7893 accept\n    }\n \n    chain clash-mark {\n        meta mark set 1\n    }\n \n    chain mangle-output {\n        type route hook output priority mangle; policy accept;\n        fib daddr type { unspec, local, anycast, multicast } accept\n        ip daddr $DIRECT-IPV4 accept\n        meta l4proto { tcp, udp } th dport 1-1024 mark != 1 ct direction original jump clash-mark\n    }\n \n    chain mangle-prerouting {\n        type filter hook prerouting priority mangle; policy accept;\n        meta l4proto { tcp, udp } th dport 53 accept\n        fib daddr type { unspec, local, anycast, multicast } accept\n        ip daddr $DIRECT-IPV4 accept\n        # dport 1-1024 é¿å…BTèµ°ä»£ç†\n        iif { lo } meta l4proto { tcp, udp } th dport 1-1024 ct direction original jump clash-tproxy\n    }\n}"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Raspi/æ ‘è“æ´¾æŠ˜è…¾è®°å½•":{"title":"æ ‘è“æ´¾æŠ˜è…¾è®°å½•","links":[],"tags":["TODO"],"content":"\nå®‰è£…ç³»ç»Ÿ\ndd bs=4M if=/path/to/os.img of=/dev/sda\n \n# æŒ‚è½½ boot åˆ†åŒºåï¼Œåˆ›å»º ssh æ–‡ä»¶\n# mount /dev/sda1 /mnt\ntouch ssh\n \n# wifi(2.5G) è‡ªåŠ¨è¿æ¥ï¼Œåˆ›å»º wpa_supplicant.confï¼Œå†…å®¹å¦‚ä¸‹\nctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev\nupdate_config=1\n \nnetwork={\n  ssid=&quot;WIFI å&quot;\n  psk=&quot;WIFI å¯†ç &quot;\n}\n \nnetwork={\n  ssid=&quot;WIFI å&quot;\n  psk=&quot;WIFI å¯†ç &quot;\n}"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Tools/SMB":{"title":"SMB","links":[],"tags":[],"content":"apt install samba\n\né…ç½®\næ¨èå¤‡ä»½åŸé…ç½®æ–‡ä»¶ï¼Œç„¶åæ–°å»ºã€‚\nmv /etc/samba/smb.conf /etc/samba/smb.conf.bak\r\n\r\nvim /etc/samba/smb.conf\r\n\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Tools/ZFS":{"title":"ZFS","links":[],"tags":[],"content":"# debian\r\nsudo apt install zfsutils-linux\r\n\r\n\r\n# åˆ›å»ºæ± \r\nzpool create [pool_name] /dev/sda\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Tools/dd":{"title":"dd","links":[],"tags":[],"content":"Ubuntu ä½¿ç”¨ dd å‘½ä»¤åˆ¶ä½œ U ç›˜ç³»ç»Ÿå¯åŠ¨ç›˜\nã€dd å‘½ä»¤æ˜¯æ¯”è¾ƒæ¨èçš„ä¸€ç§ Linux ç¯å¢ƒä¸­åˆ¶ä½œ U ç›˜å¯åŠ¨ç›˜çš„æ–¹å¼ï¼Œæ— éœ€å®‰è£…é¢å¤–çš„å·¥å…·ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰ Linux å‘è¡Œç‰ˆéƒ½é›†æˆäº†è¿™ä¸ªå‘½ä»¤ã€‚ã€‘\nåˆ¶ä½œæ–¹æ³•ç¤ºä¾‹ï¼š\n1.æŸ¥çœ‹ U ç›˜è®¾å¤‡å·ï¼Œæœ¬ä¾‹ä½¿ç”¨äº† 8G çš„ U ç›˜ï¼Œå¹¶ä¸”çŸ¥é“è®¡ç®—æœºå®‰è£…äº†ä¸¤å—ç¡¬ç›˜ï¼Œé‚£ä¹ˆ U ç›˜è®¾å¤‡å·å°±å¯ä»¥æ ¹æ®å¤§å°å’Œç¡¬ç›˜æ•°é‡å¾ˆå®¹æ˜“çš„åˆ†è¾¨å‡ºæ¥â€/dev/sdcâ€\nroot :~$ sudo fdisk -l\r\nDisk /dev/sdc: 8011 MB, 8011120640 bytes\n\n2.å¦‚æœ U ç›˜è¢«è‡ªåŠ¨æŒ‚è½½ï¼Œè¯·ä½¿ç”¨ U ç›˜è®¾å¤‡å·å…ˆ umount\nroot :~$ sudo umount /dev/sdc*\n\n3.å‡†å¤‡å¥½ä¸€ä¸ª iso æ–‡ä»¶ï¼Œä½¿ç”¨ dd å‘½ä»¤å°†è¿™ä¸ª iso å†™å…¥ u ç›˜\nroot :~$ sudo dd if=~/ubuntu-16.04-desktop-amd64.iso of=/dev/sdc\r\n# if=åé¢è·Ÿè¦åˆ»å½•åˆ°uç›˜çš„isoæ–‡ä»¶è·¯å¾„\r\n# of=åé¢æ˜¯uç›˜è®¾å¤‡å·ï¼ˆä¸éœ€è¦å¸¦åˆ†åŒºå·ï¼‰\r\n# å†™å…¥è¿‡ç¨‹æ˜¯æ²¡æœ‰æ•°æ®æ˜¾ç¤ºçš„ï¼Œåªè¦è¾“å‡ºå’Œè¾“å…¥è·¯å¾„æ²¡é”™ï¼Œè€å¿ƒç­‰å¾…å³å¯ï¼Œæ ¹æ®Uç›˜è¯»å†™é€Ÿåº¦ä»¥åŠisoæ–‡ä»¶å¤§å°ï¼Œä¸€èˆ¬éœ€è¦5~10åˆ†é’Ÿå·¦å³\n\nå› ä¸ºæ˜¯ä½¿ç”¨ dd å‘½ä»¤ç›´æ¥å°†å°† iso æ–‡ä»¶æ•°æ®å†™å…¥ U ç›˜ï¼Œæ‰€ä»¥ U ç›˜ä¸åŒ…å«ä¸€ä¸ªæ ‡å‡†çš„åˆ†åŒºè¡¨ï¼Œä»è€Œå¯¼è‡´ç³»ç»Ÿæ— æ³•æ­£å¸¸çš„è¯†åˆ«å…¶å¤§å°ï¼Œä¹Ÿæ— æ³•æ­£å¸¸ä½¿ç”¨ï¼Œä½¿ç”¨å®ƒå®‰è£…ç³»ç»Ÿåï¼Œå¦‚æœä¸éœ€è¦ U ç›˜å®‰è£…ç›˜äº†ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•æ¥æ¢å¤ U ç›˜ã€‚\næ¢å¤ U ç›˜ç¤ºä¾‹ï¼š\n#æ“ä½œå‰è¯·ç”¨sudo fdisk -l  æŸ¥çœ‹Uç›˜åˆ†åŒºå·ï¼Œè¯·è°¨æ…æ“ä½œï¼Œä¸è¦è¯¯å†™ç¡¬ç›˜åˆ†åŒºï¼Œæœ¬ä¾‹Uç›˜åˆ†åŒºå·æ˜¯/dev/sdc\r\n\r\n#1.ä½¿ç”¨ddå‘½ä»¤ï¼Œå°†0å†™å…¥Uç›˜çš„å‰512å­—èŠ‚ï¼ˆä»£è¡¨ä¸»å¼•å¯¼è®°å½•ä¸­çš„å¼•å¯¼ä»£ç å’Œåˆ†åŒºè¡¨ï¼‰\r\n\r\nsudo dd count=1 bs=512 if=/dev/zero of=/dev/sdc\r\n\r\n# count=1ï¼Œå†™å…¥ä¸€æ¬¡\r\n# bs=512ï¼Œå†™å…¥çš„å¤§å°512ï¼ˆbyteï¼‰\r\n# if=/dev/zeroï¼Œä»ç³»ç»Ÿ0ç”Ÿæˆå™¨è¯»å–0\r\n# of=/dev/sdcï¼Œå†™å…¥åˆ°Uç›˜ä¸­\r\n\r\n#2.ä½¿ç”¨fdiskåˆ†åŒºï¼ˆæœ€å¥½å…ˆä½¿ç”¨pæŸ¥çœ‹ä¸€ä¸‹è¿˜æœ‰æ²¡æœ‰åˆ†åŒºï¼Œå¦‚æœç¬¬ä¸€æ­¥æ“ä½œæ— è¯¯ï¼Œpå°†æŸ¥çœ‹ä¸åˆ°åˆ†åŒºï¼Œå¦‚æœè¿˜ä¿ç•™ç€åŸæœ‰åˆ†åŒºï¼Œåˆ™åˆ é™¤ç°æœ‰åˆ†åŒºï¼Œé‡æ–°åˆ›å»ºåˆ†åŒºï¼‰ï¼Œä¾‹å¦‚åªé‡æ–°åˆ’åˆ†äº†ä¸€ä¸ªåˆ†åŒºsdc1\r\n\r\nsudo fdisk /dev/sdc\r\n\r\n#æŸ¥çœ‹ç°æœ‰åˆ†åŒºï¼Œå¦‚æœç¬¬ä¸€æ­¥æˆåŠŸï¼Œä¸‹é¢å°†çœ‹ä¸åˆ°åˆ†åŒº\r\n\r\nå‘½ä»¤(è¾“å…¥ m è·å–å¸®åŠ©)ï¼š p\r\n\r\nDisk /dev/sdc: 8019 MB\r\n\r\n#åˆ›å»ºæ–°åˆ†åŒºï¼Œä¸€è·¯é»˜è®¤å›è½¦\r\n\r\nå‘½ä»¤(è¾“å…¥ m è·å–å¸®åŠ©)ï¼š n\r\n#å°†åˆ†åŒºæ›´æ”¹æˆNTFSç±»å‹ï¼Œä»¥ä¾¿Winç³»ç»Ÿä¹Ÿèƒ½è¯†åˆ«\r\n\r\n[size=1em]\r\n21\r\nå‘½ä»¤(è¾“å…¥ m è·å–å¸®åŠ©)ï¼š t\r\n\r\n[size=1em]\r\n22\r\nSelected partition 1\r\n\r\n[size=1em]\r\n23\r\nHex code (type L to list codes): 7\r\n\r\n[size=1em]\r\n24\r\nChanged system type of partition 1 to 7 (HPFS/NTFS/exFAT)\r\n\r\n#ä¿å­˜\r\n\r\nå‘½ä»¤(è¾“å…¥ m è·å–å¸®åŠ©)ï¼š w\r\n#3.é‡æ–°å°†Uç›˜æ‹”å‡ºæ’å…¥ï¼Œå¦‚æœåˆ†åŒºè‡ªåŠ¨æŒ‚è½½ï¼Œè¯·å…ˆå¸è½½ï¼Œç„¶åå¯¹è¯¥åˆ†åŒºè¿›è¡Œæ ¼å¼åŒ–ï¼Œæ ¼å¼åŒ–æˆfatæ˜¯ä¸ºäº†è®©Windowsä¹Ÿèƒ½è¯†åˆ«ï¼ˆmkfsæ ¼å¼åŒ–ntfséå¸¸æ…¢ï¼Œå¦‚æœæƒ³è¦æ ¼å¼åŒ–æˆntfsçš„ï¼Œå¯ä»¥ç”¨mkfs.ntfsæ›¿æ¢ï¼‰\r\n\r\nroot :~$ sudo umount /dev/sdc1\r\n\r\nroot :~$ sudo mkfs.fat /dev/sdc1\n\nPsï¼šdd å‘½ä»¤ç›´æ¥å°† Linux çš„ iso å†™å…¥ U ç›˜å°±èƒ½å¼€æœºå¼•å¯¼çš„åŸå› æ˜¯ï¼Œè¿™äº› Linux çš„ iso è‡ªå¸¦äº†å¼•å¯¼æ–‡ä»¶ã€‚"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Tools/dmesg":{"title":"dmesg","links":[],"tags":[],"content":"dmesg å‘½ä»¤ç”¨äºæ˜¾ç¤ºç³»ç»Ÿå¼€æœºä¿¡æ¯ï¼Œå¯ç”¨äºè¯Šæ–­ç³»ç»Ÿæ•…éšœã€‚\nå†…æ ¸ä¼šå°†ç³»ç»Ÿå¼€æœºä¿¡æ¯å­˜å‚¨åœ¨ ring buffer ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ dmesg å‘½ä»¤æ¥æŸ¥çœ‹ï¼Œå¼€æœºä¿¡æ¯ä¿å­˜åœ¨/var/log/dmesgæ–‡ä»¶ä¸­ã€‚\nå‘½ä»¤è¯­æ³•\ndmesg [options]\né€‰é¡¹è¯´æ˜\n-c  #æ˜¾ç¤ºä¿¡æ¯åï¼Œæ¸…é™¤ ring buffer ä¸­çš„å†…å®¹\n-s&lt;ç¼“å†²åŒºå¤§å°&gt;  #é»˜è®¤å€¼ä¸º 8196ï¼Œåˆšå¥½ç­‰äº ring buffer çš„å¤§å°\n-n  #è®¾ç½®è®°å½•ä¿¡æ¯çš„å±‚çº§\n-D  #ç¦ç”¨æ‰“å°æ¶ˆæ¯åˆ°æ§åˆ¶å°\n-E  #å¯ç”¨æ‰“å°æ¶ˆæ¯åˆ°æ§åˆ¶å°\n-h  #æ‰“å°å¸®åŠ©æ–‡æœ¬å¹¶é€€å‡º\n-k  #æ‰“å°å†…æ ¸æ¶ˆæ¯\n-n  #è®¾ç½®å°†æ¶ˆæ¯è®°å½•åˆ°æ§åˆ¶å°çš„çº§åˆ«\n-r  #æ‰“å°åŸå§‹æ¶ˆæ¯ç¼“å†²åŒº\n-s  #ä½¿ç”¨å¤šå°‘å¤§å°çš„ç¼“å†²åŒºæ¥æŸ¥è¯¢å†…æ ¸ç¯ç¼“å†²åŒºã€‚é»˜è®¤æƒ…å†µä¸‹ä¸º 16392\n-T  #æ‰“å°äººç±»å¯è¯»æ—¶é—´æˆ³\n-t  #ä¸æ‰“å°å†…æ ¸çš„æ—¶é—´æˆ³\n-u  #æ‰“å°ç”¨æˆ·ç©ºé—´æ¶ˆæ¯\n-V  #è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯å¹¶é€€å‡º\n-x  #å°†è®¾æ–½å’Œçº§åˆ«ï¼ˆä¼˜å…ˆçº§ï¼‰ç¼–å·è§£ç ä¸ºå¯è¯»çš„å‰ç¼€\nåº”ç”¨ä¸¾ä¾‹\næŸ¥çœ‹å‰ 20 è¡Œå¼€æœºä¿¡æ¯\r\ndmesg | head -n 20\n[root@centos7 ~]# dmesg | head -n 20\n[    0.000000] Initializing cgroup subsys cpuset\n[    0.000000] Initializing cgroup subsys cpu\n[    0.000000] Initializing cgroup subsys cpuacct\n[    0.000000] Linux version 3.10.0-1127.18.2.el7.x86_64 (mockbuild@kbuilder.bsys.centos.org) (gcc version 4.8.5 20150623 (Red Hat 4.8.5-39) (GCC) ) #1 SMP Sun Jul 26 15:27:06 UTC 2020\n[    0.000000] Command line: BOOT_IMAGE=/vmlinuz-3.10.0-1127.18.2.el7.x86_64 root=/dev/mapper/centos-root ro crashkernel=auto spectre_v2=retpoline rd.lvm.lv=centos/root rd.lvm.lv=centos/swap rhgb quiet LANG=en_US.UTF-8\n[    0.000000] Disabled fast string operations\n[    0.000000] e820: BIOS-provided physical RAM map:\n[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009ebff] usable\n[    0.000000] BIOS-e820: [mem 0x000000000009ec00-0x000000000009ffff] reserved\n[    0.000000] BIOS-e820: [mem 0x00000000000dc000-0x00000000000fffff] reserved\n[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x000000003fedffff] usable\n[    0.000000] BIOS-e820: [mem 0x000000003fee0000-0x000000003fefefff] ACPI data\n[    0.000000] BIOS-e820: [mem 0x000000003feff000-0x000000003fefffff] ACPI NVS\n[    0.000000] BIOS-e820: [mem 0x000000003ff00000-0x000000003fffffff] usable\n[    0.000000] BIOS-e820: [mem 0x00000000f0000000-0x00000000f7ffffff] reserved\n[    0.000000] BIOS-e820: [mem 0x00000000fec00000-0x00000000fec0ffff] reserved\n[    0.000000] BIOS-e820: [mem 0x00000000fee00000-0x00000000fee00fff] reserved\n[    0.000000] BIOS-e820: [mem 0x00000000fffe0000-0x00000000ffffffff] reserved\n[    0.000000] NX (Execute Disable) protection: active\n[    0.000000] SMBIOS 2.4 present.\næŸ¥çœ‹ä¸å†…å­˜ç›¸å…³çš„å¼€æœºä¿¡æ¯\r\ndmesg | grep -i memory\n[root@centos7 ~]# dmesg | grep -i memory\n[    0.000000] Base memory trampoline at [ffff9102c0098000] 98000 size 24576\n[    0.000000] crashkernel=auto resulted in zero bytes of reserved memory.\n[    0.000000] Early memory node ranges\n[    0.000000] PM: Registered nosave memory: [mem 0x0009e000-0x0009efff]\n[    0.000000] PM: Registered nosave memory: [mem 0x0009f000-0x0009ffff]\n[    0.000000] PM: Registered nosave memory: [mem 0x000a0000-0x000dbfff]\n[    0.000000] PM: Registered nosave memory: [mem 0x000dc000-0x000fffff]\n[    0.000000] PM: Registered nosave memory: [mem 0x3fee0000-0x3fefefff]\n[    0.000000] PM: Registered nosave memory: [mem 0x3feff000-0x3fefffff]\n[    0.000000] Memory: 972140k/1048576k available (7784k kernel code, 524k absent, 75912k reserved, 5958k data, 1980k init)\n[    0.000000] please try &#039;cgroup_disable=memory&#039; option if you don&#039;t want memory cgroups\n[    0.755288] Initializing cgroup subsys memory\n[    1.619645] x86/mm: Memory block size: 128MB\n[    3.669071] Freeing initrd memory: 20628k freed\n[    3.933907] Non-volatile memory driver v1.3\n[    3.935079] crash memory driver: version 1.1\n[    4.000261] Freeing unused kernel memory: 1980k freed\n[    4.001692] Freeing unused kernel memory: 396k freed\n[    4.003171] Freeing unused kernel memory: 540k freed\n[    5.956205] [drm] Max dedicated hypervisor surface memory is 0 kiB\n[    5.956206] [drm] Maximum display memory size is 32768 kiB\n[    5.968934] [TTM] Zone  kernel: Available graphics memory: 497842 kiB\næŸ¥çœ‹ä¸ç£ç›˜ç›¸å…³çš„å¼€æœºä¿¡æ¯\r\ndmesg | grep -i disk\n[root@centos7 ~]# dmesg | grep -i disk\n[    0.000000] RAMDISK: [mem 0x357a7000-0x36bcbfff]\n[    3.738914] VFS: Disk quotas dquot_6.5.2\n[    4.013333] systemd[1]: Running in initial RAM disk.\n[    6.295432] sd 0:0:0:0: [sda] Attached SCSI disk\n[root@centos7 ~]# dmesg | grep -i sda\n[    6.291698] sd 0:0:0:0: [sda] 41943040 512-byte logical blocks: (21.4 GB/20.0 GiB)\n[    6.291830] sd 0:0:0:0: [sda] Write Protect is off\n[    6.291831] sd 0:0:0:0: [sda] Mode Sense: 61 00 00 00\n[    6.292032] sd 0:0:0:0: [sda] Cache data unavailable\n[    6.292033] sd 0:0:0:0: [sda] Assuming drive cache: write through\n[    6.294046]  sda: sda1 sda2\n[    6.295432] sd 0:0:0:0: [sda] Attached SCSI disk\n[   15.843965] XFS (sda1): Mounting V5 Filesystem\n[   16.778908] XFS (sda1): Starting recovery (logdev: internal)\n[   16.801659] XFS (sda1): Ending recovery (logdev: internal)"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Tools/fd":{"title":"fd","links":[],"tags":["linux"],"content":"FD\nFd æ˜¯ä¸€ä¸ªåœ¨ä½ æ–‡ä»¶ç³»ç»Ÿä¸­æŸ¥æ‰¾æ¡ç›®çš„ç¨‹åºã€‚å®ƒæ˜¯ä¸€ä¸ªç®€å•ã€å¿«é€Ÿã€å‹å¥½çš„ find æ›¿ä»£å“ã€‚è™½ç„¶å®ƒçš„ç›®æ ‡ä¸æ˜¯æ”¯æŒ find çš„æ‰€æœ‰å¼ºå¤§åŠŸèƒ½ï¼Œä½†å®ƒä¸ºå¤§å¤šæ•°çš„ä½¿ç”¨æƒ…å†µæä¾›äº†åˆç†çš„ï¼ˆæœ‰æ„è§çš„ï¼‰é»˜è®¤å€¼ã€‚\nå®‰è£…\n# Windows\nwinget install sharkdp.fd\n \nå‚è€ƒé“¾æ¥"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Tools/iptables":{"title":"iptables","links":[],"tags":[],"content":"53 â†’ 9053\niptables -t nat -A PREROUTING -p tcp --dport 53 -j REDIRECT --to-ports 9053\niptables -t nat -A PREROUTING -p udp --dport 53 -j REDIRECT --to-ports 9053"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Tools/iwd":{"title":"iwd","links":[],"tags":["TODO","network","linux"],"content":"IWD\n\nwiki.archlinux.org/title/Iwd"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Tools/lsof":{"title":"lsof","links":[],"tags":["linux"],"content":"LSOF ç®€æ˜“æ•™ç¨‹\nLsof(list open files) æ˜¯ä¸€ä¸ªæŸ¥çœ‹å½“å‰ç³»ç»Ÿæ–‡ä»¶çš„å·¥å…·ã€‚åœ¨ linux ç¯å¢ƒä¸‹ï¼Œä»»ä½•äº‹ç‰©éƒ½ä»¥æ–‡ä»¶çš„å½¢å¼å­˜åœ¨ï¼Œé€šè¿‡æ–‡ä»¶ä¸ä»…ä»…å¯ä»¥è®¿é—®å¸¸è§„æ•°æ®ï¼Œè¿˜å¯ä»¥è®¿é—®ç½‘ç»œè¿æ¥å’Œç¡¬ä»¶ã€‚å¦‚ä¼ è¾“æ§åˆ¶åè®® (TCP) å’Œç”¨æˆ·æ•°æ®æŠ¥åè®® (UDP) å¥—æ¥å­—ç­‰ï¼Œç³»ç»Ÿåœ¨åå°éƒ½ä¸ºè¯¥åº”ç”¨ç¨‹åºåˆ†é…äº†ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œè¯¥æ–‡ä»¶æè¿°ç¬¦æä¾›äº†å¤§é‡å…³äºè¿™ä¸ªåº”ç”¨ç¨‹åºæœ¬èº«çš„ä¿¡æ¯ã€‚\nlsof æ‰“å¼€çš„æ–‡ä»¶å¯ä»¥æ˜¯ï¼š\n\næ™®é€šæ–‡ä»¶\nç›®å½•\nç½‘ç»œæ–‡ä»¶ç³»ç»Ÿçš„æ–‡ä»¶\nå­—ç¬¦æˆ–è®¾å¤‡æ–‡ä»¶\n(å‡½æ•°) å…±äº«åº“\nç®¡é“ï¼Œå‘½åç®¡é“\nç¬¦å·é“¾æ¥\nç½‘ç»œæ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼šNFS fileã€ç½‘ç»œ socketï¼Œunix åŸŸå socketï¼‰\nè¿˜æœ‰å…¶å®ƒç±»å‹çš„æ–‡ä»¶\n\n\nå‘½ä»¤å‚æ•°\n\n-a åˆ—å‡ºæ‰“å¼€æ–‡ä»¶å­˜åœ¨çš„è¿›ç¨‹\n-c&lt;è¿›ç¨‹å&gt; åˆ—å‡ºæŒ‡å®šè¿›ç¨‹æ‰€æ‰“å¼€çš„æ–‡ä»¶\n-g åˆ—å‡º GID å·è¿›ç¨‹è¯¦æƒ…\n-d&lt;æ–‡ä»¶å·&gt; åˆ—å‡ºå ç”¨è¯¥æ–‡ä»¶å·çš„è¿›ç¨‹\n+d&lt;ç›®å½•&gt; åˆ—å‡ºç›®å½•ä¸‹è¢«æ‰“å¼€çš„æ–‡ä»¶\n+D&lt;ç›®å½•&gt; é€’å½’åˆ—å‡ºç›®å½•ä¸‹è¢«æ‰“å¼€çš„æ–‡ä»¶\n-n&lt;ç›®å½•&gt; åˆ—å‡ºä½¿ç”¨ NFS çš„æ–‡ä»¶\n-i&lt;æ¡ä»¶&gt; åˆ—å‡ºç¬¦åˆæ¡ä»¶çš„è¿›ç¨‹ã€‚ï¼ˆ4ã€6ã€åè®®ã€:ç«¯å£ã€ @ipï¼‰\n-p&lt;è¿›ç¨‹å·&gt; åˆ—å‡ºæŒ‡å®šè¿›ç¨‹å·æ‰€æ‰“å¼€çš„æ–‡ä»¶\n-u åˆ—å‡º UID å·è¿›ç¨‹è¯¦æƒ…\n-h æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯\n-v æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯\n\nHelp Information\nlsof: illegal option character: -\nlsof: -e not followed by a file system path: &quot;lp&quot;\nlsof 4.98.0\n latest revision: github.com/lsof-org/lsof\n latest FAQ: github.com/lsof-org/lsof/blob/master/00FAQ\n latest (non-formatted) man page: github.com/lsof-org/lsof/blob/master/Lsof.8\n usage: [-?abhHKlnNoOPRtUvVX] [+|-c c] [+|-d s] [+D D] [+|-E] [+|-e s] [+|-f[gG]]\n [-F [f]] [-g [s]] [-i [i]] [+|-L [l]] [+m [m]] [+|-M] [-o [o]] [-p s]\n [+|-r [t]] [-s [p:s]] [-S [t]] [-T [t]] [-u s] [+|-w] [-x [fl]] [--] [names]\nDefaults in parentheses; comma-separated set (s) items; dash-separated ranges.\n  -?|-h list help          -a AND selections (OR)     -b avoid kernel blocks\n  -c c  cmd c ^c /c/[bix]  +c w  COMMAND width (9)    +d s  dir s files\n  -d s  select by FD set   +D D  dir D tree *SLOW?*   +|-e s  exempt s *RISKY*\n  -i select IPv[46] files  -K [i] list|(i)gn tasKs    -l list UID numbers\n  -n no host names         -N select NFS files        -o list file offset\n  -O no overhead *RISKY*   -P no port names           -Q allow failed search\n  -R list paRent PID       -s list file size          -t terse listing\n  -T disable TCP/TPI info  -U select Unix socket      -v list version info\n  -V verbose search        +|-w  Warnings (+)         -X skip TCP&amp;UDP* files\n  -H human readable size   -- end option scan\n  -E display endpoint info              +E display endpoint info and files\n  +f|-f  +filesystem or -file names     +|-f[gG] flaGs\n  -F [f] select fields; -F? for help\n  +|-L [l] list (+) suppress (-) link counts &lt; l (0 = all; default = 0)\n                                        +m [m] use|create mount supplement\n  +|-M   portMap registration (-)       -o o   o 0t offset digits (8)\n  -p s   exclude(^)|select PIDs         -S [t] t second stat timeout (15)\n  -T fqs TCP/TPI Fl,Q,St (s) info\n  -g [s] exclude(^)|select and print process group IDs\n  -i i   select by IPv[46] address: [46][proto][@host|addr][:svc_list|port_list]\n  +|-r [t[m&lt;fmt&gt;]] repeat every t seconds (15);  + until no files, - forever.\n       An optional suffix to t is m&lt;fmt&gt;; m must separate t from &lt;fmt&gt; and\n      &lt;fmt&gt; is an strftime(3) format for the marker line.\n  -s p:s  exclude(^)|select protocol (p = TCP|UDP) states by name(s).\n  -u s   exclude(^)|select login|UID set s\n  -x [fl] cross over +d|+D File systems or symbolic Links\n  names  select named files or files on named file systems\nOnly root can list all files; /dev warnings disabled; kernel ID check disabled.\nå®ä¾‹\n\n\næŸ¥æ‰¾æŸä¸ªæ–‡ä»¶çš„è¿›ç¨‹\r\nlsof [file]\n\n\nåˆ—å‡ºæŸä¸ªç”¨æˆ·æ‰“å¼€çš„æ–‡ä»¶ä¿¡æ¯\r\nlsof -u [username]\n\n\nåˆ—å‡ºæŸä¸ªè¿›ç¨‹æ‰“å¼€çš„æ‰€æœ‰æ–‡ä»¶ä¿¡æ¯\r\nlsof -c [process]\n\n\nåˆ—å‡ºæ‰€æœ‰ç½‘ç»œè¿æ¥\r\nlsof -i\n\n\næŸ¥çœ‹æŸä¸ªç«¯å£è¢«è°å ç”¨\r\nlsof -i:[port]\n\n\nå‚è€ƒæ–‡æ¡£\nLSOF Source Code\r\nLSOF æ•™ç¨‹"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Tools/mpv":{"title":"mpv","links":[],"tags":[],"content":"å®‰è£…\nmpv player for Windows"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Tools/podman":{"title":"podman","links":[],"tags":[],"content":"å¸¸ç”¨å‘½ä»¤\n\næœç´¢é•œåƒï¼špodman search alpine\nä¸‹è½½é•œåƒï¼špodman pull alpine\næŸ¥çœ‹é•œåƒï¼špodman images\næŸ¥çœ‹å·²è¿è¡Œçš„å®¹å™¨ï¼špodman ps\nè¿è¡Œåœæ­¢çš„å®¹å™¨ï¼špodman start [con_name]\n\né…ç½®é•œåƒæº\nvim /etc/containers/register.conf\né…ç½®å†…å®¹ï¼š\nunqualified-search-registries = [&quot;docker.io&quot;]\r\n\r\n[[registry]]\r\nprefix = &quot;docker.io&quot;\r\nlocation = &quot;9gzrq6w1.mirror.aliyuncs.com&quot;\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Tools/ripgrep":{"title":"ripgrep","links":[],"tags":[],"content":""},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Tools/screen":{"title":"screen","links":[],"tags":[],"content":"tmux\nè¯­æ³•\nscreen [-AmRvx -ls -wipe][-d &lt;ä½œä¸šåç§°&gt;][-h &lt;è¡Œæ•°&gt;][-r &lt;ä½œä¸šåç§°&gt;][-s &lt;shell&gt;][-S &lt;ä½œä¸šåç§°&gt;]\r\n\r\n**å‚æ•°è¯´æ˜**ï¼š\r\n\r\n-   -A ã€€å°†æ‰€æœ‰çš„è§†çª—éƒ½è°ƒæ•´ä¸ºç›®å‰ç»ˆç«¯æœºçš„å¤§å°ã€‚\r\n-   -d&lt;ä½œä¸šåç§°&gt; ã€€å°†æŒ‡å®šçš„screenä½œä¸šç¦»çº¿ã€‚\r\n-   -h&lt;è¡Œæ•°&gt; ã€€æŒ‡å®šè§†çª—çš„ç¼“å†²åŒºè¡Œæ•°ã€‚\r\n-   -m ã€€å³ä½¿ç›®å‰å·²åœ¨ä½œä¸šä¸­çš„screenä½œä¸šï¼Œä»å¼ºåˆ¶å»ºç«‹æ–°çš„screenä½œä¸šã€‚\r\n-   -r&lt;ä½œä¸šåç§°&gt; ã€€æ¢å¤ç¦»çº¿çš„screenä½œä¸šã€‚\r\n-   -R ã€€å…ˆè¯•å›¾æ¢å¤ç¦»çº¿çš„ä½œä¸šã€‚è‹¥æ‰¾ä¸åˆ°ç¦»çº¿çš„ä½œä¸šï¼Œå³å»ºç«‹æ–°çš„screenä½œä¸šã€‚\r\n-   -s&lt;shell&gt; ã€€æŒ‡å®šå»ºç«‹æ–°è§†çª—æ—¶ï¼Œæ‰€è¦æ‰§è¡Œçš„shellã€‚\r\n-   -S&lt;ä½œä¸šåç§°&gt; ã€€æŒ‡å®šscreenä½œä¸šçš„åç§°ã€‚\r\n-   -v ã€€æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚\r\n-   -x ã€€æ¢å¤ä¹‹å‰ç¦»çº¿çš„screenä½œä¸šã€‚\r\n-   -lsæˆ–--list ã€€æ˜¾ç¤ºç›®å‰æ‰€æœ‰çš„screenä½œä¸šã€‚\r\n-   -wipe ã€€æ£€æŸ¥ç›®å‰æ‰€æœ‰çš„screenä½œä¸šï¼Œå¹¶åˆ é™¤å·²ç»æ— æ³•ä½¿ç”¨çš„screenä½œä¸šã€‚\n\nå®ä¾‹\nåˆ›å»º screen ç»ˆç«¯\r\n\r\n# screen //åˆ›å»º screen ç»ˆç«¯\r\n\r\nåˆ›å»º screen ç»ˆç«¯ å¹¶æ‰§è¡Œä»»åŠ¡\r\n\r\n# screen vi ~/main.c //åˆ›å»º screen ç»ˆç«¯ ï¼Œå¹¶æ‰§è¡Œ viå‘½ä»¤\r\n\r\nç¦»å¼€ screen ç»ˆç«¯\r\n\r\n# screen vi ~/main.c //åˆ›å»º screen ç»ˆç«¯ ï¼Œå¹¶æ‰§è¡Œ viå‘½ä»¤ #include main () { } &quot;~/mail.c&quot; 0,0-1 åœ¨ screen ç»ˆç«¯ ä¸‹ æŒ‰ä¸‹ Ctrl+a d é‡æ–°è¿æ¥ç¦»å¼€çš„ screen ç»ˆç«¯\r\n\r\n# screen -ls  //æ˜¾ç¤ºå·²åˆ›å»ºçš„screenç»ˆç«¯\r\nThere are screens on:\r\n\t\t2433.pts-3.linux (2013å¹´10æœˆ20æ—¥ 16æ—¶48åˆ†59ç§’) (Detached)\r\n\t\t2428.pts-3.linux (2013å¹´10æœˆ20æ—¥ 16æ—¶48åˆ†05ç§’) (Detached)\r\n\t\t2284.pts-3.linux (2013å¹´10æœˆ20æ—¥ 16æ—¶14åˆ†55ç§’) (Detached)\r\n\t\t2276.pts-3.linux (2013å¹´10æœˆ20æ—¥ 16æ—¶13åˆ†18ç§’) (Detached)\r\n4 Sockets in /var/run/screen/S-root.\r\n# screen -r 2276 //è¿æ¥ screen_id ä¸º 2276 çš„ screenç»ˆç«¯\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Tools/tmux":{"title":"tmux","links":[],"tags":[],"content":"Tmux\nä¼šè¯ (Session)\nçª—å£ (Window)\nçª—æ ¼ (Pane)"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/Wireshark":{"title":"Wireshark","links":[],"tags":["TODO"],"content":"Wireshark æ•™ç¨‹\nå®‰è£…é…ç½®\n# archlinux\nsudo pacman -S wireshark-qt\nå°†ç”¨æˆ·æ·»åŠ åˆ° wireshark ç”¨æˆ·ç»„ï¼Œé¿å…ä½¿ç”¨ root è¿è¡Œã€‚\nsudo usermod -aG wireshark $USER\nReferences\n\nwiki.archlinux.org/title/Wireshark\nwiki.wireshark.org/CaptureSetup/CapturePrivileges#most-unixes\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/bees":{"title":"bees","links":[],"tags":[],"content":""},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/btrfs":{"title":"btrfs","links":["å†™æ—¶å¤åˆ¶","Bees"],"tags":["linux","doc","TODO","btrfs"],"content":"Btrfs\nBTRFS æ˜¯ä¸€ç§ç°ä»£çš„å†™æ—¶å¤åˆ¶ï¼ˆCOWï¼‰Linux æ–‡ä»¶ç³»ç»Ÿï¼Œè‡´åŠ›äºå®ç°ä¸€äº›é«˜çº§åŠŸèƒ½ï¼Œ\r\nåŒæ—¶ç€é‡äºå®¹é”™æ€§ã€ä¿®å¤æ€§ä»¥åŠæ˜“äºç®¡ç†æ€§ã€‚\n\nç‰¹æ€§\nå­å· (subvolue)\nåˆ†åŒºæ–¹æ¡ˆ\næŒ‚è½½\næ¨èåˆ é™¤ ssd,discard=async,space_cache=v2,subvolid=xxx ç­‰è¿™äº›ç”±ç³»ç»Ÿè‡ªåŠ¨å†³å®šçš„æŒ‚è½½é€‰é¡¹ï¼Œ\r\nä¿ç•™ rw,relatime,compress=zstd:3,subvol=@xxx ç­‰ä»¥åŠå…¶ä»–ä½ è®¤ä¸ºéœ€è¦ä¿ç•™çš„æŒ‚è½½é€‰é¡¹ã€‚\nå¿«ç…§\nå·¥å…·æ¨èï¼šbtrfs-assistant, snapper\n\n\n                  \n                  Btrfs çš„å¿«ç…§åŠŸèƒ½ä¸èƒ½å–ä»£å¤‡ä»½ï¼Œå®ƒç›¸å½“äº Git ç‰ˆæœ¬æ§åˆ¶ã€‚åŒä¸€ä»½æ–‡ä»¶åªä¼šå­˜åœ¨ä¸€ä»½åœ¨ç¡¬ç›˜ã€‚ \n                  \n                \n\nå› æ­¤ï¼Œéœ€è¦å¤‡ä»½çš„æ—¶å€™éœ€è¦ä¿å­˜åˆ°å…¶ä»–ç¡¬ç›˜ã€‚\nå¤‡ä»½\n\nç®€å•å¤‡ä»½\n\nbtrfs send /root_backup | btrfs receive /backup\n\nå¢é‡å¤‡ä»½\n\nbtrfs send -p /root_backup /root_backup_new | btrfs receive /backup\nroot_backup å¿«ç…§åï¼Œbackup å­˜æ”¾æ–‡ä»¶å¤¹ï¼Œroot_backup_new å¢é‡å¿«ç…§å\nå»é‡\nBees æ˜¯ä¸€æ¬¾ä¸“ç”¨äº btrfs æ–‡ä»¶ç³»ç»Ÿçš„å»é‡å·¥å…·ã€‚\nReferences\n\nbtrfs.readthedocs.io/en/latest/index.html\nwiki.archlinux.org/title/Btrfs\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/cgit-æ­å»º":{"title":"cgit æ­å»º","links":[],"tags":[],"content":""},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/dnsmasq":{"title":"dnsmasq","links":[],"tags":["TODO","DNS","Linux","Doc"],"content":"Dnsmasq\n1 åŸºç¡€é…ç½®\nè¦åœ¨å•å°è®¡ç®—æœºä¸Šå°† dnsmasq è®¾ç½®ä¸º DNS ç¼“å­˜å®ˆæŠ¤ç¨‹åºï¼Œè¯·æŒ‡å®š listen-address æŒ‡ä»¤ï¼Œæ·»åŠ æœ¬åœ°ä¸»æœº IP åœ°å€ï¼š\nlisten-address=::1,127.0.0.1\n2 è¿›é˜¶é…ç½®"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/fdisk":{"title":"fdisk","links":[],"tags":[],"content":""},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/fish":{"title":"fish","links":[],"tags":["fish","shell","linux","arch"],"content":"\nFish ä½œä¸º login shell\nå½“ fish ä½œä¸ºç™»é™† shell æ—¶ï¼Œç¯å¢ƒå˜é‡æ— æ³•ä¼ åˆ° firefox, å¯¼è‡´ fcitx5 æ— æ³•ä½¿ç”¨ï¼Œéœ€è¦åœ¨ /etc/environment æ·»åŠ ç›¸å…³å˜é‡ã€‚\n\n\n                  \n                  Note\n                  \n                \n\nåŸå› å…¶å®å°±æ˜¯æˆ‘çš„ wayfire æ˜¯åœ¨ç™»é™† shell æ—¶è‡ªåŠ¨å¯åŠ¨çš„ï¼Œä½†æ˜¯ç¯å¢ƒç›¸å…³çš„å˜é‡åœ¨å¯åŠ¨ wayfire çš„åé¢ï¼Œå¯¼è‡´å˜é‡æ— æ³•ä¼ é€’ã€‚\n\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/flatpak":{"title":"flatpak","links":[],"tags":[],"content":"å®‰è£…\nsudo dnf install flatpak"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/freedos":{"title":"freedos","links":["Eä¸´æ—¶ç¬”è®°/qemu"],"tags":["qemu","dos","Doc","TODO","freedos","linux"],"content":"Freedos\nqemu å®‰è£…\nå‰å¾€å®˜ç½‘ä¸‹è½½æœ€æ–°çš„é•œåƒã€‚Freedos\n# create freedos.img\nqemu-img create -f raw freedos.img 200M\n \n# setup\nqemu-system-i386 -rtc base=localtime -hda freedos.img -cdrom FD12CD.iso -boot d\n \n# boot\nqemu-system-i386 -rtc base=localtime -hda freedos.img\nç¬¬ä¸€æ¬¡å®‰è£…æ—¶ï¼Œéœ€è¦å…ˆå¯¹ç£ç›˜åˆ†åŒºï¼Œåˆ†åŒºå®Œæˆåï¼Œé‡æ–°è¿›å…¥å®‰è£…æ­¥éª¤ã€‚\n\n\n                  \n                  Note\n                  \n                \n\né•œåƒçš„æ ¼å¼ä¸è¦é€‰æ‹© qcow ç­‰å…¶ä»–æ ¼å¼ã€‚é•œåƒå¤§å°ä¸º 100-500M, å¦‚æœè¦å®‰è£…å…¨éƒ¨è½¯ä»¶å’Œæ¸¸æˆï¼Œè‡³å°‘è¦ 500M ä»¥ä¸Šï¼Œå¦åˆ™ä¼šå®‰è£…å¤±è´¥ã€‚\n\n\nfreedos å®‰è£…è¿‡ç¨‹\nyoutu.be/xXkmOwLPpcg\nå®‰è£…è½¯ä»¶\nReferences\nen.wikibooks.org/wiki/QEMU/FreeDOS"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/gnome-keyring":{"title":"gnome-keyring","links":[],"tags":["TODO"],"content":"å‚è€ƒ\ngnome-keyring-archwiki"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/iproute2":{"title":"iproute2","links":[],"tags":[],"content":""},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/nftables":{"title":"nftables","links":[],"tags":[],"content":""},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/smartdns":{"title":"smartdns","links":[],"tags":["TODO","dns","smartdns"],"content":"SMARTDNS\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/steam-æ¸¸æˆå¹³å°":{"title":"steam æ¸¸æˆå¹³å°","links":[],"tags":["TODO"],"content":""},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/systemd-boot":{"title":"systemd-boot","links":[],"tags":[],"content":""},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/systemd":{"title":"systemd","links":[],"tags":["TODO","linux"],"content":""},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/wayland-ä½¿ç”¨æŒ‡å—":{"title":"wayland ä½¿ç”¨æŒ‡å—","links":[],"tags":["TODO","wayland","wayfire","x11","electron"],"content":"è™½ç„¶ wayland å‘å±•è¿…é€Ÿï¼Œæ›¿æ¢ x11 å·²æ˜¯æ¿ä¸Šé’‰é’‰ï¼Œä½†æ˜¯ç›®å‰è¿˜æ˜¯å­˜åœ¨å¾ˆå¤šé—®é¢˜ï¼Œè€Œä¸”ç¦»ä¸å¼€ waylandã€‚\nåœ¨å°è¯•ä¸€æ®µæ—¶é—´çš„ pure wayland åï¼Œæˆ‘å½“å‰é‡åˆ°çš„é—®é¢˜æœ‰ä¸¤ä¸ªï¼š\n\nelectron åº”ç”¨æ— æ³•ä½¿ç”¨è¾“å…¥æ³•ï¼ˆåº”ç”¨ç›¸å½“å¤šï¼Œæ— æ³•èˆå¼ƒï¼‰\njetbrains ç³»è½¯ä»¶æ— æ³•ä½¿ç”¨ï¼ˆç‰ºç‰²ä½“éªŒï¼Œå¯æ›¿æ¢ï¼‰\n\nxwayland\nxwayland ç¼©æ”¾\n\nä½¿ç”¨ä¾äº‘æ‰“åŒ…çš„ xwaylandï¼ˆxorg-xwayland-lily-git/xorg-xwayland-hidpi-gitï¼‰\nelectron åº”ç”¨ä½¿ç”¨ --force-device-scale-factor=2 å¼ºåˆ¶è®¾ç½®ç¼©æ”¾\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/æ­å»ºç§äººGitlab":{"title":"æ­å»ºç§äººGitlab","links":[],"tags":["TODO"],"content":"è¯•ç”¨ gitlab-ce æ­å»ºç§äºº git ç®¡ç†æœåŠ¡å™¨ã€‚\r\nå†…å­˜è¦æ±‚&gt;4GB\npodman run --detach --hostname git.52bilibili.com --publish 8883:443 --publish 8880:80 --publish 8882:22 --name gitlab --restart always --volume /srv/gitlab/config:/etc/gitlab --volume /srv/gitlab/logs:/var/log/gitlab --volume /srv/gitlab/data:/var/opt/gitlab gitlab/gitlab-ce:latest\n\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Rsync":{"title":"Rsync","links":[],"tags":["TODO","rsync"],"content":"Rsync\nRsync æ˜¯ä¸€ä¸ªæä¾›å¿«é€Ÿå¢é‡æ–‡ä»¶ä¼ è¾“çš„å¼€æºå®ç”¨ç¨‹åºã€‚\n\nå‚è€ƒé“¾æ¥"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Scrapy":{"title":"Scrapy","links":[],"tags":[],"content":"ç®€å•å…¥é—¨\nç¬¬ä¸€æ­¥æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼š\nscrapy startproject tutorial\nç„¶åå°±ä¼šç”Ÿæˆä¸€ä¸ª tutorial çš„ç›®å½•ï¼ŒåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š\ntutorial/\r\n    scrapy.cfg            # deploy configuration file\r\n\r\n    tutorial/             # project&#039;s Python module, you&#039;ll import your code from here\r\n        __init__.py\r\n\r\n        items.py          # project items definition file\r\n\r\n        middlewares.py    # project middlewares file\r\n\r\n        pipelines.py      # project pipelines file\r\n\r\n        settings.py       # project settings file\r\n\r\n        spiders/          # a directory where you&#039;ll later put your spiders\r\n            __init__.py\n\nScrapy"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Truenas-Scale":{"title":"Truenas Scale","links":[],"tags":[],"content":"emby å¼€å¿ƒç‰ˆ ç¡¬è§£\nè¿›å…¥ emby å®¹å™¨å‘½ä»¤è¡Œï¼Œchmod 777 /dev/dri/renderD128"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Windows-subsystem-Linux":{"title":"Windows subsystem Linux","links":[],"tags":[],"content":"ç®¡ç†å‘˜è¿è¡Œï¼š\nEnable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux\n \n \nwsl --set-default-version 2"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Windows/MSVC-ç¯å¢ƒæ­å»º":{"title":"MSVC ç¯å¢ƒæ­å»º","links":[],"tags":["TODO","msvc","windows"],"content":"MSVC ç¯å¢ƒæ­å»º\nä¸ºäº†é¿å…å®‰è£… Visual Studio è¿™æ ·çš„åºç„¶å¤§ç‰©ï¼Œé€‰æ‹©å®‰è£…  Visual Studio 20xx Build Tools, å¹¶ä¸”å¯ä»¥ç‹¬ç«‹å®‰è£…ã€‚VS é»˜è®¤å®‰è£…ä½ç½®ä¸º Program Files ï¼ŒBT å®‰è£…ä½ç½®ä¸º Program Files (x86)\n\nä¸‹è½½\nä¸‹è½½ Visual Studio Tools - å…è´¹å®‰è£… Windowsã€Macã€Linux (microsoft.com) â†’ ç”¨äº Visual Studio çš„å·¥å…· â†’ Visual Studio 20xx ç”Ÿæˆå·¥å…·\nå®‰è£…\n\nå‚è€ƒé“¾æ¥"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Windows/WSL":{"title":"WSL","links":[],"tags":["TODO","windows","wsl"],"content":"WSL\nå®‰è£…\nwsl --update\né…ç½®\nWSL å‘è¡Œç‰ˆçš„é…ç½®æ–‡ä»¶åœ¨/etc/wsl.conf,\nç½‘ç»œé…ç½®\nWSL å­ç³»ç»Ÿ SSH æœåŠ¡é…ç½®\n\nåœ¨ Linux å­ç³»ç»Ÿä¸­å®‰è£… SSH æœåŠ¡å™¨å¹¶å¯åŠ¨\nWindows å®¿ä¸»æœºé…ç½®ç«¯å£è½¬å‘\né˜²ç«å¢™é…ç½®\n\n\nå‚è€ƒé“¾æ¥"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Windows/Windows-ç¬”è®°":{"title":"Windows ç¬”è®°","links":[],"tags":["TODO","dns"],"content":"Windows ç¬”è®°\n\nåå°è¿è¡Œ\næ–°å»º bat æ–‡ä»¶ï¼Œå¹¶åœ¨å¼€å¤´åŠ å…¥ä»¥ä¸‹ä»£ç ï¼š\nif &quot;%1&quot;==&quot;hide&quot; goto CmdBegin\nstart mshta vbscript:createobject(&quot;wscript.shell&quot;).run(&quot;&quot;&quot;%~0&quot;&quot; hide&quot;,0)(window.close)&amp;&amp;exit\n:CmdBegin\nDNS ç¼“å­˜\nipconfig /displaydns\nipconfig /flushdns\nGet-DnsClientCache\nClear-DnsClientCache\nAMD å³é”®èœå•\nHKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\PackagedCom\\Package\nAdvancedMicroDevicesInc-2.AMDRadeonSoftware_ â†’ server\nåˆ é™¤ ApplicationId çš„å€¼\nFontlink å­—ä½“æ˜ å°„\nFontlink æ˜¯ Windows é‡‡ç”¨çš„ä¸€ç§ç±»ä¼¼è™šæ‹Ÿå­—ä½“çš„æŠ€æœ¯ã€‚ä½¿ç”¨ Fontlink æ—¶ï¼ŒæŸä¸ªå­—ä½“å¯ä»¥å’Œå¤šä¸ªå…¶å®ƒçš„å­—ä½“å»ºç«‹è¿æ¥å…³ç³»ã€‚è¿æ¥åï¼Œè¯¥å­—ä½“é€šå¸¸è¢«ç§°ä½œä¸»å­—ä½“ï¼Œè€Œå…¶å®ƒé‚£äº›ä¸ä¹‹è¿æ¥çš„å­—ä½“ç§°ä½œè¿æ¥å­—ä½“ã€‚ä¾‹å¦‚æˆ‘ä»¬å°†ä¸»å­—ä½“ Fira Code æ˜ å°„ä¸€ä¸ªè¿æ¥å­—ä½“æ–¹æ­£å…°äº­é»‘ï¼Œåœ¨è¾“å‡ºè‹±æ–‡æ—¶ä¼šä»¥ä¸»å­—ä½“ Fira Code æ˜¾ç¤ºï¼›è€Œåœ¨è¾“å‡ºä¸­æ–‡æ—¶ï¼ŒWindows åœ¨ä¸»å­—ä½“ Fira Code ä¸­æ²¡æœ‰æ‰¾åˆ°æ”¯æŒä¸­æ–‡çš„å­—ä½“ä¿¡æ¯ï¼Œé‚£ä¹ˆä¼šåœ¨è¿æ¥å­—ä½“æ–¹æ­£å…°äº­é»‘ä¸­ç»§ç»­æœç´¢ï¼Œæ˜¾ç„¶æ–¹æ­£å…°äº­é»‘æ˜¯æ”¯æŒä¸­æ–‡çš„ï¼Œæ‰€ä»¥è¾“å‡ºä¸­æ–‡æ—¶ä¼šä»¥æ–¹æ­£å…°äº­é»‘æ˜¾ç¤ºï¼Œç¾è§‚å¤šäº†ã€‚\nHKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\FontLink\\SystemLink\nå‚è€ƒé“¾æ¥"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Yolo":{"title":"Yolo","links":[],"tags":[],"content":"ç¯å¢ƒæ­å»º\nWindows\nYOLOv8 Dataset\n\ntest\n\nimages\nlabels\n\n\ntrain\n\nimages\nlabels\n\n\nval\n\nimages\nlabels\n\n\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/cgit":{"title":"cgit","links":[],"tags":[],"content":"cgit\nCgit æ˜¯ä¸€ä¸ª git ä»“åº“çš„å‰ç«¯æœåŠ¡ï¼Œä½¿ç”¨ C ç¼–å†™ã€‚å†…æ ¸çš„ä»“åº“å°±æ˜¯ç”¨çš„è¿™ä¸ªã€‚\nnote: å°† cgit ä»“åº“æ‰€æœ‰è€…è®¾ç½®ä¸º git:www-data, éœ€è¦æ£€æŸ¥æ–‡ä»¶å¤¹\r\nç”¨æˆ·ç»„çš„è¯»å†™æƒé™ï¼Œå¦‚æœæ²¡æœ‰å†™æƒé™çš„è¯ï¼Œgit push çš„æ—¶å€™ä¼šå‘ç”Ÿ\r\nerror: remote unpack failed: unable to create temporary object directory çš„é”™è¯¯ã€‚"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/luks":{"title":"luks","links":[],"tags":["TODO"],"content":"LUKS ç¡¬ç›˜åŠ å¯†\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/ubuntu":{"title":"ubuntu","links":[],"tags":[],"content":"å®‰è£…è¾“å…¥æ³•\nsudo apt install ibus-rime\n \nsudo apt install librime-data-double-pinyin\n \né…ç½®æ–‡ä»¶\næ›´æ¢å†…æ ¸\nsudo add-apt-repository ppa:cappelikan/ppa\n \nsudo apt update\n \nsudo apt install mainline\nä¸­æ–‡å­—ä½“æ˜¾ç¤ºå¼‚å¸¸\n sudo vim /etc/fonts/conf.d/64-language-selector-prefer.conf\nè¯¥æ–‡ä»¶é…ç½®äº† Noto Sans CJK çš„ä¼˜å…ˆçº§ã€‚\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;!DOCTYPE fontconfig SYSTEM &quot;fonts.dtd&quot;&gt;\r\n&lt;fontconfig&gt;\r\n        &lt;alias&gt;\r\n                &lt;family&gt;sans-serif&lt;/family&gt;\r\n                &lt;prefer&gt;\r\n                        &lt;family&gt;Noto Sans CJK SC&lt;/family&gt;\r\n                        &lt;family&gt;Noto Sans CJK JP&lt;/family&gt;\r\n                        &lt;family&gt;Noto Sans CJK KR&lt;/family&gt;\r\n                        &lt;family&gt;Noto Sans CJK TC&lt;/family&gt;\r\n                        &lt;family&gt;Noto Sans CJK HK&lt;/family&gt;\r\n                        &lt;family&gt;Lohit Devanagari&lt;/family&gt;\r\n                &lt;/prefer&gt;\r\n        &lt;/alias&gt;\r\n        &lt;alias&gt;\r\n                &lt;family&gt;serif&lt;/family&gt;\r\n                &lt;prefer&gt;\r\n                        &lt;family&gt;Noto Serif CJK SC&lt;/family&gt;\r\n                        &lt;family&gt;Noto Serif CJK JP&lt;/family&gt;\r\n                        &lt;family&gt;Noto Serif CJK KR&lt;/family&gt;\r\n                        &lt;family&gt;Noto Serif CJK TC&lt;/family&gt;\r\n                        &lt;family&gt;Lohit Devanagari&lt;/family&gt;\r\n                &lt;/prefer&gt;\r\n        &lt;/alias&gt;\r\n        &lt;alias&gt;\r\n                &lt;family&gt;monospace&lt;/family&gt;\r\n                &lt;prefer&gt;\r\n                        &lt;family&gt;Noto Sans Mono CJK SC&lt;/family&gt;\r\n                        &lt;family&gt;Noto Sans Mono CJK JP&lt;/family&gt;\r\n                        &lt;family&gt;Noto Sans Mono CJK KR&lt;/family&gt;\r\n                        &lt;family&gt;Noto Sans Mono CJK TC&lt;/family&gt;\r\n                        &lt;family&gt;Noto Sans Mono CJK HK&lt;/family&gt;\r\n                &lt;/prefer&gt;\r\n        &lt;/alias&gt;\r\n&lt;/fontconfig&gt;\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/windwos":{"title":"windwos","links":[],"tags":[],"content":"ç»ˆç«¯\n\nç»ˆç«¯æ¸…å±ï¼šcls\nnetstat\n"},"Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/åŸŸå":{"title":"åŸŸå","links":[],"tags":[],"content":""},"Aè®¡ç§‘å·¥ç¨‹/ä½è¿ç®—":{"title":"ä½è¿ç®—","links":[],"tags":["TODO","bit"],"content":"ä½è¿ç®—\nä½è¿ç®—å°±æ˜¯åŸºäºæ•´æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºè¿›è¡Œçš„è¿ç®—ã€‚ç”±äºè®¡ç®—æœºå†…éƒ¨å°±æ˜¯ä»¥äºŒè¿›åˆ¶æ¥å­˜å‚¨æ•°æ®ï¼Œä½è¿ç®—æ˜¯ç›¸å½“å¿«çš„ã€‚\nåŸºæœ¬çš„ä½è¿ç®—å…± 6 ç§ï¼Œåˆ†åˆ«ä¸ºæŒ‰ä½ä¸ã€æŒ‰ä½æˆ–ã€æŒ‰ä½å¼‚æˆ–ã€æŒ‰ä½å–åã€å·¦ç§»å’Œå³ç§»ã€‚\n\nè¿ç®—\nä¸ æˆ– å¼‚æˆ–\nä¸ã€æˆ–ã€å¼‚æˆ–éƒ½æ˜¯å°†ä¸¤ä¸ªæ•´æ•°ä½œä¸ºäºŒè¿›åˆ¶æ•°ï¼Œå¯¹äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„æ¯ä¸€ä½é€ä¸€è¿ç®—ã€‚\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nè¿ç®—è¿ç®—ç¬¦æ•°å­¦ç¬¦å·è¡¨ç¤ºè§£é‡Šä¸&amp;\\&amp;ã€andåªæœ‰ä¸¤ä¸ªå¯¹åº”ä½éƒ½ä¸º 1 æ—¶æ‰ä¸º 1æˆ–||ã€oråªè¦ä¸¤ä¸ªå¯¹åº”ä½ä¸­æœ‰ä¸€ä¸ª 1 æ—¶å°±ä¸º 1å¼‚æˆ–^\\oplusã€xoråªæœ‰ä¸¤ä¸ªå¯¹åº”ä½ä¸åŒæ—¶æ‰ä¸º 1\nå¼‚æˆ–è¿ç®—çš„é€†è¿ç®—æ˜¯å®ƒæœ¬èº«ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸¤æ¬¡å¼‚æˆ–åŒä¸€ä¸ªæ•°æœ€åç»“æœä¸å˜ï¼Œå³ a\\oplus{b}\\oplus{b}=a\n\n\n                  \n                  Note\n                  \n                \n\næ³¨æ„åŒºåˆ†é€»è¾‘ä¸ï¼ˆå¯¹åº”çš„æ•°å­¦ç¬¦å·ä¸º\\wedgeï¼‰å’ŒæŒ‰ä½ä¸ã€é€»è¾‘æˆ– (\\veeï¼‰å’ŒæŒ‰ä½æˆ–çš„åŒºåˆ«ã€‚ç»œä¸­çš„èµ„æ–™ä¸­ä½¿ç”¨çš„ç¬¦å·å¤šæœ‰ä¸è§„èŒƒä¹‹å¤„ï¼Œä»¥ä¸Šä¸‹æ–‡ä¸ºå‡†ã€‚\n\n\nå–å\nå–åæ˜¯å¯¹ä¸€ä¸ªæ•° num è¿›è¡Œçš„ä½è¿ç®—ï¼Œå³å•ç›®è¿ç®—ã€‚\nå–åæš‚æ— é»˜è®¤çš„æ•°å­¦ç¬¦å·è¡¨ç¤ºï¼Œå…¶å¯¹åº”çš„è¿ç®—ç¬¦ä¸º ~ã€‚å®ƒçš„ä½œç”¨æ˜¯æŠŠ num çš„äºŒè¿›åˆ¶è¡¥ç ä¸­çš„ 0 å’Œ 1 å…¨éƒ¨å–å (0 å˜ä¸º 1ï¼Œ1 å˜ä¸º 0ï¼‰ã€‚æœ‰ç¬¦å·æ•´æ•°çš„ç¬¦å·ä½åœ¨ ~ è¿ç®—ä¸­åŒæ ·ä¼šå–åã€‚\nè¡¥ç ï¼šåœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸‹ï¼Œæ­£æ•°å’Œ 0 çš„è¡¥ç ä¸ºå…¶æœ¬èº«ï¼Œè´Ÿæ•°çš„è¡¥ç æ˜¯å°†å…¶å¯¹åº”æ­£æ•°æŒ‰ä½å–åååŠ ä¸€ã€‚\nå·¦ç§» å³ç§»\nnum &lt;&lt; i è¡¨ç¤ºå°† num çš„äºŒè¿›åˆ¶è¡¨ç¤ºå‘å·¦ç§»åŠ¨ i ä½æ‰€å¾—çš„å€¼ã€‚\nnum &gt;&gt; i è¡¨ç¤ºå°† num çš„äºŒè¿›åˆ¶è¡¨ç¤ºå‘å³ç§»åŠ¨ i ä½æ‰€å¾—çš„å€¼ã€‚\nåº”ç”¨\nå‚è€ƒé“¾æ¥"},"Aè®¡ç§‘å·¥ç¨‹/æ“ä½œç³»ç»Ÿ/Freertos/Freertos":{"title":"Freertos","links":[],"tags":["TODO","freertos","rtos"],"content":"Freertos\n\nä»»åŠ¡è°ƒåº¦\nè°ƒåº¦å™¨å°±æ˜¯ä½¿ç”¨ç›¸å…³çš„è°ƒåº¦ç®—æ³•æ¥å†³å®šå½“å‰éœ€è¦æ‰§è¡Œå“ªä¸ªä»»åŠ¡ã€‚\nFreeRTOS æ”¯æŒä¸‰ç§ä»»åŠ¡è°ƒåº¦æ–¹å¼\n\næŠ¢å å¼: ä¸»è¦é’ˆå¯¹ä¼˜å…ˆçº§ä¸åŒçš„ä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡éƒ½æœ‰ä¸€ä¸ªä¼˜å…ˆçº§ï¼Œé«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡ä¼šæŠ¢å ä½ä¼˜å…ˆçº§ä»»åŠ¡ã€‚ï¼ˆæ•°å€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼‰\næ—¶é—´ç‰‡: ä¸»è¦é’ˆå¯¹ä¼˜å…ˆçº§ç›¸åŒçš„ä»»åŠ¡ï¼Œå½“å¤šä¸ªä»»åŠ¡çš„ä¼˜å…ˆçº§ç›¸åŒæ—¶ï¼Œä»»åŠ¡è°ƒåº¦å™¨ä¼šåœ¨æ¯ä¸€æ¬¡ç³»ç»Ÿæ—¶é’ŸèŠ‚æ‹åˆ°çš„æ—¶å€™åˆ‡æ¢ä»»åŠ¡ã€‚\nåç¨‹å¼:\n\nä»»åŠ¡çŠ¶æ€\n\nè¿è¡Œæ€ï¼šæ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¤„äºè¿è¡Œæ€\nå°±ç»ªæ€ï¼šå·²ç»èƒ½å¤Ÿè¢«æ‰§è¡Œï¼Œä½†å½“å‰è¿˜æœªè¢«æ‰§è¡Œ\né˜»å¡æ€ï¼šä»»åŠ¡å› å»¶æ—¶æˆ–ç­‰å¾…å¤–éƒ¨äº‹ä»¶å‘ç”Ÿï¼Œå¤„äºæŸ±å¡æ€\næŒ‚èµ·æ€ï¼šç±»ä¼¼æš‚åœï¼Œè°ƒç”¨å‡½æ•° vTaskSuspend() è¿›å…¥æŒ‚èµ·æ€ï¼Œéœ€è¦è°ƒç”¨è§£æŒ‚å‡½æ•° vTaskResume() æ‰å¯ä»¥è¿›å…¥å°±ç»ªæ€\n\né™¤äº†è¿è¡Œæ€ï¼Œå…¶ä»–ä¸‰ç§ä»»åŠ¡çŠ¶æ€çš„ä»»åŠ¡éƒ½æœ‰å…¶å¯¹åº”çš„ä»»åŠ¡çŠ¶æ€åˆ—è¡¨ã€‚\nå››ç§ä»»åŠ¡çŠ¶æ€ä¹‹é—´çš„è½¬æ¢å›¾ï¼š\r\n\nå‚è€ƒé“¾æ¥\nwww.freertos.org/"},"Aè®¡ç§‘å·¥ç¨‹/æ“ä½œç³»ç»Ÿ/Linux/ä¿¡å·":{"title":"ä¿¡å·","links":[],"tags":["TODO","linux","signal","kernel"],"content":"ä¿¡å·\nä¿¡å·æ˜¯ä¸€ç§è½¯ä¸­æ–­ï¼Œä¿¡å·æœºåˆ¶æ˜¯è¿›ç¨‹é—´é€šä¿¡çš„ä¸€ç§æ–¹å¼ï¼Œé‡‡ç”¨å¼‚æ­¥é€šä¿¡æ–¹å¼ã€‚\n\næ·±å…¥ç†è§£ Linux å†…æ ¸â€”â€”signals\nä¿¡å·å¾ˆæ—©å°±åœ¨ unix ç³»ç»Ÿä¸­å‡ºç°äº†ï¼Œå®ƒç”¨äºç”¨æˆ·è¿›ç¨‹ä¹‹é—´çš„äº¤äº’ï¼Œå‡ åå¹´ä»¥æ¥ï¼Œå˜åŒ–éƒ½ä¸å¤§ã€‚ä¿¡å·æ˜¯ä¸€ä¸ªå‘é€ç»™è¿›ç¨‹æˆ–è€…è¿›ç¨‹ç»„çš„æ¶ˆæ¯ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæ²¡æœ‰å‚æ•°æˆ–è€…å…¶ä»–è¾…åŠ©çš„ä¿¡æ¯ã€‚ä»¥ SIG ä¸ºå‰ç¼€çš„å®å®šä¹‰è¡¨ç¤ºç€è¿™äº›ä¸åŒçš„ä¿¡å·æ•°å­—ã€‚è¿›ç¨‹çš„ä¿¡å·ä¸»è¦æœ‰ 2 ä¸ªç›®çš„ï¼š\n\nå‘ŠçŸ¥è¿›ç¨‹ä¸€ä¸ªç‰¹å®šçš„äº‹ä»¶äº§ç”Ÿäº†\nè§¦å‘è¿›ç¨‹å»æ‰§è¡Œç¨‹åºä»£ç ä¸­å¤„ç†ä¿¡å·çš„ signal handler\n\nä¿¡å·çš„æœ€å¤§ç‰¹ç‚¹æ˜¯å®ƒæ˜¯å¼‚æ­¥çš„ï¼Œä¹Ÿå°±æ˜¯åœ¨è¿›ç¨‹æ‰§è¡Œçš„ä»»æ„æ—¶åˆ»ä¿¡å·éƒ½å¯èƒ½äº§ç”Ÿï¼Œæ­¤æ—¶è¿›ç¨‹çš„çŠ¶æ€æ˜¯ä¸å¯çŸ¥çš„ã€‚å‘é€ç»™è¿›ç¨‹çš„ä¿¡å·å¦‚æœæ²¡æœ‰è¢«æ‰§è¡Œï¼Œå°±ä¼šç”±å†…æ ¸å°†å®ƒä¿å­˜èµ·æ¥ï¼Œç›´åˆ°è¿›ç¨‹è¢«å”¤é†’å¼€å§‹æ‰§è¡Œã€‚å¦‚æœæŸä¸ªä¿¡å·è¢«è¿›ç¨‹é…ç½®ä¸ºå±è”½ï¼Œé‚£ä¹ˆè¿™ä¸ªä¿¡å·å°±ä¼šä¸€ç›´è¢«æŒ‚èµ·è€Œä¸ä¼šè¢«è§¦å‘ï¼Œç›´åˆ°å®ƒè¢« unblockã€‚\nLinux å†…æ ¸å¯¹ä¿¡å·ä¼ é€’è¿‡ç¨‹ä¸­çš„ 2 ä¸ªé˜¶æ®µè¿›è¡Œäº†åŒºåˆ†ï¼š\n\nsignal generationï¼šäº§ç”Ÿä¿¡å·ï¼Œæ­¤æ—¶ç”±å†…æ ¸åœ¨ç›®æ ‡è¿›ç¨‹ä¸­çš„å¯¹åº”æ•°æ®ç»“æ„ä¸­æ›´æ–°ä¿¡å·çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯æŒ‚ä¸ªåå…ˆ\nsignal deliveryï¼šä¿¡å·è¢«è¿›ç¨‹å“åº”ï¼Œå†…æ ¸å°†è¿›ç¨‹çš„æ‰§è¡Œæµè½¬åˆ°ä¿¡å·è§¦å‘çš„ signal handler ä¸­\n\nä¿¡å·åœ¨è¿›ç¨‹ä¸­å·²ç»ç”Ÿæˆï¼Œä¸è¿‡è¿˜æ²¡æœ‰è¢«å“åº”çš„æƒ…å†µï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º pending signalã€‚åŒä¸€ä¸ªç±»å‹çš„ä¿¡å·åªä¼šå­˜åœ¨ä¸€ä¸ªè¢«æŒ‚èµ·çš„æƒ…å†µï¼Œæ‰€ä»¥ä¹Ÿå°±æ˜¯åœ¨ä¿¡å·æ²¡æœ‰è¢«å“åº”å‰ï¼Œé‡å¤å‘é€å¤šæ¬¡çš„ä¿¡å·ï¼Œè¿›ç¨‹ä¹Ÿæœ€ç»ˆä¹Ÿåªä¼šå“åº”ä¸€æ¬¡ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ªä¿¡å·ä¼šè¢«é˜»å¡å¤šä¹…æ—¶é—´æ˜¯ä¸å¯çŸ¥çš„ï¼Œæ‰€ä»¥éœ€è¦è€ƒè™‘ä¿¡å·çš„è¿™äº›ç‰¹ç‚¹ï¼š\n\nè¿›ç¨‹åªæœ‰åœ¨å¤„äºè¿è¡ŒçŠ¶æ€çš„æ—¶å€™æ‰èƒ½å¤Ÿå“åº”ä¿¡å·\nå‘é€ç»™è¿›ç¨‹çš„ä¿¡å·å¯èƒ½è¢«è¿›ç¨‹ä¸»åŠ¨é€‰æ‹©å±è”½ï¼Œè¿™ç§æƒ…å†µä¸‹è¿›ç¨‹å°†ä¸ä¼šå“åº”è¿™ä¸ªä¿¡å·\nä¸€ä¸ªè¿›ç¨‹åœ¨æ‰§è¡Œä¿¡å·å¤„ç†å‡½æ•°æ—¶ï¼Œé€šå¸¸ä¼šå°†è¿™ä¸ªä¿¡å·å±è”½ç›´åˆ°å¤„ç†ç»“æŸï¼Œè¿™æ ·ä¿è¯äº†ä¸ä¼šåŒæ—¶å“åº”ç›¸åŒçš„ä¿¡å·ï¼Œä¿¡å·çš„å¤„ç†å‡½æ•°ä¹Ÿå°±ä¸å¿…è¦æ±‚æ˜¯å¯é‡å…¥çš„\n\nè¿›ç¨‹å¯¹ä¸€ä¸ªä¿¡å·çš„å“åº”å­˜åœ¨ä¸‹é¢ 3 ç§æƒ…å†µï¼š\n\næ˜¾å¼åœ°å¿½ç•¥\næ‰§è¡Œé»˜è®¤çš„æµç¨‹ï¼Œæ¯ä¸ªä¿¡å·éƒ½æœ‰ä¸€ä¸ªé»˜è®¤çš„å¤„ç†æ–¹å¼ï¼Œå®ƒä»¬å¯èƒ½æ˜¯ï¼šterminateã€dumpï¼ˆç»ˆæ­¢å¹¶ç”Ÿæˆ core fileï¼‰ã€ignoreã€stopã€continue\næ•è·ä¿¡å·ï¼Œæ‰§è¡Œç¨‹åºè®¾å®šå¥½çš„å¤„ç†æµç¨‹\n\nä¿¡å·è¢« block å’Œ ignore æ˜¯ä¸ä¸€æ ·çš„ï¼Œblocked æ˜¯è¿›ç¨‹æ²¡æœ‰æ”¶åˆ°ä¿¡å·ï¼Œè€Œ ignore æ˜¯æ”¶åˆ°äº†ä¿¡å·ï¼Œè€Œæ²¡æœ‰åšä»»ä½•å¤„ç†ã€‚ç±»ä¼¼äºä¸€ä¸ªäººæ”¶åˆ°äº†ä¿¡ï¼Œä¸è¿‡ç›´æ¥å°†å®ƒä¸¢è¿›äº†åƒåœ¾æ¡¶ï¼Œé‚£å°±æ˜¯ ignoreï¼Œè€Œå¦‚æœç›´æ¥æ‹’æ”¶é‚£ä»½ä¿¡ï¼Œå°±æ˜¯ blockedã€‚\nSIGKILL &amp; SIGSTOP æ˜¯ä¸èƒ½è¢« ignoreã€captureã€block çš„ï¼Œå®ƒä»¬çš„é»˜è®¤æµç¨‹å¿…é¡»è¢«æ‰§è¡Œï¼Œé‚£å°±æ˜¯æ€æ­»è¿™ä¸ªè¿›ç¨‹ã€‚\næŒ‰ç…§ POSIX è¦æ±‚ï¼Œä¿¡å·åœ¨å¤šçº¿ç¨‹è¿›ç¨‹ä¸­çš„ç‰¹æ€§å¦‚ä¸‹ï¼š\n\nä¿¡å·åº”è¯¥è¢«è¿›ç¨‹ä¸­çš„æ‰€æœ‰çº¿ç¨‹å…±äº«ï¼Œä¸è¿‡æ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±ç‹¬æœ‰çš„ maskï¼Œç”¨äºé…ç½® block å“ªäº›ä¿¡å·\nkill() &amp; sigqueue() åº“å‡½æ•°æ˜¯å¯¹æ‰€æœ‰çš„çº¿ç¨‹å‘é€ä¿¡å·ï¼Œè€Œä¸æ˜¯ç‰¹å®šçš„ä¿¡å·\nä¿¡å·åªä¼šè¢«å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹å“åº”ï¼Œè¿™ä¸ªçº¿ç¨‹æ˜¯æ‰€æœ‰æ²¡æœ‰å±è”½æ­¤ä¿¡å·çš„çº¿ç¨‹ä¸­çš„ä»»æ„ä¸€ä¸ª\nå¦‚æœæ˜¯è‡´å‘½ä¿¡å·ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„çº¿ç¨‹éƒ½ä¼šè¢«æ€æ­»\n\nå®æ—¶ä¿¡å·\né™¤äº† Linux ä¸­ä½¿ç”¨çš„ 1ï½31 çš„å¸¸è§„ä¿¡å·ï¼ŒPOSIX æ ‡å‡†è¿˜å®šä¹‰äº†ä¸€ä¸ªå®æ—¶ä¿¡å·é›†ï¼Œå®ƒä»¬åœ¨ Linux ä¸­çš„ç¼–å·æ˜¯ 32ï½64ã€‚å®æ—¶ä¿¡å·ç›¸æ¯”è¾ƒäºå¸¸è§„çš„ä¿¡å·ï¼Œå·®åˆ«æ˜¯å¸¸è§„çš„ä¿¡å·åœ¨åŒä¸€æ—¶é—´åŒä¸€ç±»å‹çš„ä¿¡å·åªå…è®¸è§¦å‘ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯é‡å¤å‘å¤šæ¬¡ä¿¡å·ï¼Œè¿›ç¨‹åªå“åº”ä¸€æ¬¡ã€‚è€Œå®æ—¶ä¿¡å·åˆ™æ˜¯å¯ä»¥å¤šä¸ªç›¸åŒçš„ä¿¡å·åœ¨é˜Ÿåˆ—ä¸­æ’é˜Ÿï¼Œä¹Ÿå°±æ˜¯é‡å¤å‘å¤šå°‘æ¬¡ä¿¡å·ï¼Œè¿›ç¨‹å°±ä¼šæƒ³è¦å¤šå°‘æ¬¡ã€‚Linux ç³»ç»Ÿä¸ä½¿ç”¨å®æ—¶ä¿¡å·ï¼Œä¸è¿‡å®ƒé€šè¿‡ä¸€äº›ç‰¹æ®Šçš„ç³»ç»Ÿè°ƒç”¨æ¥æ»¡è¶³ POSIX çš„æ ‡å‡†ã€‚\nä¿¡å·ç›¸å…³çš„æ•°æ®ç»“æ„\nä¸‹é¢è¿™å¼ å›¾åˆ—å‡ºäº†ä¿¡å·ç›¸å…³çš„æ•°æ®ä¹‹é—´çš„å…³ç³»ï¼š\n\nä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œä¸€ä¸ªè¿›ç¨‹çš„ä¿¡å·ç­‰å¾…é˜Ÿåˆ—æœ‰ 2 ä¸ªï¼Œä¸€ä¸ªæ˜¯æ‰€æœ‰çº¿ç¨‹ç»„å…±äº«çš„ï¼Œå­˜æ”¾åœ¨ signal çš„ shared_pending é˜Ÿåˆ—ä¸­ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯ç§æœ‰çš„ï¼Œå­˜æ”¾åœ¨è¿›ç¨‹çš„ pending é˜Ÿåˆ—ä¸­ã€‚ä¹‹æ‰€ä»¥é‡‡ç”¨ 2 ä¸ªé˜Ÿåˆ—ï¼Œæ˜¯å› ä¸ºæœ‰çš„ç³»ç»Ÿè°ƒç”¨æ˜¯ç»™ä¸€ä¸ªæ‰€æœ‰çš„çº¿ç¨‹å‘ä¿¡å·ï¼Œæ¯”å¦‚ kill() &amp; rt_sigqueueinfo()ï¼Œæœ‰çš„åˆ™æ˜¯ç»™æŒ‡å®šçš„ç‰¹å®šè¿›ç¨‹å‘é€ä¿¡å·ï¼Œæ¯”å¦‚ tkill() &amp; tgkill()ã€‚\nä¿¡å·çš„äº§ç”Ÿ\nè®¸å¤šçš„å†…æ ¸å‡½æ•°èƒ½å¤Ÿäº§ç”Ÿä¿¡å·ï¼Œå®ƒä»¬é€šè¿‡ä¿®æ”¹è¿›ç¨‹æè¿°ç¬¦ä¸­å…³äºä¿¡å·ç›¸å…³çš„æ•°æ®å®ç°ï¼Œå‰©ä¸‹è¿›ç¨‹å¦‚ä½•å“åº”è¿™ä¸ªä¿¡å·ï¼Œå®ƒä»¬ä¸ç®¡ã€‚æ ¹æ®ä¸åŒçš„ä¿¡å·ç±»å‹ï¼Œå†…æ ¸ä¼šé€‰æ‹©æ˜¯å¦ç«‹å³å”¤é†’è¿›ç¨‹å¹¶æ‰§è¡Œä¿¡å·å¤„ç†æµç¨‹ã€‚ä¸ç®¡ä¿¡å·æ˜¯ç”±å†…æ ¸ç”Ÿæˆè¿˜æ˜¯ç”±å…¶ä»–è¿›ç¨‹å‘èµ·ï¼Œéƒ½æ˜¯å†…æ ¸è°ƒç”¨ç›¸å…³çš„ä¿¡å·ç”Ÿæˆçš„å‡½æ•°ï¼Œç”¨äºäº§ç”Ÿä¿¡å·çš„å‡½æ•°å¾ˆå¤šï¼š\n\nsend_sig\nsend_sig_info\nforce_sig\nforce_sig_info\nsys_tkill\nsys_tgkill\n\næˆ‘ä»¬è¿½è¸ª send_sig è¿™ä¸ªå‡½æ•°ï¼Œçœ‹ä¿¡å·ç”Ÿæˆçš„å®ç°ç»†èŠ‚ï¼Œå®ƒå¤§æ¦‚çš„è°ƒç”¨æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n\nä»ç³»ç»Ÿè°ƒç”¨ sys_kill çœ‹ç”¨æˆ·ç©ºé—´å‘ä¸€ä¸ªè¿›ç¨‹å‘é€ä¿¡å·æ—¶ï¼Œä¿¡å·çš„äº§ç”Ÿè¿‡ç¨‹ï¼š\nstatic inline void prepare_kill_siginfo(int sig, struct kernel_siginfo *info)\n{\n    clear_siginfo(info);\n    info-&gt;si_signo = sig;\n    info-&gt;si_errno = 0;\n    info-&gt;si_code = SI_USER;\n    info-&gt;si_pid = task_tgid_vnr(current);\n    info-&gt;si_uid = from_kuid_munged(current_user_ns(), current_uid());\n}\n \n/**\n *  sys_kill - send a signal to a process\n *  @pid: the PID of the process\n *  @sig: signal to be sent\n */\nSYSCALL_DEFINE2(kill, pid_t, pid, int, sig)\n{\n    struct kernel_siginfo info;\n \n    prepare_kill_siginfo(sig, &amp;info);\n \n    return kill_something_info(sig, &amp;info, pid);\n}\né¦–å…ˆï¼Œè¿™é‡Œé€šè¿‡ prepare_kill_siginfo å¡«å…… kernel_siginfo è¿™ä¸ªç»“æ„ä½“ï¼Œè¿™é‡Œé¢åŒ…å«çš„æ˜¯å‘é€è¿™ä¸ªä¿¡å·çš„ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚å‘é€çš„æ¥æºã€å‘èµ·è¿›ç¨‹çš„ pid/uid ç­‰ã€‚kill_something_info ä¸­æ ¹æ® pid å‚æ•°çš„å€¼æ¥ç¡®å®šå®ƒçš„æ“ä½œï¼š\n\npid &gt; 0ï¼Œå‘é€ä¿¡å·ç»™å¯¹åº”è¿™ä¸ª pid çš„è¿›ç¨‹\npid = 0ï¼Œå‘é€ä¿¡å·ç»™å½“å‰è¿›ç¨‹ç»„ä¸­çš„æ‰€æœ‰è¿›ç¨‹\npid = -1ï¼Œå‘é€ç»™å½“å‰ç”¨æˆ·æ‹¥æœ‰æƒé™çš„æ‰€æœ‰è¿›ç¨‹ï¼ˆinit è¿›ç¨‹é™¤å¤–ï¼‰\npid &lt; -1ï¼Œå‘é€ä¿¡å·ç»™å½“å‰è¿›ç¨‹ç»„ä¸­å¯¹åº” -pid çš„è¿›ç¨‹\n\næœ€ç»ˆï¼Œéƒ½æ˜¯è°ƒç”¨ send_signal è¿™ä¸ªå‡½æ•°ï¼Œæ ¹æ®ä»¥ä¸Š pid å‚æ•°ä¸åŒçš„å€¼ï¼Œé€‰æ‹© send_signal å‡½æ•°ä¸åŒçš„è¾“å…¥å‚æ•°ã€‚ä¸»è¦æ˜¯é€‰æ‹©æ˜¯å¯¹å“ªä¸ª task è¿›è¡Œä¿¡å·æ“ä½œï¼Œä»¥åŠè¿™ä¸ª pid æ‰€ä»£è¡¨çš„ typeï¼Œä¹Ÿå°±æ˜¯ä¿¡å·çš„ä½œç”¨èŒƒå›´æ˜¯æ€æ ·çš„ï¼Œä¸‹é¢å°±æ˜¯ pid å‡ ç§ç±»å‹ï¼Œä¿¡å·ä¼ é€’çš„èŒƒå›´æŒ‰ç…§è¿™ä¸ªç±»å‹ç”±å°åŠå¤§ï¼š\nenum pid_type\n{\n    PIDTYPE_PID,\n    PIDTYPE_TGID,\n    PIDTYPE_PGID,\n    PIDTYPE_SID,\n    PIDTYPE_MAX,\n};\nåœ¨ __send_signal ä¸­ï¼Œé€šè¿‡ __sigqueue_alloc åˆ›å»ºä¸€ä¸ªä¿¡å·é˜Ÿåˆ—å…ƒç´ ï¼Œç„¶åæ·»åŠ åˆ° pending é˜Ÿåˆ—ä¸­ï¼Œå¦‚æœæ˜¯ PIDTYPE_PIDï¼Œå°±ä½¿ç”¨å‰é¢æåŠçš„ç§æœ‰çš„ pending é˜Ÿåˆ—ï¼Œå¦åˆ™å°±ä½¿ç”¨å…±äº«çš„ pending é˜Ÿåˆ—ã€‚signalfd_noftify åˆ™æ˜¯é€šçŸ¥ signalfd æ–‡ä»¶ï¼Œæœ‰ä¿¡å·å‘é€è¿‡æ¥äº†ï¼ˆsignalfd æ˜¯å°†ä¿¡å·é€šè¿‡ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦è¿›è¡Œæ¥å—ï¼Œç„¶åå°±å¯ä»¥åœ¨ select è¿™æ ·çš„æ¥å£ä¸­ç›‘æ§å®ƒï¼Œå…·ä½“ä¿¡æ¯è¯·æŸ¥çœ‹ï¼‰ã€‚\nsigpending çš„æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š\nstruct sigpending {\n    struct list_head list;\n    sigset_t signal;\n};\nç¬¬ä¸€é¡¹ list å°±æ˜¯ä¿¡å·ç­‰å¾…é˜Ÿåˆ—çš„å¤´ï¼Œè€Œç¬¬äºŒé¡¹ signal åˆ™æ˜¯ä¸€ä¸ª 64bit çš„ä¸€ä¸ªæ•°æ®ï¼Œå®ƒçš„æ¯ä¸€ä¸ª bit ä»£è¡¨ç€å¯¹åº”ç¼–å·çš„ä¸€ä¸ªä¿¡å·ã€‚å¦‚æœå¯¹åº”çš„ bit ä½è¢«ç½®ä½ï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºå¯¹åº”è¿›ç¨‹æ”¶åˆ°äº†è¿™ä¸ªåºå·çš„ä¿¡å·ã€‚__send_signal ä¸­çš„ sigaddset å°±æ˜¯æ“ä½œ signalï¼Œåœ¨å¯¹åº”çš„ bit ä½ä¸Šå†™ 1ã€‚\ncomplete_signal é€šè¿‡ signal_wake_up åœ¨éœ€è¦æ¥å—ä¿¡å·çš„ task ä¸­è®¾ç½®æ ‡å¿—ä½ TIF_SIGPENDINGï¼Œå®Œæˆä¿¡å·çš„äº§ç”Ÿã€‚å¦‚æœæ˜¯ä¸€ä¸ªè‡´å‘½ä¿¡å·ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹æ‰€åœ¨çš„æ‰€æœ‰çº¿ç¨‹éƒ½éœ€è¦è¢«æ€æ­»ï¼Œæ‰€ä»¥è¿™ä¸ªè¿›ç¨‹ä¸­çš„æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½ä¼šè¢«æ ‡è®° TIF_SIGPENDINGã€‚\nä¿¡å·çš„å“åº”\nå†…æ ¸åœ¨æ¯æ¬¡è·³è½¬åˆ°ç”¨æˆ·ç©ºé—´ä¹‹å‰ï¼Œéƒ½ä¼šæ£€æŸ¥ä¸€ä¸‹å½“å‰è¿™ä¸ª task çš„æ ‡å¿—çŠ¶æ€ï¼Œå¦‚æœå‰é¢æ‰€è¯´çš„ TIF_SIGPENDING æ ‡å¿—è¢«ç½®ä½ï¼Œé‚£ä¹ˆå°±è¯´æ˜å½“å‰è¿™ä¸ª task æœ‰ä¿¡å·éœ€è¦å¤„ç†ï¼Œå†…æ ¸å°±ä¼šå¼€å§‹è¿›è¡Œä¿¡å·çš„å“åº”å¤„ç†ã€‚ä¸‹é¢æ˜¯å†…æ ¸è·³è½¬åˆ°ç”¨æˆ·ç©ºé—´å‰çš„æ±‡ç¼–ä»£ç  ret_to_userï¼š\n/*\n * Ok, we need to do extra processing, enter the slow path.\n */\nwork_pending:\n    mov    x0, sp                // &#039;regs&#039;\n    bl    do_notify_resume\n#ifdef CONFIG_TRACE_IRQFLAGS\n    bl    trace_hardirqs_on        // enabled while in userspace\n#endif\n    ldr    x1, [tsk, #TSK_TI_FLAGS]    // re-check for single-step\n    b    finish_ret_to_user\n/*\n * &quot;slow&quot; syscall return path.\n */\nret_to_user:\n    disable_daif\n    gic_prio_kentry_setup tmp=x3\n    ldr    x1, [tsk, #TSK_TI_FLAGS]\n    and    x2, x1, #_TIF_WORK_MASK\n    cbnz    x2, work_pending\nfinish_ret_to_user:\n    enable_step_tsk x1, x2\n#ifdef CONFIG_GCC_PLUGIN_STACKLEAK\n    bl    stackleak_erase\n#endif\n    kernel_exit 0\nand x2, x1, #_TIF_WORK_MASK è¿™æ¡æŒ‡ä»¤åˆ¤æ–­å½“å‰çš„ task åˆ¤æ–­æ ‡å¿—ï¼Œå¦‚æœæœ‰éœ€è¦å¤„ç†çš„æ ‡å¿—ï¼Œé‚£ä¹ˆå°±è·³è½¬åˆ° work_pendingï¼Œåœ¨è¿™é‡Œåˆ¤æ–­å¦‚æœæœ‰æ”¶åˆ°ä¿¡å·ï¼Œé‚£ä¹ˆå°±è°ƒç”¨ do_signal è¿›è¡Œä¿¡å·çš„å“åº”ã€‚åœ¨ do_signal å‡½æ•°å®šä¹‰å‰çš„æ³¨è§†è¯´çš„æ¯”è¾ƒæ¸…æ¥šï¼š\n/*\n * Note that &#039;init&#039; is a special process: it doesn&#039;t get signals it doesn&#039;t\n * want to handle. Thus you cannot kill init even with a SIGKILL even by\n * mistake.\n *\n * Note that we go through the signals twice: once to check the signals that\n * the kernel can handle, and then we build all the user-level signal handling\n * stack-frames in one go after that.\n */\nstatic void do_signal(struct pt_regs *regs)\ninit è¿›ç¨‹æ˜¯ä¸æ¥å—ä¿¡å·çš„ï¼Œæ‰€ä»¥å®ƒæ˜¯æ€ä¸æ­»çš„ã€‚do_signal ä¸­ä¼šæ‰«æçœ‹å“ªäº›ä¿¡å·æ˜¯å†…æ ¸ä¸­å°±å¯ä»¥å¤„ç†çš„ï¼Œè¿™æ ·å°±éœ€è¦ä¸ºè·³è½¬åˆ°ç”¨æˆ·ç©ºé—´è€Œåˆ›å»ºä¸€ä¸ªå¤„ç†ä¿¡å·ç”¨çš„ç”¨æˆ·ç©ºé—´æ ˆå¸§ã€‚ä¸‹é¢æ˜¯å®ƒçš„è°ƒç”¨æµç¨‹ï¼š\n\nå†…æ ¸ä¸­å¯¹äºä¿¡å·çš„å“åº”ï¼Œä¸»è¦åšäº† 2 ä»¶äº‹æƒ…ï¼Œç¬¬ä¸€ä¸ªæ˜¯å°†æœ¬æ¬¡å“åº”çš„ä¿¡å·ä»é˜Ÿåˆ—ä¸­ç§»é™¤ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯ä¸ºç”¨æˆ·ç©ºé—´çš„ä¿¡å·å¤„ç†å‡†å¤‡å¥½ç¯å¢ƒã€‚\nget_signal ä¸­å°±æ˜¯ä»é˜Ÿåˆ—ä¸­å°†ä¿¡å·å–å‡ºï¼Œå°†å®ƒå­˜å‚¨åˆ°ä¸€ä¸ª ksignal çš„ç»“æ„æ•°æ®ä¸­ï¼š\nstruct ksignal {\n    struct k_sigaction ka;\n    kernel_siginfo_t info;\n    int sig;\n};\nè¿™é‡Œé¢å°±åŒ…å«äº†æˆ‘ä»¬åœ¨å“åº”ä¿¡å·æ—¶æ‰€éœ€è¦çš„ 3 ä¸ªä¿¡æ¯ï¼šä¿¡å·ç¼–å·ã€ä¿¡å·çš„å¤„ç†æ–¹å¼ã€å‘é€ä¿¡å·çš„é™„åŠ ä¿¡æ¯ã€‚__dequeue_signal ä»é˜Ÿåˆ—ä¸­ç§»é™¤æ­¤æ¬¡ä¿¡å·ï¼Œå…¶ä¸­ sigdelset æ˜¯å¯¹æ ‡ç¤ºä¿¡å·çš„æ¯”ç‰¹ä½è¿›è¡Œæ¸…é›¶æ“ä½œï¼ˆå¦‚æœæ˜¯å®æ—¶ä¿¡å·ï¼Œåˆ™å¯èƒ½ä¸éœ€è¦è¿›è¡Œæ¸…ç©ºï¼Œå› ä¸ºè¿è¡Œå¤šä¸ªç›¸åŒçš„ä¿¡å·å­˜åœ¨é˜Ÿåˆ—ä¸­ï¼‰ï¼Œ__sigqueue_free åˆ™æ˜¯å¯¹é˜Ÿåˆ—å…ƒç´ è¿›è¡Œé‡Šæ”¾ã€‚å®Œæˆäº†å‡ºé˜Ÿæ“ä½œåï¼Œåˆ™é€šè¿‡ recalc_sigpending æ¥åˆ¤æ–­æ­¤è¿›ç¨‹æ˜¯å¦è¿˜æœ‰åœ¨ç­‰å¾…å“åº”çš„ä¿¡å·ï¼Œå¦‚æœæ²¡æœ‰äº†ï¼Œé‚£ä¹ˆå°±æ¸…é™¤ è¿›ç¨‹çš„ TIF_SIGPENDING æ ‡å¿—ã€‚\nhandle_signal åˆ™æ˜¯ä¸ºç”¨æˆ·ç©ºé—´å‡†å¤‡å¥½å¤„ç†ä¿¡å·çš„ç¯å¢ƒã€‚è¿™ä¸ªç¯å¢ƒåŒ…å« 3 ä¸ªéƒ¨åˆ†ï¼šä¸€æ˜¯ä¿å­˜è¿›ç¨‹è¢«ä¿¡å·æ‰“æ–­æ—¶çš„ä½ç½®ï¼Œè¿™æ ·ä»¥ä¾¿ä¿¡å·å¤„ç†å®Œæˆåç»§ç»­ç¨‹åºçš„æ‰§è¡Œï¼›äºŒæ˜¯å°†è¿›ç¨‹çš„æ‰§è¡Œç‚¹è½¬ç§»åˆ°ä¿¡å·å¤„ç†æµç¨‹ä¸­ï¼Œè¿›è¡ŒçœŸæ­£çš„ä¿¡å·å“åº”ï¼›ä¸‰æ˜¯ç­‰ç”¨æˆ·ç©ºé—´çš„ä¿¡å·å¤„ç†å®Œæ¯•åï¼Œå®ƒéœ€è¦å†æ¬¡å›åˆ°å†…æ ¸ç©ºé—´ï¼Œè®©å†…æ ¸å†æŠŠç”¨æˆ·è¿›ç¨‹åˆ‡æ¢åˆ°ä¿¡å·ä¸­æ–­å‰çš„ä½ç½®å¤„ã€‚å½“ç„¶è®¸å¤šçš„ä¿¡å·å“åº”ä¸éœ€è¦è¿›å…¥ç”¨æˆ·ç©ºé—´è¿›è¡Œå¤„ç†ï¼Œå› ä¸ºå¾ˆå¤šé»˜è®¤ä¸º ignore è¡Œä¸ºçš„ä¿¡å·ç›´æ¥åœ¨ get_signal é˜¶æ®µå°±å®Œæˆäº†ï¼Œè¿˜æœ‰ä¸€ä¸‹è‡´å‘½ä¿¡å·ï¼Œç›´æ¥å°±ç”±å†…æ ¸å»å¤„ç†ç»ˆæ­¢æµç¨‹äº†ã€‚\næ²¡å½“è¿›ç¨‹ä»ç”¨æˆ·ç©ºé—´è¿›å…¥å†…æ ¸ç©ºé—´çš„æ—¶å€™ï¼Œç”¨æˆ·ç©ºé—´å½“å‰çš„å¯„å­˜å™¨çŠ¶æ€å°±ä¼šè¢«ä¿å­˜åœ¨å†…æ ¸ç©ºé—´çš„æ ˆä¸­ï¼ˆè¿™ä¸ªæ˜¯ç”±å¼‚å¸¸å¤„ç†å…¥å£å¤„çš„æ±‡ç¼–æŒ‡ä»¤å®Œæˆå…¥æ ˆï¼‰ï¼Œåœ¨å†…æ ¸ä¸­å°±æ˜¯é€šè¿‡ä¸€ä¸ªåä¸º pt_regs ç»“æ„æ•°æ®æŒ‡ç¤ºç€ç”¨æˆ·ç©ºé—´åœ¨è¿›å…¥å†…æ ¸å‰çš„å¯„å­˜å™¨ã€‚åœ¨ä¿¡å·å¤„ç†å“åº”æµç¨‹ä¸­ï¼Œå½“è¿›ç¨‹ç¬¬ä¸€ä¸ªä»ç”¨æˆ·ç©ºé—´è¿›å…¥å†…æ ¸ç©ºé—´æ—¶ï¼Œpt_regs å°±åŒ…å«ç€è¿›ç¨‹è¢«ä¿¡å·æ‰“æ–­å‰çš„ä¸Šä¸‹æ–‡ã€‚è€Œå½“å†…æ ¸å›åˆ°ç”¨æˆ·ç©ºé—´çš„æ—¶å€™ï¼Œè¿™ä¸ªä¸Šä¸‹æ–‡å°±ä¼šä¸¢å¤±ï¼Œå› ä¸ºæ¯æ¬¡ç”±ç”¨æˆ·ç©ºé—´è¿›å…¥å†…æ ¸ç©ºé—´çš„æ—¶å€™ï¼Œå†…æ ¸çš„æ ˆéƒ½æ˜¯æ¸…ç©ºçŠ¶æ€çš„ã€‚æ‰€ä»¥è¢«ä¿¡å·æ‰“æ–­å‰çš„ç¡¬ä»¶ä¸Šä¸‹æ–‡å°±éœ€è¦ä¿å­˜åœ¨ç”¨æˆ·ç©ºé—´çš„å †æ ˆä¸­ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å‡†å¤‡ç¯å¢ƒçš„ç¬¬ä¸€ä¸ªéƒ¨åˆ†ï¼Œè¿™éƒ¨åˆ†çš„å¤„ç†æµç¨‹ç”± setup_sigframeå®Œæˆã€‚\nå¯¹äºç¬¬äºŒå’Œç¬¬ä¸‰éƒ¨åˆ†çš„ç¯å¢ƒå‡†å¤‡åˆ™æ˜¯é€šè¿‡ setup_return å®Œæˆï¼ˆä¸‹é¢æ˜¯ ARM64 æ¶æ„çš„å®ç°ï¼‰ï¼š\nstatic void setup_return(struct pt_regs *regs, struct k_sigaction *ka,\n             struct rt_sigframe_user_layout *user, int usig)\n{\n    __sigrestore_t sigtramp;\n \n    regs-&gt;regs[0] = usig;\n    regs-&gt;sp = (unsigned long)user-&gt;sigframe;\n    regs-&gt;regs[29] = (unsigned long)&amp;user-&gt;next_frame-&gt;fp;\n    regs-&gt;pc = (unsigned long)ka-&gt;sa.sa_handler;\n \n    if (ka-&gt;sa.sa_flags &amp; SA_RESTORER)\n        sigtramp = ka-&gt;sa.sa_restorer;\n    else\n        sigtramp = VDSO_SYMBOL(current-&gt;mm-&gt;context.vdso, sigtramp);\n \n    regs-&gt;regs[30] = (unsigned long)sigtramp;\n}\nä¿¡å·ä¸­æ–­å‰çš„ç¡¬ä»¶ä¸Šä¸‹æ–‡å·²ç»é€šè¿‡ setup_sigframe ä¿å­˜åˆ°äº† userâ†’subframe ä¸­ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ä¿®æ”¹ pt_regs æ¥æ”¹å˜è·³è½¬åˆ°ç”¨æˆ·ç©ºé—´æ—¶çš„æ‰§è¡Œæµã€‚é¦–å…ˆçœ‹ pc å¯„å­˜å™¨è¢«è®¾ç½®ä¸ºäº†ç”¨æˆ·çš„ä¿¡å·å¤„ç†å‡½æ•°ï¼Œæ ˆå¯„å­˜å™¨ sp ä» sigframe å¼€å§‹ã€‚regs[0] å­˜å‚¨ä¿¡å·ç¼–å·ï¼ŒæŒ‰ç…§ ARM64 çš„ ABIï¼Œå®ƒå°†ä½œä¸ºä¿¡å·å¤„ç†å‡½æ•°çš„ç¬¬ä¸€ä¸ªè¾“å…¥å‚æ•°ã€‚regs[29] æ˜¯ ARM64 æ ˆå¸§æŒ‡é’ˆï¼Œregs[30] åˆ™æ˜¯ LR å¯„å­˜å™¨ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°æ‰§è¡Œå®Œæ¯•åçš„è¿”å›åœ°å€ï¼Œè¿™é‡ŒæŒ‡å‘ VDSO ä¸­çš„ rt_sigreturn ç³»ç»Ÿè°ƒç”¨ï¼ˆå®šä¹‰åœ¨ arch/arm64/kernel/vdso/sigreturn.S æ–‡ä»¶ä¸­ï¼‰ã€‚ä¹Ÿå³æ˜¯ï¼Œç”¨æˆ·æ‰§è¡Œå®Œä¿¡å·å¤„ç†æµç¨‹å°±ä¼šé€šè¿‡ rt_sigreturn ç³»ç»Ÿè°ƒç”¨é‡æ–°å›åˆ°å†…æ ¸ç©ºé—´ï¼Œå†ç”±å†…æ ¸è°ƒç”¨ restore_sigframe å°†ç”¨æˆ·è¿›ç¨‹çš„æ‰§è¡Œæµç¨‹æ¢å¤åˆ°è¢«ä¿¡å·ä¸­æ–­æ—¶çš„çŠ¶æ€ã€‚æ•´ä¸ªä¿¡å·çš„å¤„ç†æµç¨‹å…¥ä¸‹å›¾æ‰€ç¤ºï¼š\n\nå‰é¢æˆ‘ä»¬è¯´è¿‡ setup_sigframe å‡½æ•°å¯¹ç”¨æˆ·çš„æ ˆå¢åŠ äº†ä¸€ä¸ªæ ˆå¸§ç”¨äºä¿å­˜æ¢å¤ä¿¡å·ä¸­æ–­å‰çš„çŠ¶æ€ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±çœ‹çœ‹è¿™ä¸ªæ ˆå¸§çš„ç»“æ„ã€‚è¿™ä¸ªæ–°å¢æ ˆå¸§çš„ç»“æ„ç”± get_sigframe å‡½æ•°è§„åˆ’ï¼Œå…¶ç»“æ„é€šè¿‡ç»“æ„ä½“ rt_sigframe_user_layout å­˜å‚¨ï¼š\nstruct rt_sigframe_user_layout {\n    struct rt_sigframe __user *sigframe;\n    struct frame_record __user *next_frame;\n \n    unsigned long size;    /* size of allocated sigframe data */\n    unsigned long limit;    /* largest allowed size */\n \n    unsigned long fpsimd_offset;\n    unsigned long esr_offset;\n    unsigned long sve_offset;\n    unsigned long extra_offset;\n    unsigned long end_offset;\n};\nåœ¨ ARM64 æ¶æ„ä¸Šï¼Œsignal frame çš„ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n\nå‚è€ƒé“¾æ¥\nwushifublog.com/2020/05/16/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Linux%E5%86%85%E6%A0%B8%E2%80%94%E2%80%94signals/"},"Aè®¡ç§‘å·¥ç¨‹/æ­£åˆ™è¡¨è¾¾å¼":{"title":"æ­£åˆ™è¡¨è¾¾å¼","links":[],"tags":["TODO","regex","Doc"],"content":"è¿ç®—ä¼˜å…ˆçº§\næ­£åˆ™è¡¨è¾¾å¼ä¸æ•°å­¦è¡¨è¾¾å¼çš„ä¸åŒåœ¨äºï¼Œæ•°å­¦è¡¨è¾¾å¼æ‰§è¡Œæ•°å­¦è¿ç®—ï¼Œè€Œæ­£åˆ™è¡¨è¾¾å¼æ‰§è¡Œå­—ç¬¦è¿ç®—ï¼›ç›¸åŒçš„æ˜¯ï¼Œå®ƒä»¬éƒ½æŒ‰ä¸€å®šçš„ä¼˜å…ˆçº§è¿›è¡Œè¿ç®—ã€‚\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nè¿ç®—ç¬¦æ“ä½œ\\è½¬ä¹‰ç¬¦()æ•è·ã€åŒ¹é…ã€æ–­è¨€[]å­—ç¬¦ç±»*+?é™å®šç¬¦{}èŒƒå›´^$ä½ç½®å’Œé¡ºåº|æˆ–\nReferences\n\ndeerchao.cn/tutorials/regex/regex.html\ni.linuxtoy.org/docs/guide/ch26s03.html\n"},"Aè®¡ç§‘å·¥ç¨‹/ç°ä»£åŒ–å‘½ä»¤è¡Œ":{"title":"ç°ä»£åŒ–å‘½ä»¤è¡Œ","links":[],"tags":["TODO"],"content":"ç°ä»£åŒ–å‘½ä»¤è¡Œ\nè®°å½•å¸¸ç”¨çš„ Linux å‘½ä»¤è¡Œå·¥å…·çš„ç°ä»£åŒ–æ›¿ä»£å“ã€‚é‡æ–°è®¾è®¡ã€ç¼–å†™çš„\r\nå·¥å…·èƒ½å‡å°‘å†å²çš„ç¼ºé™·å’Œä¸åˆç†ã€‚\n\nfd\nfd æ˜¯ä¸€ä¸ªåœ¨ä½ æ–‡ä»¶ç³»ç»Ÿä¸­æŸ¥æ‰¾æ¡ç›®çš„ç¨‹åºã€‚å®ƒæ˜¯ä¸€ä¸ªç®€å•ã€å¿«é€Ÿã€å‹å¥½çš„ find æ›¿ä»£å“ã€‚è™½ç„¶å®ƒçš„ç›®æ ‡ä¸æ˜¯æ”¯æŒ find çš„æ‰€æœ‰å¼ºå¤§åŠŸèƒ½ï¼Œä½†å®ƒä¸ºå¤§å¤šæ•°çš„ä½¿ç”¨æƒ…å†µæä¾›äº†åˆç†çš„ï¼ˆopinionatedï¼‰é»˜è®¤å€¼ã€‚\nå‚è€ƒé“¾æ¥"},"Aè®¡ç§‘å·¥ç¨‹/ç¡¬ä»¶å·¥ç¨‹/ESP32":{"title":"ESP32","links":["Aè®¡ç§‘å·¥ç¨‹/Clion"],"tags":["TODO","esp32","clion","linux","platformio"],"content":"ESP32\n\nPlatformIO\nClion å®‰è£… PlatformIO æ’ä»¶ã€‚\nLinux\narchlinux å®‰è£… platformio-core åŒ…\næƒé™ï¼š\r\nsudo usermod -aG uucp $USER\nWindows\néœ€è¦\n\npython\n\npython get-platformio.py\n\n\n                  \n                  python éœ€è¦ç³»ç»Ÿçº§çš„ï¼Œconda æä¾›çš„ä¸è¡Œ \n                  \n                \n\nESP32 çš„æ§åˆ¶å°æ³¢ç‰¹ç‡é»˜è®¤ä¸º 115200ã€‚\nåœ¨ Clion æ§åˆ¶å°ä¸­å¯èƒ½ä¹±ç ï¼Œéœ€è¦åœ¨ platformio.ini è®¾ç½®æ³¢ç‰¹ç‡ monitor_speed = 115200\r\n\nå‚è€ƒé“¾æ¥"},"Aè®¡ç§‘å·¥ç¨‹/ç¡¬ä»¶å·¥ç¨‹/lwip":{"title":"lwip","links":[],"tags":[],"content":""},"Aè®¡ç§‘å·¥ç¨‹/ç¼–ç¨‹è¯­è¨€/ASM/æ±‡ç¼–å­¦ä¹ ":{"title":"æ±‡ç¼–å­¦ä¹ ","links":[],"tags":["Linux","asm"],"content":"åŸºç¡€çŸ¥è¯†\n\næœºå™¨è¯­è¨€æ˜¯æœºå™¨æŒ‡ä»¤çš„é›†åˆã€‚\næ±‡ç¼–è¯­è¨€ï¼š\n\næ±‡ç¼–æŒ‡ä»¤ï¼šæœºå™¨ç çš„åŠ©è®°ç¬¦ï¼Œæœ‰å¯¹åº”çš„æœºå™¨ç ã€‚\nä¼ªæŒ‡ä»¤ï¼šæ— å¯¹åº”çš„æœºå™¨ç ï¼Œç”±ç¼–è¯‘å™¨æ‰§è¡Œã€‚\nå…¶ä»–ç¬¦å·ï¼šå¦‚+ã€-ã€*ã€/ ç­‰ï¼Œç”±ç¼–è¯‘å™¨è¯†åˆ«ï¼Œæ— å¯¹åº”çš„æœºå™¨ç ã€‚\n\n\n"},"Aè®¡ç§‘å·¥ç¨‹/ç¼–ç¨‹è¯­è¨€/ASM/æ±‡ç¼–å®éªŒ":{"title":"æ±‡ç¼–å®éªŒ","links":[],"tags":["nasm","Linux","freedos"],"content":"æ±‡ç¼–è¯­è¨€å®éªŒ\nå®éªŒä¸€ï¼šDEBUG æŸ¥çœ‹å†…å­˜"},"Aè®¡ç§‘å·¥ç¨‹/ç¼–ç¨‹è¯­è¨€/C++/C++-ç¬”è®°":{"title":"C++ ç¬”è®°","links":[],"tags":[],"content":"å˜é‡"},"Aè®¡ç§‘å·¥ç¨‹/ç¼–ç¨‹è¯­è¨€/C/C-ç¬”è®°":{"title":"C ç¬”è®°","links":[],"tags":["TODO","c"],"content":"C å­¦ä¹ ç¬”è®°\n\næ¦‚è¿°\nä¸€ä¸ªç®€å•çš„ C ç¨‹åºã€‚\n#include &lt;stdio.h&gt;\n \nint main(int argc, char *argv[]) {\n    printf(&quot;Hello World!\\n&quot;);\n    return 0;\n})\n \nå‡½æ•°æŒ‡é’ˆ"},"Aè®¡ç§‘å·¥ç¨‹/ç¼–ç¨‹è¯­è¨€/Go/Golang-ç¬”è®°":{"title":"Golang ç¬”è®°","links":["Eä¸´æ—¶ç¬”è®°/constraint","override","prune.project"],"tags":[],"content":"Go æ˜¯ä¸€é—¨å¼€æºçš„ã€è¡¨ç°åŠ›å¼ºçš„ã€ç®€æ´çš„ã€é™æ€ç¼–è¯‘å‹è¯­è¨€ã€‚å®ƒåœ¨è¯­è¨€çº§åˆ«æ”¯æŒåç¨‹ï¼ˆCoroutineï¼‰ï¼Œè®©ä½ è½»æ¾çš„ç¼–å†™å¹¶å‘æ€§ä»£ç ã€‚Go æ–°é¢–çš„ç±»å‹ç³»ç»Ÿä¾¿äºæ„å»ºçµæ´»çš„ã€æ¨¡å—åŒ–çš„åº”ç”¨ç¨‹åºã€‚Go èƒ½å¤Ÿå¿«é€Ÿçš„ç¼–è¯‘ä¸ºæœºå™¨ç ï¼ŒåŒæ—¶æ”¯æŒåƒåœ¾å›æ”¶ï¼ˆå¹¶å‘æ ‡è®°æ¸…é™¤ï¼‰ã€è¿è¡Œæ—¶åå°„ç­‰ç°ä»£è¯­è¨€ç‰¹æ€§ã€‚\nå¤šå¹´æ¥ç³»ç»Ÿçº§ç¼–ç¨‹è¯­è¨€æ²¡æœ‰å‡ºç°æ–°æˆå‘˜ï¼Œç„¶è€Œè®¡ç®—é¢†åŸŸå‘ç”Ÿé‡å¤§çš„å˜åŒ–ï¼š\n\n\nè®¡ç®—æœºçš„é€Ÿåº¦æå¤§çš„å¢å¿«äº†ï¼Œè€Œè½¯ä»¶å¼€å‘é€Ÿåº¦çš„å˜åŒ–ä¸å¤§\n\n\nå½“ä»Šçš„è½¯ä»¶å¼€å‘ä¸­ï¼Œä¾èµ–ç®¡ç†æ˜¯ä¸€é¡¹é‡è¦çš„å·¥ä½œã€‚C é£æ ¼è¯­è¨€çš„åŸºäºå¤´æ–‡ä»¶çš„ä¾èµ–éš¾ä»¥è¿›è¡Œæ¸…æ™°çš„ä¾èµ–åˆ†æ\n\n\nä¼ ç»Ÿé™æ€ç±»å‹è¯­è¨€ï¼Œä¾‹å¦‚ Javaã€C++ ç¬¨é‡çš„ç±»å‹ç³»ç»Ÿè®©äººåæ„Ÿï¼Œå¾ˆå¤šå›¢é˜Ÿè½¬è€Œä½¿ç”¨åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œä¾‹å¦‚ Pythonã€JavaScript\n\n\næµè¡Œçš„ç³»ç»Ÿçº§è¯­è¨€ä¸æ”¯æŒåƒåœ¾å›æ”¶ã€å¹¶è¡Œè®¡ç®—ç­‰åŸºç¡€æ¦‚å¿µ\n\n\nGo è‡´åŠ›äºè§£å†³è§£å†³ä¸Šé¢å‡ ç‚¹ä¸­æåŠçš„é—®é¢˜ï¼Œå®ƒèƒ½ä¿è¯å¤§å‹ç¨‹åºçš„å¿«é€Ÿç¼–è¯‘ã€ç®€åŒ–ä¾èµ–ç®¡ç†ã€å®Œå…¨æ”¯æŒåƒåœ¾å›æ”¶å’Œå¹¶è¡Œè®¡ç®—ã€‚\nGo æä¾›äº†ä¸€ä¸ªè¿è¡Œæ—¶ï¼Œæ­¤è¿è¡Œæ—¶ä½œä¸ºæ¯ä¸ª Go åº”ç”¨ç¨‹åºçš„ä¸€éƒ¨åˆ†ï¼Œæä¾›è¯­è¨€çš„åŸºç¡€æœåŠ¡ï¼Œä¾‹å¦‚åƒåœ¾å›æ”¶ã€å¹¶å‘ã€æ ˆç®¡ç†ã€‚è¿™ä¸ªè¿è¡Œæ—¶æ›´åƒæ˜¯ libc è€Œé JVMï¼ŒGo è¿è¡Œæ—¶ä¸æä¾›è™šæ‹Ÿæœºã€‚\nç¼–ç¨‹å…ƒç´ \nå˜é‡\nä½¿ç”¨å…³é”®å­— var å¯ä»¥å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œæˆ–è€…å˜é‡çš„åˆ—è¡¨ã€‚å˜é‡å¯ä»¥å®šä¹‰åœ¨åŒ…çº§åˆ«ã€å‡½æ•°çº§åˆ«ï¼š\n// åŒ…çº§åˆ«çš„å˜é‡åˆ—è¡¨å£°æ˜\nvar c, python, java bool\nÂ \n// å£°æ˜å¹¶èµ‹å€¼\nvar gender bool = false;\nÂ \nfunc main() {\nÂ Â Â Â // å‡½æ•°å†…çš„å•ä¸ªå˜é‡å£°æ˜\nÂ Â Â Â var i int\nÂ Â Â Â fmt.Println(i, c, python, java)\n}\nå˜é‡çš„åˆå§‹åŒ–\nä½ å¯ä»¥åœ¨å˜é‡åˆ—è¡¨å£°æ˜ä¹‹åç´§è·Ÿç€åˆå§‹åŒ–åˆ—è¡¨ï¼š\n// æ•°é‡å¿…é¡»ä¸€è‡´\nvar i, j int = 1, 2\n// å˜é‡ç±»å‹å¯ä»¥çœç•¥ï¼Œä»åˆå§‹åŒ–è¡¨è¾¾å¼ä¸­æ¨å¯¼\nvar c, python, java = true, false, &quot;no!&quot;\nçŸ­å£°æ˜å˜é‡\nä½¿ç”¨ := æ“ä½œç¬¦ï¼Œå¯ä»¥åœ¨å‡½æ•°ä½“å†…éƒ¨å£°æ˜å˜é‡å¹¶åˆå§‹åŒ–ï¼Œè€Œä¸éœ€è¦ var å…³é”®å­—å’Œå˜é‡ç±»å‹è¯´æ˜ï¼ˆè‡ªåŠ¨æ¨å¯¼ï¼‰ï¼š\nc, python, java := true, false, &quot;no!&quot;\nè¿™ç§è¯­æ³•ä¸èƒ½ç”¨åœ¨å‡½æ•°ä½“å¤–ï¼Œå‡½æ•°å¤–çš„æ¯ä¸ªè¯­å¥éƒ½å¿…é¡»ä»¥å…³é”®å­—å¼€å¤´ï¼ˆä¾‹å¦‚ varã€funcï¼‰ã€‚\nå—çº§ä½œç”¨åŸŸ\nGo æ”¯æŒå—çº§ä½œç”¨åŸŸï¼Œå¯ä»¥è¦†ç›–çˆ¶å—çš„å˜é‡å£°æ˜ï¼š\nx := 1\nfmt.Println(x)Â Â Â Â  // æ‰“å° 1\n{\nÂ Â Â Â fmt.Println(x) // ä½¿ç”¨çˆ¶ä½œç”¨åŸŸçš„å˜é‡ï¼Œæ‰“å° 1\nÂ Â Â Â x := 2Â Â Â Â Â Â Â Â  // åœ¨å­ä½œç”¨åŸŸé‡æ–°å£°æ˜å˜é‡\nÂ Â Â Â fmt.Println(x) // æ‰“å° 2\n}\nfmt.Println(x)Â Â Â Â  // æ‰“å° 1ï¼Œçœ‹ä¸åˆ°å­ä½œç”¨åŸŸçš„å˜é‡\nå˜é‡çš„é‡å¤å£°æ˜\nå•ä¸ªå˜é‡ä¸èƒ½é‡å¤å£°æ˜ï¼š\ni := 0\ni := 1 // é”™è¯¯\nä½†æ˜¯å¤šå˜é‡å£°æ˜æ—¶ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªæ˜¯æ–°å˜é‡ï¼Œå°±å¯ä»¥é‡å¤å£°æ˜ï¼š\n// é‡å¤å£°æ˜ i\ni, j := 1, 0 Â \né›¶å€¼\nå¦‚æœå˜é‡åœ¨å®šä¹‰æ—¶æ²¡æœ‰æ˜ç¡®çš„åˆå§‹åŒ–ï¼Œåˆ™è‡ªåŠ¨åˆå§‹åŒ–ä¸ºé›¶å€¼ï¼šæ•°å€¼ç±»å‹åˆå§‹åŒ–ä¸º 0ï¼›å­—ç¬¦ä¸²ç±»å‹åˆå§‹åŒ–ä¸º&quot;&quot;ï¼›å¸ƒå°”å‹åˆå§‹åŒ–ä¸º falseï¼›interface/map/func/slice/chan åˆå§‹åŒ–ä¸º nilã€‚\nå­—ç¬¦ä¸²ä¸èƒ½èµ‹å€¼ä¸º nilï¼Œå®ƒçš„é›¶å€¼åªèƒ½æ˜¯ç©ºä¸²ï¼š\nvar x string = nil // å‡ºé”™\nä½ å¯ä»¥å‘é›¶å€¼çš„ slice ä¸­æ·»åŠ å…ƒç´ ï¼š\nvar s []int\ns = append(s,1)\nä½†æ˜¯ä¸èƒ½å‘é›¶å€¼çš„ map æ·»åŠ é”®å€¼å¯¹ã€‚\nç±»å‹è½¬æ¢\nä½¿ç”¨è¯­æ³• T(v) å¯ä»¥å°† v è½¬æ¢ä¸º T ç±»å‹ï¼š\ni := 42\nf := float64(i)\nu := uint(f)\néœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒGo è¯­è¨€åœ¨ä¸åŒçš„ç±»å‹ä¹‹é—´è¿›è¡Œèµ‹å€¼æ—¶ï¼Œéœ€è¦æ˜¾å¼çš„ç±»å‹è½¬æ¢ã€‚\nç±»å‹æ¨å¯¼\nå½“å®šä¹‰å˜é‡è€Œä¸æ˜¾å¼æŒ‡å®šå…¶ç±»å‹æ—¶ï¼Œå˜é‡çš„ç±»å‹ç”±èµ‹å€¼ç¬¦å·å³ä¾§çš„å­è¡¨è¾¾å¼æ¨å¯¼ï¼š\nvar i = 0Â Â Â Â Â Â Â Â Â Â // æ¨å¯¼ä¸º int\nj := iÂ Â Â Â Â Â Â Â Â Â Â Â  // æ¨å¯¼ä¸º int\nf := 3.142Â Â Â Â Â Â Â Â  // float64\ng := 0.867 + 0.5iÂ Â // complex128\nåŸºæœ¬ç±»å‹\nGo ä½œä¸ºå¼ºç±»å‹è¯­è¨€, éšå¼çš„ç±»å‹è½¬æ¢æ˜¯ä¸è¢«å…è®¸çš„ã€‚\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nç±»å‹è¯´æ˜boolå¸ƒå°”å‹ï¼Œå–å€¼ true / falsestringå­—ç¬¦ä¸²ï¼ŒåŒå¼•å·åŒ…å›´å¤šè¡Œå­—ç¬¦ä¸²ä½¿ç”¨åå¼•å·åŒ…å›´å®šé•¿æ•´æ•°å¯¹åº”ä¸åŒçš„ä½æ•°ï¼ˆ1ã€2ã€4ã€8 å­—èŠ‚ï¼‰ï¼šæœ‰ç¬¦å·ç±»å‹ï¼šint8 int16 int32 int64æ— è´Ÿå·ç±»å‹ï¼šuint8 uint16 uint32 uint64runeå­—é¢æ„æ€æ˜¯â€œç¬¦æ–‡â€ï¼Œå®é™…ä¸Šæ˜¯ int32 çš„åˆ«åï¼Œä»£è¡¨ä¸€ä¸ª Unicode ä»£ç ç‚¹ï¼ˆCode Pointï¼‰ä»£ç ç‚¹å’Œå­—ç¬¦å”¯ä¸€æ€§çš„å¯¹åº”ï¼Œä¾‹å¦‚ U+2318ï¼ˆåå…­è¿›åˆ¶ 2318ï¼‰å¯¹åº”å­—ç¬¦âŒ˜rune çš„ç›´æ¥é‡è¯­æ³•å’Œ Java ä¸­çš„ char ç±»å‹ä¸€è‡´ï¼švar r rune = â€™âŒ˜â€˜fmt.Printf (â€œ%v %c %xâ€, r, r, r)Â Â // 8984 âŒ˜ 2318Â ä¸å®šé•¿æ•´æ•°intã€uintã€uintptr åœ¨ 32bit çš„ç³»ç»Ÿä¸Šé€šå¸¸ä¸º 32 ä½ï¼›åœ¨ 64bit çš„ç³»ç»Ÿä¸Šé€šå¸¸ä¸º 64 ä½æµ®ç‚¹æ•°float32ã€float64å¤æ•°complex64ã€complex128ç¤ºä¾‹ï¼švar z complex128 = cmplx.Sqrt (-5 + 12i)const f = â€œ%T (%v)\\nâ€fmt.Printf (f, z, z)Â Â // complex128 ((2+3i))\nå¸¸é‡\nå¸¸é‡ç±»ä¼¼äºå˜é‡ï¼Œä½†æ˜¯ä½¿ç”¨ const å…³é”®å­—å£°æ˜ï¼Œå¸¸é‡ä¸æ”¯æŒ := è¯­æ³•ï¼š\nconst Pi = 3.14\nconst World = &quot;Hello&quot;\nconst Truth = true\nå­—ç¬¦ä¸²\nGo å­—ç¬¦ä¸²çš„æœ¬è´¨æ˜¯ä¸€ä¸ª byte åˆ‡ç‰‡ï¼ˆä»¥åŠä¸€äº›é¢å¤–çš„å±æ€§ï¼‰ã€‚å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ã€‚å¦‚æœéœ€è¦ä¿®æ”¹å­—ç¬¦ä¸²çš„æŸä¸ªå­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨ byte åˆ‡ç‰‡ï¼š\nx := &quot;text&quot;\nxbytes := []byte(x)\nxbytes[0] = &#039;T&#039;\nstring(xbytes)\nä½†æ˜¯éœ€è¦æ³¨æ„ï¼Œå•ä¸ªå­—ç¬¦å¯èƒ½å­˜æ”¾åœ¨å¤šä¸ª byte ä¸­ã€‚å› æ­¤æ›´æ–°ä¸€æ®µå­—ç¬¦ä¸²ï¼Œä½¿ç”¨ rune çš„ slice å¯èƒ½æ›´å¥½ï¼Œå°½ç®¡å•ä¸ªå­—ç¬¦ä¹Ÿå¯èƒ½å ç”¨å¤šä¸ª runeï¼ˆä¾‹å¦‚åŒ…å«é‡éŸ³ç¬¦å·çš„å­—ç¬¦ï¼‰ã€‚\nå’Œ byte åˆ‡ç‰‡çš„è½¬æ¢\nå½“å­—ç¬¦ä¸²è½¬æ¢ä¸º byte åˆ‡ç‰‡ï¼Œæˆ–è€… byte åˆ‡ç‰‡è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œä½ éƒ½ä¼šå¾—åˆ°åŸå§‹æ•°æ®çš„æ‹·è´ã€‚è¿™å’Œé€šå¸¸çš„ Cast è¯­ä¹‰ä¸åŒã€‚\nè·å–é•¿åº¦\nlen () è°ƒç”¨è·å–çš„æ˜¯å­—ç¬¦ä¸²åŒ…å«çš„ byte æ•°é‡ã€‚è¦è·å–å­—ç¬¦æ•°é‡ï¼Œå¯ä»¥ï¼š\nimport &quot;unicode/utf8&quot;\nutf8.RuneCountInString(data)\nå®é™…ä¸Š RuneCountInString è·å–çš„æ˜¯ rune è€Œé char æ•°é‡ï¼ŒåŒ…å«é‡éŸ³ç¬¦å·çš„å­—ç¬¦ï¼Œå¯èƒ½å æ®ä¸¤ä¸ª runeã€‚\nè·å–å­—ç¬¦\nå¯¹å­—ç¬¦ä¸²è¿›è¡Œ[]æ“ä½œï¼Œå¾—åˆ°çš„æ˜¯ byte è€Œé runeã€‚è¦è·å¾— runeï¼Œå¯ä»¥ä½¿ç”¨ for range æ“ä½œï¼Œæˆ–è€…åˆ©ç”¨ unicode/utf8ã€golang. org/x/exp/utf8string ç­‰åŒ…ï¼š\nimport &quot;golang.org/x/exp/utf8string&quot;\nstr := utf8string.NewString(&quot;ä½ å¥½&quot;)\nstr.At(0)\nä¸ä¸€å®šæ˜¯ UTF8\n// å¯ä»¥ä½¿ç”¨è½¬ä¹‰åºåˆ—å¼•å…¥ä»»æ„æ•°æ®\ndata := &quot;A\\xfeC&quot;\nutf8.ValidString(data) // false\nå‡½æ•°\nGo çš„å‡½æ•°å¯ä»¥æ¥æ”¶ 0-N ä¸ªå‚æ•°ï¼š\nfunc add(x int, y int) int {\nÂ Â Â Â return x + y\n}\nå¯ä»¥æ³¨æ„åˆ°ï¼Œå˜é‡çš„ç±»å‹ã€å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼Œéƒ½æ˜¯åç½®å£°æ˜çš„ã€‚è¿™ç§ä¸ä¼—ä¸åŒçš„è¯­æ³•é£æ ¼ï¼Œåœ¨è¿›è¡Œå¤æ‚å£°æ˜æ—¶èƒ½å¤Ÿä¿æŒå¯è¯»æ€§ã€‚\nå¦‚æœè¿ç»­å¤šä¸ªå½¢å‚çš„ç±»å‹ç›¸åŒï¼Œåˆ™å¯ä»¥ä»…ä»…ä¸ºæœ€åä¸€ä¸ªå£°æ˜ç±»å‹ï¼šfunc add(x, y int) int {}\nå¤šå€¼è¿”å›\nGo å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼ï¼š\npackage main\nÂ \nimport &quot;fmt&quot;\n// å£°æ˜å¤šä¸ªè¿”å›å€¼æ—¶ï¼Œéœ€è¦ç”¨æ‹¬å·åŒ…å›´\nfunc swap(x, y string) (string, string) {\nÂ Â Â Â return y, x\n}\nÂ \nfunc main() {\nÂ Â Â Â // çŸ­å£°æ˜ï¼Œåªèƒ½åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨\nÂ Â Â Â a, b := swap(&quot;Wong&quot;, &quot;Alex&quot;)\nÂ Â Â Â fmt.Println(a, b)Â Â // Alex Wong\n}\nè¿”å›å€¼å‘½å\nä¸€èˆ¬è¯­è¨€çš„è¿”å›å€¼åªèƒ½å£°æ˜ç±»å‹ï¼ŒGo çš„è¿”å›å€¼è¿˜å¯ä»¥å…·æœ‰åç§°ï¼š\npackage main\nÂ \nimport (\nÂ Â Â Â &quot;fmt&quot;\nÂ Â Â Â &quot;strings&quot;\n)\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â // è¿”å›å€¼å…·æœ‰åç§°ï¼Œç›¸å½“äºå®šä¹‰äº†å±€éƒ¨å˜é‡\nfunc split(name string) (first, last string) {\nÂ Â Â Â na := strings.Split(name,&quot; &quot;)\nÂ Â Â Â // ç›´æ¥ä¸ºè¿”å›å€¼èµ‹å€¼\nÂ Â Â Â first = na[0]\nÂ Â Â Â last = na[1]\nÂ Â Â Â // ç©ºç™½çš„ return è¯­å¥æ„å‘³ç€ä¾æ¬¡è¿”å›ï¼Œç›¸å½“äº return first, last\nÂ Â Â Â return\n}\nÂ \nfunc main() {\nÂ Â Â Â fmt.Println(split(&quot;Alex Wong&quot;))\n}\nä½œä¸ºå€¼ä½¿ç”¨\nå‡½æ•°å¯ä»¥åƒä»»ä½•å€¼ä¸€æ ·ï¼Œè¢«ä¼ é€’æ¥ä¼ é€’å»ï¼š\n// å‡½æ•°ä½œä¸ºå½¢å‚ï¼Œä¸éœ€è¦å£°æ˜å…¶å‚æ•°ã€è¿”å›å€¼çš„åå­—\nfunc add(x, y int, adder func(int, int) int) int {\nÂ Â Â Â return adder(x, y)\n}\nfunc main() {\nÂ Â Â Â // å‡½æ•°ä½œä¸ºå˜é‡\nÂ Â Â Â adder := func(x, y int) int {\nÂ Â Â Â Â Â Â Â return x + y\nÂ Â Â Â }\nÂ Â Â Â // å‡½æ•°ä½œä¸ºå®å‚\nÂ Â Â Â fmt.Println(add(1, 2, adder))\n}\né—­åŒ…\næ‰€è°“é—­åŒ…ï¼Œæ˜¯æŒ‡ä¸€ä¸ªå‡½æ•°å€¼ï¼ˆä½œä¸ºå€¼çš„å‡½æ•°ï¼ŒFunction Valueï¼‰å¼•ç”¨å…¶å¤–éƒ¨ä½œç”¨åŸŸçš„å˜é‡ã€‚è¿™å¯¼è‡´å³ä½¿å¤–éƒ¨ä½œç”¨åŸŸç”Ÿå‘½å‘¨æœŸç»“æŸï¼Œè¢«å¼•ç”¨çš„å˜é‡ä»ç„¶å­˜æ´»ã€‚\nfunc genCounter() func() int {\nÂ Â Â Â count := 0\nÂ Â Â Â return func() int {\nÂ Â Â Â Â Â Â Â count++ // æ¯æ¬¡è°ƒç”¨å¯¼è‡´è¢«å°é—­çš„å˜é‡å€¼å¢åŠ \nÂ Â Â Â Â Â Â Â return count\nÂ Â Â Â }\n}\nfunc main() {\nÂ Â Â Â counter := genCounter();\nÂ Â Â Â for i := 0; i &lt; 10; i += 1 {\nÂ Â Â Â Â Â Â Â fmt.Println(counter())\nÂ Â Â Â }\n}\nå¯å˜å‚æ•°\nGo å‡½æ•°æ”¯æŒä¸å®šæ•°é‡çš„å‚æ•°ï¼Œä¾‹å¦‚ï¼š\nimport &quot;fmt&quot;\nÂ \nfunc print(args ...interface{}) {\nÂ Â Â Â for index, value := range args {\nÂ Â Â Â Â Â Â Â fmt.Printf(&quot;%v = %T %v\\n&quot;, index, value, value)\nÂ Â Â Â }\nÂ Â Â Â // 0 = int 1\nÂ Â Â Â // 1 = int 2\nÂ Â Â Â // 2 = string ä¸€\n}\nfunc main() {\nÂ Â Â Â print(1, 2, &quot;ä¸€&quot;)\n}\nåˆ‡ç‰‡å¯ä»¥å±•å¼€ä¸ºå¯å˜å‚æ•°åˆ—è¡¨ï¼š\nfunc printAll(strs ...string) {\nÂ Â Â Â for _, str := range strs {\nÂ Â Â Â Â Â Â Â fmt.Printf(&quot;%s &quot;, str)\nÂ Â Â Â }\n}\nfunc main() {\nÂ Â Â Â printAll([]string{&quot;A&quot;, &quot;B&quot;, &quot;C&quot;}...) // å±•å¼€\n}\næŒ‡é’ˆ\nGo è¯­è¨€æ”¯æŒæŒ‡é’ˆï¼ŒæŒ‡é’ˆä¿å­˜å˜é‡çš„åœ°å€ã€‚å–åœ°å€ã€è§£å¼•ç”¨çš„æ“ä½œç¬¦ä¹Ÿè¢«æ”¯æŒï¼š\nvar i int = 10\n// å–åœ°å€ï¼Œè·å¾—å˜é‡çš„æŒ‡é’ˆ\nvar ip *int = &amp;i\n// è§£å¼•ç”¨\n// é€šè¿‡æŒ‡é’ˆæ¥å†™å˜é‡\n*ip = 5\n// é€šè¿‡æŒ‡é’ˆæ¥è¯»å˜é‡\nfmt.Print(*ip) // 5\nä½†æ˜¯ï¼ŒGo è¯­è¨€ä¸æ”¯æŒæŒ‡é’ˆçš„è¿ç®—ã€‚\næ³¨æ„ï¼šè¿”å›å±€éƒ¨å˜é‡çš„æŒ‡é’ˆæ˜¯å®‰å…¨çš„ï¼Œå‡½æ•°è¿”å›åæ­¤å˜é‡ä»ç„¶å­˜æ´»ï¼Œè¿™å’Œ C è¯­è¨€ä¸åŒã€‚\nä¼ å€¼å’Œä¼ å¼•ç”¨\nå¦‚æœå‡½æ•°çš„å…¥å‚æ˜¯ç»“æ„ï¼Œè€Œéç»“æ„çš„æŒ‡é’ˆï¼Œåˆ™å®é™…ä¼ é€’çš„æ˜¯ç»“æ„çš„å‰¯æœ¬ï¼Œæ‰€æœ‰å­—æ®µå‡è¢«æµ…æ‹·è´ã€‚\né€šè¿‡**makeã€newã€&amp;**è·å¾—çš„å¯¹è±¡ï¼Œä½ ä¸éœ€è¦æ‹…å¿ƒæ‹·è´å‰¯æœ¬çš„å¼€é”€æˆ–ä¿®æ”¹æ— æ•ˆã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¼ é€’â€œå¼•ç”¨â€çš„ç±»å‹åŒ…æ‹¬åˆ‡ç‰‡ã€mapã€é€šé“ã€æŒ‡é’ˆã€å‡½æ•°ã€‚string ç±»å‹æ˜¯ä¸å¯å˜çš„ï¼Œä¹ŸæŒ‰å¼•ç”¨ä¼ é€’ã€‚æ•°å­—ã€boolã€ç»“æ„ç­‰éƒ½æ˜¯æŒ‰å€¼ä¼ é€’ã€‚\næ•°ç»„æœ¬èº«æ˜¯ä¼ å€¼çš„ï¼Œä½œä¸ºå‡½æ•°å‚æ•°æ—¶ï¼Œä½ é€šå¸¸ä½¿ç”¨åˆ‡ç‰‡è€Œéæ•°ç»„ã€‚\nç»“æ„ä½“\nGo è¯­è¨€æ”¯æŒç»“æ„ä½“ï¼Œä¹Ÿå°±æ˜¯å­—æ®µçš„é›†åˆï¼š\ntype Vector3 struct {\nÂ Â Â Â X int\nÂ Â Â Â Y int\nÂ Â Â Â Z int\n}\nÂ \nfunc main() {\nÂ Â Â Â fmt.Print(Vector3{1, 2, 3}) // {1 2 3}\n}\nè¦è®¿é—®ç»“æ„ä¸­çš„å­—æ®µï¼Œä½¿ç”¨ç‚¹å·ï¼š\nv := Vector3{1, 2, 3}\nfmt.Print(v.X)\nå¯ä»¥é€šè¿‡ç»“æ„çš„æŒ‡é’ˆæ¥è®¿é—®å­—æ®µï¼Œè¯­æ³•å’Œä¸Šé¢ä¸€æ ·ï¼š\nv := Vector3{1, 2, 3}\npv := &amp;v\nfmt.Print(pv.X)\nå£°æ˜ç»“æ„çš„ä¸åŒæ–¹å¼ï¼š\n// åˆ—å‡ºæ‰€æœ‰å­—æ®µ\nv1 := Vector3{1, 2, 3}\n// ä¸åˆ—å‡ºä»»ä½•å­—æ®µ\nv2 := Vector3{}\n// ä»…ä»…åˆ—å‡ºéƒ¨åˆ†å­—æ®µ\nv3 := Vector3{Z: 3}\n// å¯¹ç›´æ¥é‡å–åœ°å€\npv4 := &amp;Vector3{Z: 3}\nfmt.Printf(&quot;%v %v %v %v&quot;, v1, v2, v3, *pv4)\n// {1 2 3} {0 0 0} {0 0 3} {0 0 3}\nå­—æ®µæ ‡ç­¾\nä½¿ç”¨æ ‡ç­¾ï¼ˆTagï¼‰ä½ å¯ä»¥ä¸ºç»“æ„çš„å­—æ®µæ·»åŠ å…ƒæ•°æ®ã€‚è¿™äº›å…ƒæ•°æ®å¯ä»¥é€šè¿‡åå°„è°ƒç”¨è·å¾—ã€‚åœ¨å†³å®šå¦‚ä½•å­˜å‚¨ç»“æ„åˆ°æ•°æ®åº“ï¼Œæˆ–è€…ä¸²è¡ŒåŒ–ä¸º JSON/XML ç­‰æ ¼å¼æ—¶ï¼Œå¸¸å¸¸åˆ©ç”¨å­—æ®µæ ‡ç­¾ã€‚\nå­—æ®µæ ‡ç­¾é€šå¸¸æ˜¯ key1:&quot;value1&quot; key2:&quot;value2&quot; è¿™ç§å½¢å¼çš„é”®å€¼å¯¹ï¼Œä¾‹å¦‚ï¼š\ntype User struct {\nÂ Â Â Â Name string `json:&quot;userName&quot; xml:&quot;user-name&quot;`\n}\nå¦‚æœå€¼éƒ¨åˆ†åŒ…å«æ›´å¤šä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨é€—å·åˆ†éš”ï¼š\nName string `json:&quot;name,omitempty&quot;`\nç»å¸¸ä½¿ç”¨çš„æ ‡ç­¾é”®åŒ…æ‹¬ï¼š\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\næ ‡ç­¾é”®è¯´æ˜jsonåŒ… encoding/json ä½¿ç”¨æ­¤é”®ï¼Œå…·ä½“æŸ¥çœ‹ json.Marshal ()xmlåŒ… encoding/xml ä½¿ç”¨æ­¤é”®ï¼Œå…·ä½“æŸ¥çœ‹ xml.Marshal ()bsonåŒ… gobson ä½¿ç”¨æ­¤é”®ï¼Œå…·ä½“æŸ¥çœ‹ bson.Marshal ()protobufåŒ… github. com/golang/protobuf/proto ä½¿ç”¨æ­¤é”®yamlåŒ… gopkg. in/yaml. v2 ä½¿ç”¨æ­¤é”®ï¼Œå…·ä½“æŸ¥çœ‹ yaml.Marshal ()dbåŒ… github. com/jmoiron/sqlx ä½¿ç”¨æ­¤é”®ormåŒ… github. com/astaxie/beego/orm ä½¿ç”¨æ­¤é”®validåŒ… github. com/asaskevich/govalidator ä½¿ç”¨æ­¤é”®schemaåŒ… github. com/gorilla/schema ä½¿ç”¨æ­¤é”®csvåŒ… github. com/gocarina/gocsv ä½¿ç”¨æ­¤é”®\nç©ºç»“æ„\nstruct{} çš„ç‰¹ç‚¹æ˜¯å ç”¨å†…å­˜ç©ºé—´ä¸ºé›¶ï¼š\nvar s struct{}\nfmt.Println(unsafe.Sizeof(s)) // 0\nå› æ­¤å¯ä»¥ç”¨å®ƒä½œä¸ºå ä½ç¬¦ï¼š\nchan struct{}Â Â Â Â Â Â Â Â // ä»…ä»…ç”¨æ¥ä¼ é€’ä¿¡å·ï¼Œè€Œéè¯»å†™æ•°æ®\nmap[string]struct{}Â Â // å®ç° Set ç»“æ„Â \næ•°ç»„\nç±»å‹ [n]T è¡¨ç¤ºå…·æœ‰ n ä¸ªå…ƒç´ çš„ T ç±»å‹çš„æ•°ç»„ã€‚æ•°ç»„çš„é•¿åº¦æ˜¯å…¶ç±»å‹çš„ç»„æˆéƒ¨åˆ†ï¼Œè¿™å’Œ C è¯­è¨€ç±»ä¼¼ï¼š\nvar a [2]string\nfmt.Println(a[0], a[1]) //Â Â ç©ºç™½\na[0] = &quot;Hello&quot;\na[1] = &quot;World&quot;\nfmt.Println(a[0], a[1]) //Â Â Hello World\nfmt.Println(a)Â Â Â Â Â Â Â Â Â Â //Â Â [Hello World]\nÂ \n//Â Â ç›´æ¥é‡è¯­æ³•\na = [2]string{&quot;Hello&quot;,&quot;World&quot;}\nÂ \n// åªåˆå§‹åŒ–æŒ‡å®šçš„ç´¢å¼•\narray := [10]int{1:3,3:1}\n// è‡ªåŠ¨æ¨æ–­æ•°ç»„é•¿åº¦\narray:=[...]int{1,2,3,4,5}\nÂ \n// éå†æ•°ç»„çš„ä¸¤ç§æ–¹å¼\nfor i:=0; i&lt;len(array); i++{\nÂ Â Â Â fmt.Println(array[i])\n}\nfor index,value := range array{\nÂ Â Â Â ...\n}\nÂ \n// æŒ‡é’ˆçš„æ•°ç»„\nÂ \nvar ia [10]*int{9:new(int)}Â Â // ä¸ºç´¢å¼• 9 åˆ†é…å†…å­˜\n*ia[9] = 10Â Â  // è§£å¼•ç”¨å¹¶èµ‹å€¼ï¼Œå·²ç»åˆ†é…å†…å­˜çš„ç´¢å¼•æ‰èƒ½è¢«èµ‹å€¼\nå…³äºæ•°ç»„ï¼Œéœ€è¦æ³¨æ„å®ƒçš„é•¿åº¦æ˜¯ä¸€å®šçš„ï¼Œè¿™å’Œåˆ‡ç‰‡ä¸åŒ**ã€‚å…ƒç´ ç±»å‹ç›¸åŒã€é•¿åº¦ä¹Ÿç›¸åŒçš„æ•°ç»„ï¼Œå®ƒä»¬çš„ç±»å‹æ‰æ˜¯ä¸€æ ·çš„**ã€‚\nä½ å¯ä»¥å¯¹æ•°ç»„å…ƒç´ è¿›è¡Œå–åœ°å€æ“ä½œï¼š\n// é¿å…å¤åˆ¶\ncontainer := &amp;dep.Spec.Template.Spec.Containers[0]\næ•°ç»„åœ¨ä¼ å‚ã€èµ‹å€¼æ—¶æ˜¯ä¼ å€¼ï¼Œä¸è¿‡å‚æ•°é€šå¸¸éƒ½ä¼šç”¨åˆ‡ç‰‡ã€‚\næ•°ç»„æ˜¯æ•°å€¼\nåœ¨ C++ ä¸­ï¼Œæ•°ç»„å³æŒ‡é’ˆã€‚å‡½æ•°çš„å…¥å‚æ˜¯æ•°ç»„æ—¶ï¼Œå‡½æ•°å†…å¤–å¼•ç”¨çš„æ˜¯ç›¸åŒå†…å­˜åŒºåŸŸã€‚\nä½†æ˜¯åœ¨ Go ä¸­ï¼Œæ•°ç»„æ˜¯å€¼ï¼Œå‘å‡½æ•°ä¼ é€’æ•°ç»„æ—¶ï¼Œå‡½æ•°å¾—åˆ°çš„æ˜¯åŸæ•°ç»„çš„æ‹·è´ã€‚ä¹Ÿå°±æ˜¯è¯´ä½ æ— æ³•ä¿®æ”¹åŸå§‹æ•°ç»„ã€‚å¦‚æœéœ€è¦ä¿®æ”¹åŸå§‹æ•°æ®ï¼Œåˆ™éœ€è¦ä¼ é€’å…¶æŒ‡é’ˆï¼š\nx := [3]int{1,2,3}\nÂ \nfunc(arr *[3]int) {\nÂ Â // è§£å¼•ç”¨\nÂ Â (*arr)[0] = 0\n}()\næˆ–è€…ï¼Œä½ å¯ä»¥ä½¿ç”¨åˆ‡ç‰‡ã€‚å°½ç®¡åˆ‡ç‰‡æœ¬èº«æ˜¯ä¼ å€¼çš„ï¼Œä½†æ˜¯å…¶åº•å±‚æ•°ç»„åœ¨å‡½æ•°å†…å¤–å…±äº«ï¼š\nx := []int{1,2,3}\nfunc(arr []int) {\nÂ Â arr[0] = 7\n}(x)\nä½†éœ€æ³¨æ„ï¼Œè¿™ç§æ–¹æ³•ä¸èƒ½ç”¨äºå¢åŠ åˆ‡ç‰‡å…ƒç´ ï¼Œå› ä¸ºå…¶åº•å±‚æ•°ç»„å¯èƒ½è¢«æ¢æ‰ã€‚\nåˆ‡ç‰‡\n[]T è¡¨ç¤ºç±»å‹ä¸º T çš„åˆ‡ç‰‡ã€‚åˆ‡ç‰‡ç±»ä¼¼äºæ•°ç»„ï¼Œå®é™…ä¸Šå®ƒçš„åº•å±‚å­˜å‚¨å°±æ˜¯æ•°ç»„ã€‚åˆ‡ç‰‡å¯ä»¥ç”¨æ¥å®ç°åŠ¨æ€é•¿åº¦çš„æ•°ç»„ã€‚\nåˆ‡ç‰‡æ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„æ•°æ®ç»“æ„ï¼Œå®ƒåŒ…æ‹¬ä¸‰ä¸ªæˆå‘˜ï¼šæŒ‡å‘åº•å±‚æ•°ç»„çš„æŒ‡é’ˆï¼›åˆ‡ç‰‡é•¿åº¦ï¼›åˆ‡ç‰‡å®¹é‡ã€‚\n// ç›´æ¥é‡è¯­æ³•\ns := []int{1, 2, 3, 4, 5}\n// åˆ‡ç‰‡å…·æœ‰é•¿åº¦ã€å®¹é‡ä¸¤ä¸ªå±æ€§\n// é•¿åº¦æ˜¯åˆ‡ç‰‡åŒ…å«å…ƒç´ çš„æ•°é‡\nfmt.Println(len(s))Â Â  // 5\nfmt.Println(s[4])Â Â Â Â  // 5\n// å®¹é‡åˆ™æ˜¯åˆ‡ç‰‡çš„åº•å±‚æ•°ç»„çš„é•¿åº¦\nfmt.Printlkn(cap(s))Â Â // 5\nÂ \n// é€šè¿‡ make å‡½æ•°åˆ›å»ºåˆ‡ç‰‡ï¼Œé•¿åº¦ 5ï¼Œåº•å±‚æ•°ç»„é•¿åº¦ï¼ˆå®¹é‡ï¼‰10\ns := make([]int, 5, 10)\nÂ \n// åˆ‡ç‰‡ä¹Ÿæ”¯æŒä»…åˆå§‹åŒ–æŒ‡å®šç´¢å¼•çš„å€¼\ns := []int{3:4}\nåˆ‡ç‰‡å…ƒç´ å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼ŒåŒ…æ‹¬åˆ‡ç‰‡ï¼š\nmatrix := [][]int{\nÂ Â Â Â []int{1, 2, 3},\nÂ Â Â Â []int{4, 5, 6}, // å¦‚æœèŠ±æ‹¬å·å†™åœ¨ä¸‹ä¸€è¡Œï¼Œè¿™æ­¤è¡Œå°¾éƒ¨éœ€è¦æœ‰é€—å·\n}\nfor i := 0; i &lt; len(matrix); i++ {\nÂ Â Â Â row := matrix[i]\nÂ Â Â Â for j := 0; j &lt; len(row); j++ {\nÂ Â Â Â Â Â Â Â fmt.Printf(&quot;%v &quot;, row[j])\nÂ Â Â Â }\nÂ Â Â Â fmt.Println()\n}\nGo æ”¯æŒç±»ä¼¼äº Python çš„åˆ‡ç‰‡æ“ä½œï¼Œs[lo:hi] è¡¨ç¤ºäº§ç”Ÿä»ç´¢å¼• loï¼ˆåŒ…å«ï¼‰åˆ° hiï¼ˆä¸åŒ…å«ï¼‰çš„æ–°åˆ‡ç‰‡ã€‚éœ€è¦æ³¨æ„ï¼Œè¿›è¡Œåˆ‡ç‰‡æ“ä½œåï¼Œæ–°äº§ç”Ÿçš„åˆ‡ç‰‡ä¼šå…±äº«åº•å±‚æ•°ç»„ï¼š\ns := []int{1, 2, 3, 4, 5}\nfmt.Println(s[2:3])Â Â // [3]\n// çœç•¥ hi åˆ™åˆ‡åˆ°å°¾éƒ¨\nfmt.Println(s[2:]) // [3 4 5]\nÂ \nvar a [10]int\n# ä»¥ä¸‹è¡¨è¾¾å¼ç­‰ä»·\na[0:10]\na[:10]\na[0:]\na[:]\nè¦æ„é€ åˆ‡ç‰‡ï¼Œå¯ä»¥è°ƒç”¨ make å‡½æ•°ï¼š\n// æ„é€ åˆå§‹é•¿åº¦ä¸º 10ï¼Œå®¹é‡ä¸º 100 çš„åˆ‡ç‰‡\ns := make([]int, 10, 100)\nfmt.Print(len(s)) // 10\nåˆ‡ç‰‡çš„é›¶å€¼æ˜¯ nilï¼Œnil åˆ‡ç‰‡çš„é•¿åº¦ã€å®¹é‡çš†ä¸º 0ã€‚å¦å¤–ç©ºåˆ‡ç‰‡çš„é•¿åº¦å®¹é‡ä¹Ÿéƒ½æ˜¯ 0ï¼š\n// nil åˆ‡ç‰‡ï¼Œåº•å±‚æ•°ç»„çš„æŒ‡é’ˆä¸º nil\nvar nilSlice []int\n// ç©ºåˆ‡ç‰‡ï¼Œåº•å±‚æ•°ç»„çš„æŒ‡é’ˆä¸ºä¸€ä¸ªåœ°å€\nslice:=[]int{}\nè¦å‘åˆ‡ç‰‡çš„å°¾éƒ¨æ·»åŠ å…ƒç´ ï¼Œå¯ä»¥è°ƒç”¨ append å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°æœ‰å¯èƒ½å¯¼è‡´åˆ›å»ºæ–°çš„åº•å±‚æ•°ç»„ã€‚\n// å‘åˆ‡ç‰‡ s æ·»åŠ  1-N ä¸ªå…ƒç´ ï¼Œè¿”å›åŒ…å« s çš„åŸå…ƒç´ å’Œæ‰€æœ‰æ–°å…ƒç´ çš„åˆ‡ç‰‡\n// å¦‚æœ s çš„åº•å±‚æ•°ç»„å¤ªå°ï¼Œä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªå¤§çš„æ•°ç»„ï¼Œè¿”å›çš„åˆ‡ç‰‡ä¼šæŒ‡å‘è¿™ä¸ªæ–°æ•°ç»„\nfunc append(s []T, vs ...T) []T\nÂ \ns := []int{1}\ns1 := append(s, 2, 3, 4)\nfmt.Print(s1) // [1 2 3 4]\nåœ¨åˆ›å»ºæ–°åˆ‡ç‰‡æ—¶ï¼Œæœ€å¥½è®©åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡ä¸€è‡´ï¼Œè¿™æ · append æ“ä½œæ€»ä¼šäº§ç”Ÿæ–°çš„åº•å±‚æ•°ç»„ï¼Œè¿™å¯ä»¥é¿å…å› ä¸ºå…±äº«åº•å±‚æ•°ç»„å¯¼è‡´çš„å¥‡æ€ªé—®é¢˜ã€‚\nforâ€¦ range æ ¼å¼çš„å¾ªç¯ï¼Œå¯ä»¥ç”¨æ¥è¿­ä»£åˆ‡ç‰‡ï¼ˆä»¥åŠ mapï¼‰ï¼š\ns := []int{1, 2, 3, 4, 5}\n//Â Â ç´¢å¼•ï¼Œå€¼\nfor i, v := range s {\nÂ Â Â Â fmt.Printf(&quot;%d=%d &quot;, i, v)\n}\n// å¦‚æœä¸å¸Œæœ›è¿­ä»£ç´¢å¼•æˆ–å€¼ï¼Œå¯ä»¥ç”¨ _ ä»£æ›¿ä¹‹\nfor i, _ := range s {\nÂ Â Â Â fmt.Printf(&quot;%d&quot;, i)\n}\n// å¦‚æœä¸å¸Œæœ›è¿­ä»£å€¼ï¼Œå¯ä»¥ç›´æ¥çœç•¥ _\nfor v := range s {\nÂ Â Â Â fmt.Printf(&quot;%d&quot;, v)\n}\nÂ \n// æ³¨æ„ï¼Œå€¼æ˜¯æ‹·è´å‡ºæ¥çš„ï¼Œä¸æ”¯æŒå¼•ç”¨ï¼Œè¦ä¿®æ”¹åˆ‡ç‰‡å…ƒç´ æœ¬èº«ï¼Œéœ€è¦\nfor i,_ := range s {\nÂ Â Â Â e := &amp;s[i]\nÂ Â Â Â e.field = value\n}\nåŒ…\nä»»ä½• Go åº”ç”¨ç¨‹åºéƒ½æ˜¯ç”±åŒ…æ„æˆï¼š\n\n\nç¨‹åºçš„æ‰§è¡Œå…¥å£å¿…é¡»æ˜¯ main åŒ…ï¼Œåœ¨æ„å»ºæ—¶ go è‡ªåŠ¨ä¸º main åŒ…åˆ›å»ºå¯æ‰§è¡Œç¨‹åº\n\n\nç¨‹åºå¯ä»¥å¯¼å…¥ä¸€ä¸ªæˆ–è€…å¤šä¸ªåŒ…\n\n\nåŒ…çš„åå­—é€šå¸¸å’Œå¯¼å…¥è·¯å¾„çš„æœ€åä¸€ä¸ªç›®å½•åä¸€è‡´ï¼Œä¹Ÿå°±æ˜¯ go æºæ–‡ä»¶ä¸­å£°æ˜çš„åŒ…åå’Œæ–‡ä»¶æ‰€åœ¨ç›®å½•åä¸€æ ·\n\n\nåŒ…å¯ä»¥åŒ…å«å¤šä¸ªæºæ–‡ä»¶\n\n\nä»£ç ç¤ºä¾‹ï¼š\n// å£°æ˜å½“å‰æ‰€å±åŒ…\npackage main\nÂ \n// å¯¼å…¥åŒ…ï¼Œä»¥ä¾¿ä½¿ç”¨å…¶ä¸­çš„æˆå‘˜\nimport (\nÂ Â Â Â &quot;fmt&quot;\nÂ Â Â Â &quot;math/rand&quot;\nÂ Â Â Â &quot;time&quot;\n)\n// é™¤äº†ç”¨åœ†æ‹¬å·ä¸€èµ·å¯¼å…¥å¤šä¸ªåŒ…ï¼Œè¿˜å¯ä»¥å¤šæ¬¡ä½¿ç”¨ import è¯­å¥åˆ†åˆ«å¯¼å…¥å•ä¸ªåŒ…\nimport &quot;fmt&quot;\nimport &quot;math/rand&quot;\nÂ \nfunc main() {\nÂ Â Â Â rand.Seed( time.Now().UnixNano())\nÂ Â Â Â fmt.Println(&quot;Random number: &quot;, rand.Intn(100))\n}\nåç§°å¯¼å‡º\nåŒ…ä¸­çš„ä»»ä½•åç§° â€”â€” å®šä¹‰åœ¨å…¨å±€ä½œç”¨åŸŸä¸‹çš„å˜é‡æˆ–è€…å‡½æ•°ï¼Œåªè¦ä»¥å¤§å†™å­—æ¯å¼€å§‹ï¼Œå³ä¸ºå¯¼å‡ºåç§°ï¼ˆExported namesï¼‰ã€‚\nåªæœ‰å¯¼å‡ºåç§°æ‰èƒ½å¤Ÿåœ¨åŒ…å¤–éƒ¨ï¼ˆimport åŒ…çš„åœ°æ–¹ï¼‰è®¿é—®ã€‚å¯¹äºA.B è¿™æ ·çš„è¡¨è¾¾å¼ï¼Œåªæœ‰ A è¢«å¯¼å‡ºäº† B æ‰å¯èƒ½è¢«åŒ…å¤–éƒ¨è®¿é—®ã€‚\næ²¡æœ‰å¯¼å‡ºçš„åç§°ï¼Œåªèƒ½åœ¨åŒ…å†…è®¿é—®ï¼Œå„æºæ–‡ä»¶éƒ½å¯ä»¥è‡ªç”±è®¿é—®å…¶å®ƒæºæ–‡ä»¶ä¸­å®šä¹‰çš„åç§°ã€‚\nåŒ…å¯¼å…¥\nè¦ä½¿ç”¨ä¸€ä¸ªåŒ…ï¼Œå¿…é¡»ä½¿ç”¨ import å…³é”®å­—å°†å…¶å¯¼å…¥ã€‚Go åœ¨æ ¹æ®å¯¼å…¥è·¯å¾„æŸ¥æ‰¾åŒ…æ—¶ï¼Œéµå¾ªä»¥ä¸‹ä¼˜å…ˆçº§ï¼š\n\n\né¦–å…ˆåœ¨ $GOROOT ä¸‹å¯»æ‰¾\n\n\nç„¶ååœ¨ $GOPATH ä¸‹å¯»æ‰¾\n\n\nä»ç„¶æ‰¾ä¸åˆ°ï¼Œå°è¯•è¿›è¡Œè¿œç¨‹åŒ…ä¸‹è½½ã€å¯¼å…¥\n\n\nåœ¨å¯¼å…¥åŒ…çš„æ—¶å€™ï¼Œå¯ä»¥èµ‹äºˆå…¶åˆ«åï¼Œä¾‹å¦‚ï¼šimport util &quot;gmem.cc/util&quot;ã€‚å¦‚æœæƒ³å¯¼å…¥åŒ…ä½†åˆä¸ä½¿ç”¨å…¶ export å‡ºçš„æˆå‘˜ï¼Œå¯ä»¥å°†å…¶åˆ«åä¸º _ï¼Œè¿™ç§ç”¨æ³•ä»…ä»…ä¸ºäº†æ‰§è¡ŒåŒ…ä¸­çš„ init å‡½æ•°ã€‚\ninit å‡½æ•°\næ¯ä¸ªæºæ–‡ä»¶éƒ½å¯ä»¥å®šä¹‰ init å‡½æ•°ï¼ˆå› æ­¤ä¸€ä¸ªåŒ…å¯ä»¥æœ‰å¤šä¸ª init å‡½æ•°ï¼‰ï¼Œè¿›è¡Œå¿…è¦çš„çŠ¶æ€åˆå§‹åŒ–ã€‚init å‡½æ•°çš„æ‰§è¡Œæ—¶æœºæ˜¯ï¼š\n\n\ninit æ‰€åœ¨æºæ–‡ä»¶æ‰€æœ‰å¯¼å…¥çš„åŒ…è¢«åˆå§‹åŒ–å\n\n\nåŒ…ä¸­å£°æ˜çš„æ‰€æœ‰å˜é‡çš„åˆå§‹åŒ–å¼è¢«ä¼°ç®—å\n\n\nå¦‚æœç›®æ ‡åŒ…ä¸­æœ‰å¤šä¸ª init å‡½æ•°ï¼Œåˆ™æ ¹æ®init æ‰€åœ¨æºæ–‡ä»¶çš„åç§°çš„å­—å…¸åºï¼Œä¾æ¬¡æ‰§è¡Œ\n\n\nä¾‹å¦‚ä¸‹é¢è¿™ä¸ªæºæ–‡ä»¶ï¼š\nfunc init() {\nÂ Â Â Â fmt.Println(&quot;Initializing...&quot;)\n}\nÂ \nfunc IsBlank(str string) bool {\nÂ Â Â Â return len(strings.Trim(str, &quot; &quot;)) == 0\n}\nåªè¦å…¶æ‰€åœ¨çš„åŒ…è¢«ä½¿ç”¨ï¼ˆå¦‚æœæ˜¯ main åŒ…åˆ™ä¸€å®šè¢«ä½¿ç”¨ï¼‰ï¼Œåˆ™ init å‡½æ•°ä¸€å®šä¼šæ‰§è¡Œï¼Œå¹¶ä¸”è‚¯å®šåœ¨ IsBlank è¢«è°ƒç”¨ä¹‹å‰ã€‚\nä¸€ä¸ªè¾ƒä¸ºå¤æ‚çš„ Go ç¨‹åºä¸­ï¼ŒåŒ…åˆå§‹åŒ–é¡ºåºå¦‚ä¸‹ï¼š\nÂ Â go run *.go\n# â”œâ”€â”€ ä¸»åŒ…è¢«æ‰§è¡Œ\n# â”œâ”€â”€ åˆå§‹åŒ–æ‰€æœ‰å¯¼å…¥åŒ…\n# |Â Â â”œâ”€â”€ åˆå§‹åŒ–è‡ªå·±ä¹‹å‰ï¼Œåˆå§‹åŒ–æ‰€æœ‰å¯¼å…¥çš„åŒ…\n# |Â Â â”œâ”€â”€ ç„¶ååˆå§‹åŒ–è‡ªå·±çš„å˜é‡\n# |Â Â â””â”€â”€ ç„¶åè°ƒç”¨è‡ªå·±çš„ init\n# â””â”€â”€ ä¸»åŒ…åˆå§‹åŒ–\n#Â Â Â Â â”œâ”€â”€ åˆå§‹åŒ–å…¨å±€å˜é‡\n#Â Â Â Â â””â”€â”€ æŒ‰æºæ–‡ä»¶åç§°ä¾æ¬¡æ‰§è¡Œ init å‡½æ•°\nè¿­ä»£\nä¸ç®¡æ˜¯åˆ‡ç‰‡ï¼Œè¿˜æ˜¯æ•°ç»„ã€æ˜ å°„ï¼Œfor range æ“ä½œè·å–çš„éƒ½æ˜¯å…ƒç´ çš„æ‹·è´ã€‚è¦æƒ³ä¿®æ”¹é›†åˆå…ƒç´ ï¼Œéœ€è¦ä½¿ç”¨ç´¢å¼•ï¼š\nfor i,_ := range data {\nÂ Â Â Â data[i] *= 10\n}\nå¦‚æœå…ƒç´ å­˜æ”¾çš„æ˜¯æŒ‡é’ˆåˆ™å¯ä»¥ç›´æ¥è§£å¼•ç”¨å¹¶ä¿®æ”¹ã€‚\næ˜ å°„\ntype LatLng struct {\nÂ Â Â Â Lat, Lng int\n}\nÂ \nfunc main() {\nÂ Â Â Â // å£°æ˜ä¸€ä¸ªæ˜ å°„ï¼šmap[KeyType]ValueType\nÂ Â Â Â var locations map[string]LatLng;\nÂ \nÂ Â Â Â // ä½¿ç”¨ make å‡½æ•°å®ä¾‹åŒ–\nÂ Â Â Â locations = make(map[string]LatLng)\nÂ \nÂ Â Â Â // PUT æ“ä½œ\nÂ Â Â Â locations[&quot;Alex&quot;] = LatLng{38, 100}\nÂ \nÂ Â Â Â // GET æ“ä½œ\nÂ Â Â Â fmt.Println(locations[&quot;Alex&quot;].Lat)\nÂ \nÂ Â Â Â // æµ‹è¯•é”®æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ç¬¬ä¸€ä¸ªè¿”å›å€¼ä¸ºé›¶å€¼ï¼Œç¬¬äºŒä¸ª false\nÂ Â Â Â ll, exist := locations[&quot;Alex&quot;]\nÂ Â Â Â fmt.Printf(&quot;%v %v&quot;, ll, exist) // {38 100} true\nÂ \nÂ Â Â Â // DEL æ“ä½œ\nÂ Â Â Â delete(locations, &quot;Alex&quot;)\nÂ \nÂ Â Â Â // ç›´æ¥é‡è¯­æ³•\nÂ Â Â Â locations = map[string]LatLng{\nÂ Â Â Â Â Â Â Â &quot;Alex&quot;: LatLng{38, 100},\nÂ Â Â Â Â Â Â Â &quot;Meng&quot;: LatLng{38, 110},\nÂ Â Â Â }\nÂ Â Â Â // for...range å¾ªç¯ã€‚æ³¨æ„ï¼Œéå†çš„é¡ºåºæ²¡æœ‰ä»»ä½•ä¿è¯\nÂ Â Â Â for key,value := range locations{\nÂ Â Â Â Â Â Â Â fmt.Println(key,value)\nÂ Â Â Â }\n}\næ”¯æŒçš„é”®ç±»å‹\nå¸ƒå°”å€¼ã€æ•°å­—ã€å­—ç¬¦ä¸²ã€æŒ‡é’ˆã€é€šé“ã€æ¥å£ç±»å‹ã€ç»“æ„ï¼Œä»¥åŠè¿™äº›ç±»å‹çš„æ•°ç»„ï¼Œéƒ½å¯ä»¥ä½œä¸ºæ˜ å°„çš„é”®ã€‚åˆ‡ç‰‡ã€æ˜ å°„ã€å‡½æ•°ä¸å¯ä»¥ä½œä¸ºæ˜ å°„çš„é”®ã€‚\nä¸åƒ Javaï¼ŒGo çš„ map ä¸æ”¯æŒè‡ªå®šä¹‰ equals/hashCodeã€‚ä¸¤ä¸ªé”®æ˜¯å¦ç›¸ç­‰ï¼Œè§„åˆ™å¦‚ä¸‹ï¼š\n\n\næŒ‡é’ˆï¼šå½“æŒ‡é’ˆæŒ‡å‘åŒä¸€å˜é‡æ—¶å®ƒä»¬ç›¸ç­‰ï¼Œnil æŒ‡é’ˆæ˜¯ç›¸ç­‰çš„\n\n\né€šé“ï¼šä¸¤ä¸ªé€šé“æ˜¯ç”±åŒä¸€æ¬¡ make è°ƒç”¨äº§ç”Ÿçš„ï¼Œåˆ™å®ƒä»¬ç›¸ç­‰ï¼Œnil é€šé“æ˜¯ç›¸ç­‰çš„\n\n\næ¥å£ï¼šå…·æœ‰ç›¸åŒçš„è¿è¡Œæ—¶ç±»å‹ï¼Œä¸”è¿è¡Œæ—¶å¯¹è±¡æ˜¯ç›¸ç­‰çš„ï¼Œåˆ™æ¥å£ç›¸ç­‰\n\n\nç»“æ„ï¼šå¦‚æœä¸¤ä¸ªç»“æ„çš„ï¼Œç›¸åŒåç§°çš„éç©ºå­—æ®µéƒ½ç›¸ç­‰ï¼Œåˆ™ç»“æ„ç›¸ç­‰\n\n\næ•°ç»„ï¼šå¦‚æœæ¯ä¸ªå…ƒç´ éƒ½ç›¸ç­‰\n\n\nçº¿ç¨‹å®‰å…¨\næ³¨æ„ï¼ŒGo ä¸­ map çš„æ“ä½œä¸æ˜¯åŸå­çš„ï¼ŒåŸå› æ˜¯ map çš„å…¸å‹åº”ç”¨åœºæ™¯ä¸‹ä¸ç‰µæ¶‰åˆ°è·¨ Goroutine çš„å®‰å…¨è®¿é—®ã€‚\nè¦ä¿è¯æ“ä½œçš„åŸå­æ€§ï¼Œå»ºè®®ä½¿ç”¨ Goroutine+Channelï¼Œæˆ–è€…ä½¿ç”¨ sync åŒ…ã€‚\nä¸æ”¯æŒå¯¹å€¼å–åœ°å€\næ³¨æ„ï¼šä¸æ”¯æŒå¯¹æ˜ å°„çš„å€¼è¿›è¡Œå–åœ°å€æ“ä½œï¼š\nusers := map[string]User{\nÂ Â Â Â &quot;Alex&quot;: User{&quot;Alex&quot;},\n}\nalex := &amp;users[&quot;Alex&quot;] // ç¼–è¯‘é”™è¯¯Â \nè¿­ä»£æ—¶åˆ é™¤\næ³¨æ„ï¼šåœ¨è¿­ä»£æ˜ å°„çš„è¿‡ç¨‹ä¸­åˆ é™¤é”®å€¼æ˜¯å®‰å…¨çš„ï¼š\nfor key := range m {\nÂ Â Â Â if key.expired() {\nÂ Â Â Â Â Â Â Â delete(m, key)\nÂ Â Â Â }\n}Â \næ–¹æ³•\nå°½ç®¡æ²¡æœ‰ç±»ï¼ˆClassï¼‰çš„æ¦‚å¿µï¼ŒGo å´æ”¯æŒä¸ºç±»å‹å®šä¹‰æ–¹æ³•ã€‚Go ä¸æ”¯æŒæ–¹æ³•é‡è½½ï¼Œè¿™æ„å‘³ç€ä¸¤ä¸ªæ–¹æ³•ä¸å¾—å…·æœ‰ç›¸åŒçš„åå­—ã€‚\næ–¹æ³•æ˜¯ä¸€ç§å‡½æ•°ï¼Œå®ƒå…·æœ‰ç‰¹æ®Šçš„æ¥æ”¶è€…ï¼ˆReceiverï¼‰å‚æ•°ï¼š\nfunc (receiver Receiver) methodName(args Args) rv ReturnValues{}\nÂ \nÂ \ntype LatLng struct {\nÂ Â Â Â latitude, longitude float64\n}\n// æ¥æ”¶è€…ä½äº func å…³é”®å­—å’Œæ–¹æ³•åä¹‹é—´ï¼Œä¸å’Œæ™®é€šçš„æ–¹æ³•å‚æ•°æ”¾åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­\nfunc (ll LatLng) isNorthHemisphere() bool {\nÂ Â Â Â return ll.latitude &gt; 0;\n}\nfunc (ll LatLng) isEastHemisphere() bool {\nÂ Â Â Â return ll.longitude &gt; 0;\n}\nÂ \nfunc main() {\nÂ Â Â Â jazxPos := LatLng{39.9601241068, 116.4405512810}\nÂ Â Â Â fmt.Println(jazxPos.isEastHemisphere())\n}\næ³¨æ„ï¼šæ–¹æ³•ä»…ä»…æ˜¯å…·æœ‰æ¥æ”¶è€…çš„å‡½æ•°è€Œå·²ã€‚\nä½ ä¹Ÿå¯ä»¥ä¸ºå…¶å®ƒï¼ˆé structï¼‰ç±»å‹å®šä¹‰æ–¹æ³•ï¼Œä½†æ˜¯ä½ åªèƒ½ä¸ºå½“å‰åŒ…ä¸­å£°æ˜çš„ç±»å‹å®šä¹‰æ–¹æ³•ï¼š\n// ç±»ä¼¼äº C è¯­è¨€çš„ typedef\ntype Float float64\nÂ \nfunc (f Float) Abs() Float {\nÂ Â Â Â // æ³¨æ„ä¸‹é¢è¿™ç§åœ¨ Float å’Œ float64 ä¹‹é—´è½¬æ¢çš„è¯­æ³•\nÂ Â Â Â return Float(math.Abs(float64(f)))\n}\nfunc main() {\nÂ Â Â Â f := Float(-100)\nÂ Â Â Â fmt.Println(f.Abs())\n}\nå€¼ä½œä¸ºæ¥æ”¶è€…\nè¿™ç§æƒ…å†µä¸‹ï¼Œä½ æ— æ³•ä¿®æ”¹æºå¯¹è±¡ï¼Œå› ä¸ºä¼ å…¥çš„æ˜¯æ‹·è´ã€‚\næŒ‡é’ˆä½œä¸ºæ¥æ”¶è€…\nå¯ä»¥ä¸ºæŒ‡é’ˆå®šä¹‰æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å°†æŒ‡é’ˆä½œä¸ºæ–¹æ³•çš„æ¥æ”¶è€…ã€‚æ¥æ”¶è€…å£°æ˜ä¸º*T ä¹Ÿæ˜¯ä¸º T ç±»å‹å®šä¹‰æ–¹æ³•ï¼Œä½†æ˜¯ T æœ¬èº«ä¸èƒ½æ˜¯æŒ‡é’ˆã€‚\nåŸºäºæŒ‡é’ˆæ¥æ”¶è€…å®šä¹‰æ–¹æ³•ï¼Œä½ å°±å¯ä»¥ä¿®æ”¹æ¥æ”¶è€…çš„çŠ¶æ€ï¼Œè¿™ç§è¡Œä¸ºç±»ä¼¼äº C è¯­è¨€ã€‚\n// ä¼ å€¼\nfunc (ll LatLng) isEastHemisphere() bool {\nÂ Â Â Â // æ­¤ä¿®æ”¹å¯¹äºè°ƒç”¨è€…ä¸å¯è§\nÂ Â Â Â ll.longitude = 0\nÂ Â Â Â return ll.longitude &gt; 0;\n}\n// ä¼ å¼•ç”¨\nfunc (ll *LatLng) isEastHemisphere() bool {\nÂ Â Â Â // æ­¤ä¿®æ”¹å¯¹è°ƒç”¨è€…å¯è§\nÂ Â Â Â ll.longitude = 0\nÂ Â Â Â return ll.longitude &gt; 0;\n}\nç”±äºæŒ‡é’ˆä¿®æ”¹æ¥æ”¶è€…çŠ¶æ€çš„èƒ½åŠ›ï¼Œç¬¬äºŒç§å½¢å¼çš„æ–¹æ³•å®šä¹‰è¦å¸¸ç”¨çš„å¤šï¼Œæ­¤å¤–ç¬¬äºŒç§å½¢å¼è¿˜é¿å…äº†ä¸å¿…è¦çš„å€¼æ‹·è´ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªç±»å‹ä¸Šçš„æ–¹æ³•ï¼Œé€šå¸¸éƒ½ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€…ï¼Œæˆ–è€…å€¼æ¥æ”¶è€…ï¼Œè€Œä¸ä¼šæ··ç”¨ã€‚\nè°ƒç”¨æ–¹æ³•æ—¶ï¼Œä½ ä¸éœ€è¦å¯¹æ¥æ”¶è€…è¿›è¡Œå–åœ°å€æ“ä½œï¼Œè¿™å’Œæ™®é€šå‡½æ•°è°ƒç”¨ä¸ä¸€æ ·ã€‚æ™®é€šå‡½æ•°çš„å‚æ•°å¦‚æœè¦æ±‚æŒ‡é’ˆï¼Œåˆ™ä½ å¿…é¡»ä¼ å…¥æŒ‡é’ˆã€‚\nT æ”¯æŒçš„æ–¹æ³•é›†æ˜¯ï¼šä»¥T ä¸ºæ¥æ”¶è€…çš„æ–¹æ³•é›† + ä»¥ T ä¸ºæ¥æ”¶è€…çš„æ–¹æ³•é›†ã€‚å› æ­¤*T æ”¯æŒçš„æ–¹æ³•å¯èƒ½æ¯” T å¤šã€‚\næ¥å£\næ¥å£æ˜¯ Go ä¸­è¿›è¡Œæ–¹æ³•åŠ¨æ€ç»‘å®šï¼ˆå¤šæ€ï¼‰çš„å”¯ä¸€é€”å¾„ã€‚é’ˆå¯¹ç»“æ„æˆ–è€…å…¶å®ƒå…·ä½“ç±»å‹çš„æ–¹æ³•è°ƒç”¨ï¼Œå…¶ç»‘å®šéƒ½å‘ç”Ÿåœ¨ç¼–è¯‘æ—¶ã€‚\næ¥å£è¿™ç§ç±»å‹å®šä¹‰ä¸€ç»„æ–¹æ³•ç­¾åï¼š\ntype GeoOps interface {\nÂ Â Â Â // æ¥å£ä¸­çš„æ–¹æ³•ä¸éœ€è¦ func å…³é”®å­—\nÂ Â Â Â IsNorthHemisphere() bool\nÂ Â Â Â isEastHemisphere() bool\n}\nå¯ä»¥å°†å®ç°äº†æ¥å£ä¸­å®šä¹‰äº†çš„æ–¹æ³•çš„ç±»å‹èµ‹å€¼ç»™æ¥å£ï¼š\n// ä»¥æ¥å£ç±»å‹å£°æ˜å€¼ï¼ˆInterface Valueï¼‰\nvar gops GeoOps\n// æ˜¯å¦éœ€è¦å–åœ°å€ï¼Œå–å†³äºå®ç°æ–¹æ³•çš„æ˜¯ T è¿˜æ˜¯*T\ngops = &amp;jazxPos\nfmt.Println(gops.IsNorthHemisphere())\nå®ç°æ¥å£\nGo è¯­è¨€ä¸éœ€è¦æ˜¾å¼çš„ implements å£°æ˜ï¼Œç±»å‹åªéœ€è¦å®ç°æ¥å£ä¸­è§„å®šçš„æ–¹æ³•å³å¯ï¼ˆé¸­å­ç±»å‹è¯†åˆ«ï¼‰ã€‚è¿™ç§è®¾è®¡è®©æ¥å£å’Œå®ƒçš„å®ç°å®Œå…¨è§£è€¦ã€‚\néœ€è¦æ³¨æ„ï¼š\n\n\nå®é™…ç±»å‹ä»¥å€¼æ¥æ”¶è€…å®ç°æ¥å£çš„æ—¶å€™ï¼Œä¸ç®¡æ˜¯å®é™…ç±»å‹çš„å€¼ï¼Œè¿˜æ˜¯å®é™…ç±»å‹å€¼çš„æŒ‡é’ˆï¼Œéƒ½å®ç°äº†è¯¥æ¥å£\n\n\nå®é™…ç±»å‹ä»¥æŒ‡é’ˆæ¥æ”¶è€…å®ç°æ¥å£çš„æ—¶å€™ï¼Œåªæœ‰æŒ‡å‘è¿™ä¸ªç±»å‹çš„æŒ‡é’ˆæ‰è¢«è®¤ä¸ºå®ç°äº†è¯¥æ¥å£\n\n\nnil æ¥å£å€¼\nå¦‚æœæ¥å£å€¼æŒ‡å‘ nil å˜é‡ï¼Œè°ƒç”¨æ–¹æ³•æ—¶ï¼Œæ¥æ”¶è€…æ˜¯ nilã€‚åœ¨å¾ˆå¤šè¯­è¨€ä¸­ï¼Œè°ƒç”¨ nil çš„æ–¹æ³•ä¼šå¯¼è‡´ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œä½†æ˜¯åœ¨ Go è¯­è¨€ä¸­ï¼Œä½ å¯ä»¥ä¼˜é›…çš„å®ç°å¦‚ä½•å¤„ç† nil å€¼çš„é€»è¾‘ã€‚\næ³¨æ„ nil æ¥å£å€¼å’ŒæŒ‡å‘ nil å˜é‡çš„æ¥å£å€¼ï¼š\nvar gops GeoOps;\nÂ \n// nil æ¥å£å€¼ï¼ˆæœªèµ‹å€¼ç»™å®é™…å˜é‡ï¼‰å¯¼è‡´è¿è¡Œæ—¶é”™è¯¯\ngops.isEastHemisphere() // panic: runtime error: invalid memory address or nil pointer dereference\nÂ \n// ä½†æ˜¯è®©æ¥å£å€¼æŒ‡å‘ nil å˜é‡åˆ™ä¸ä¼šå‡ºç°ä¸Šè¿°é—®é¢˜\nvar ll LatLng\ngops = &amp;ll\ngops.isEastHemisphere()\nè¿˜æœ‰ä¸€ä¸ªé™·é˜±éœ€è¦æ³¨æ„ï¼š\nvar e *E = nil\nvar ei error = e\nvar ni error = nil\nprintln(e == nil)Â Â // trueÂ Â Â Â nil\nprintln(ei == nil) // falseÂ Â  (error, nil)Â Â  è¿™ä¸‰ä¸ªéƒ½æ˜¯åˆ¤æ–­å˜é‡æœ¬èº«æ˜¯ä¸æ˜¯ nilï¼Œå³ä½¿å°† nil å˜é‡èµ‹å€¼ç»™æŒ‡é’ˆï¼ŒæŒ‡é’ˆä¹Ÿä¸æ˜¯ nilï¼Œå› ä¸ºå®ƒè·å¾—äº†ç±»å‹ä¿¡æ¯\nprintln(ni == nil) // trueÂ Â Â Â nil\néœ€è¦æ³¨æ„ï¼š\n\n\nå¦‚æœæŒ‡é’ˆå®ç°äº†æ¥å£ï¼Œåˆ™è¿™ç§æŒ‡é’ˆçš„é›¶å€¼ï¼Œå¯ä»¥èµ‹å€¼ç»™æ¥å£ â€”â€”è¿™ä¸ªèµ‹å€¼è¿‡ç¨‹èµ‹äºˆäº†æ¥å£ type å’Œ value\n\n\nå°½ç®¡å¯ä»¥å°†é›¶å€¼èµ‹ç»™æ¥å£ï¼Œä½†æ˜¯æ¥å£å˜é‡ != nilã€‚\n\n\nç¬¬ 2 ç‚¹å¾ˆå®¹æ˜“é€ æˆé—®é¢˜ï¼Œå½“å°†æŒ‡é’ˆç±»å‹çš„å˜é‡ä¼ é€’ç»™å½¢å‚ç±»å‹ä¸ºæ¥å£çš„æ–¹æ³•æ—¶ï¼Œåˆ¤æ–­ nil å€¼å¾ˆå®¹æ˜“å‡ºç°é—®é¢˜ã€‚è¿™ç§åç›´è§‰è¡Œä¸ºçš„åŸå› æ˜¯ï¼Œæ¥å£æœ¬è´¨ä¸Šæ˜¯(type, value) å¯¹ï¼Œå½“ä½ å°†æ¥å£å’Œ nil æŒ‡é’ˆæ¯”è¾ƒæ—¶ï¼Œè‡ªç„¶ä¸ç›¸ç­‰ã€‚\nè§£å†³åŠæ³•ï¼š\n\nå¦‚æœçŸ¥é“æ¥å£çš„ typeï¼Œå¯ä»¥è¿›è¡Œç±»å‹æ–­è¨€ï¼Œå†åˆ¤æ–­ nilï¼š\n\nif i.(bool) == nil {\n}Â \n\nå¦åˆ™ï¼Œå¯ä»¥é€šè¿‡åå°„ï¼š\n\nif reflect.ValueOf(i).IsNil() {\n}\nç©ºæ¥å£\nå®šä¹‰äº†é›¶ä¸ªæ–¹æ³•çš„æ¥å£è¢«ç§°ä¸ºç©ºæ¥å£ï¼šinterface{}\nä»»ä½•ç±»å‹çš„å˜é‡éƒ½å¯ä»¥èµ‹å€¼ç»™ç©ºæ¥å£ï¼Œå› ä¸ºä»»ä½•ç±»å‹éƒ½å®ç°å®ƒçš„å…¨éƒ¨æ–¹æ³•ã€‚ç©ºæ¥å£ç”¨äºå¤„ç†æœªçŸ¥ç±»å‹çš„å€¼ã€‚ä¾‹å¦‚æ ‡å‡†åº“ä¸­çš„ fmt. Println æ–¹æ³•ï¼š\nfunc Println(a ...interface{}) (n int, err error) {\nÂ Â Â Â return Fprintln(os.Stdout, a...)\n}\nä¸€äº›å®è·µ\nå¦‚æœä¸€ä¸ªåŒ…ä»…æš´éœ²ä¸€ä¸ªæ¥å£ï¼Œå¯ä»¥å°†æ­¤æ¥å£ç›´æ¥å‘½åä¸º Interfaceï¼š\npackage user\nÂ \ntype Interface interface {\nÂ Â Â Â GetName() string\n}\nä¸è¦å°†æ¥å£çš„æŒ‡é’ˆä½œä¸ºå…¥å‚ï¼Œåªéœ€è¦ä½¿ç”¨æ¥å£æœ¬èº«ï¼š\nfunc sayHelloTo(user *user.Interface) { // NOT OK\nÂ Â Â Â println((*user).GetName())\n}\nè¦é¿å…æ‹·è´ï¼Œåªéœ€è¦è®©ç±»å‹çš„æŒ‡é’ˆä½œä¸ºæ¥å£æ–¹æ³•çš„æ¥æ”¶è€…å³å¯ã€‚\nå­æ¥å£ç±»å‹çš„å®å‚ï¼Œå¯ä»¥ä¼ é€’ç»™çˆ¶æ¥å£ç±»å‹çš„å½¢å‚ã€‚æ‰€è°“çˆ¶å­æ¥å£ï¼Œå°±æ˜¯ä½“ç°åœ¨æ–¹æ³•é›†çš„åŒ…å«å…³ç³»ä¸Šã€‚\næ“ä½œç¬¦\nè‡ªå¢è‡ªå‡\nä»…ä»…æ”¯æŒ i++ï¼Œä¸æ”¯æŒ++iã€‚è€Œä¸”ä½ ä¸èƒ½åœ¨è¡¨è¾¾å¼ä¸­ä½¿ç”¨è‡ªå¢è‡ªå‡æ“ä½œç¬¦ï¼š\n++iÂ Â Â Â Â Â  // é”™è¯¯\ndata[i++] // é”™è¯¯\nä½æ“ä½œ\n^ ä½œä¸ºä¸€å…ƒæ“ä½œç¬¦ï¼ŒæŒ‰ä½å–åï¼Œä½œä¸ºäºŒå…ƒæ“ä½œç¬¦ï¼Œå¼‚æˆ–ã€‚\nvar a uint8 = 0x82\nvar b uint8 = 0x02\nfmt.Printf(&quot;%08b [A]\\n&quot;, a) // 10000010 [A]\nfmt.Printf(&quot;%08b [B]\\n&quot;, b) // 00000010 [B]\nfmt.Printf(&quot;%08b (NOT B)\\n&quot;, ^b) // 11111101 (NOT B)\nfmt.Printf(&quot;%08b ^ %08b = %08b [B XOR 0xff]\\n&quot;, b, 0xff, b^0xff) // 00000010 ^ 11111111 = 11111101 [B XOR 0xff]\nfmt.Printf(&quot;%08b ^ %08b = %08b [A XOR B]\\n&quot;, a, b, a^b) // 10000010 ^ 00000010 = 10000000 [A XOR B]\nfmt.Printf(&quot;%08b &amp; %08b = %08b [A AND B]\\n&quot;, a, b, a&amp;b) // 10000010 &amp; 00000010 = 00000010 [A AND B]\nfmt.Printf(&quot;%08b &amp;^%08b = %08b [A &#039;AND NOT&#039; B]\\n&quot;, a, b, a&amp;^b) // 10000010 &amp;^00000010 = 10000000 [A &#039;AND NOT&#039; B]\nfmt.Printf(&quot;%08b&amp;(^%08b)= %08b [A AND (NOT B)]\\n&quot;, a, b, a&amp;(^b)) // 10000010&amp;(^00000010)= 10000000 [A AND (NOT B)]\nç±»å‹æ–­è¨€\nä½¿ç”¨ä¸‹é¢çš„è¯­æ³•å¯ä»¥è¿›è¡Œç±»å‹æ–­è¨€ï¼Œå°†æ¥å£ç±»å‹å¼ºåˆ¶è½¬æ¢ä¸ºçœŸå®ç±»å‹ï¼Œæˆ–è€…å°†æ¥å£è½¬æ¢ä¸ºå¦å¤–ä¸€ä¸ªæ¥å£ï¼š\nll := LatLng{39, 100}\nvar gops GeoOps = &amp;ll\n// è¯­æ³•ï¼št,ok = i.(T)\nllp := gops.(*LatLng)\nÂ \ntype IstioObject interface { ... }\nvar object interface{} = ...\nitem, ok := object.(IstioObject)\nå¦‚æœæŒ‡å®šä¸¤ä¸ªå˜é‡æ¥æ¥æ”¶è¿”å›å€¼ï¼Œåˆ™ï¼š\n\n\nå¦‚æœæ–­è¨€æˆåŠŸï¼Œt ä¸ºçœŸå®ç±»å‹å˜é‡ï¼Œok ä¸º true\n\n\nå¦‚æœæ–­è¨€å¤±è´¥ï¼Œt ä¸ºçœŸå®ç±»å‹çš„ nil å€¼ï¼Œok ä¸º false\n\n\nå¦‚æœæŒ‡å®šå•ä¸ªå˜é‡æ¥æ¥æ”¶è¿”å›å€¼ï¼Œåˆ™æ–­è¨€å¤±è´¥ä¼šå¯¼è‡´ panic\nswitch è¯­æ³•\nè¿™ç§è¯­æ³•æ”¯æŒåœ¨ switch è¯­å¥ä¸­è¿›è¡Œå¤šæ¬¡æ–­è¨€ï¼Œç›´åˆ°ç±»å‹åŒ¹é…ï¼š\nswitch val := gops.(type) {\nÂ Â Â Â case *LatLng:\nÂ Â Â Â Â Â Â Â // æ‰§è¡Œåˆ°è¿™é‡Œåˆ™ val æ˜¯ *Latlng\nÂ Â Â Â default:\nÂ \n}\nnew/make\nGo æ”¯æŒä¸¤ç§å˜é‡åˆ†é…åŸè¯­ï¼šnewã€makeï¼ŒäºŒè€…éƒ½æ˜¯å†…ç½®å‡½æ•°ã€‚\nnew\nnew ä»…ä»…ç”¨äºåˆ†é…å†…å­˜ï¼Œå°†å…¶ç½®é›¶ï¼Œä½†æ˜¯ä¸åˆå§‹åŒ–å˜é‡ï¼Œä»…ä»…è¿”å›æŒ‡å‘é›¶å€¼çš„æŒ‡é’ˆï¼š\n// ä¸ºç±»å‹ SyncedBuffer åˆ†é…å¯¹åº”å¤§å°çš„å†…å­˜å¹¶æ¸…é›¶ï¼Œç„¶åè¿”å›ä¸€ä¸ª * SyncedBuffer\np := new(SyncedBuffer)\nä¸åŒç±»å‹çš„é›¶å€¼å…·æœ‰ä¸åŒå«ä¹‰ï¼šä¾‹å¦‚ï¼š\n\n\nsync. Mutex çš„é›¶å€¼è¡¨ç¤ºè§£é”çŠ¶æ€\n\n\nbytes. Buffer çš„é›¶å€¼è¡¨ç¤ºç©ºç™½çš„ç¼“å†²åŒºã€‚\n\n\nmake\nç”¨äºåˆ›å»ºåˆ‡ç‰‡ï¼ˆsliceï¼‰ã€æ˜ å°„ï¼ˆmapï¼‰å’Œé€šé“ï¼ˆchanï¼‰ï¼Œå¹¶ä¸”è¿”å›å·²åˆå§‹åŒ–çš„ç›®æ ‡ç±»å‹ï¼ˆè€ŒéæŒ‡é’ˆï¼‰ã€‚è¿™ç§è®¾è®¡çš„åŸå› æ˜¯ï¼Œè¿™ä¸‰ä¸ªç±»å‹å¿…é¡»åœ¨å®ƒä»¬å¼•ç”¨çš„æ•°æ®ç»“æ„è¢«åˆå§‹åŒ–åæ‰èƒ½ä½¿ç”¨\nç©ºç™½æ ‡è¯†ç¬¦\nä½ å¯ä»¥å£°æ˜ä»»ä½•ç±»å‹çš„ç©ºç™½æ ‡è¯†ç¬¦ï¼Œä¹Ÿå¯ä»¥å°†ä»»ä½•è¡¨è¾¾å¼èµ‹å€¼ç»™ç©ºç™½æ ‡è¯†ç¬¦ã€‚ç©ºç™½æ ‡è¯†ç¬¦ä½¿ç”¨ç¬¦å· _ è¡¨ç¤ºï¼Œå¯ç”¨æ¥æ— å®³çš„ä¸¢å¼ƒæŸäº›å€¼ã€‚\nç©ºç™½æ ‡è¯†ç¬¦å¯ä»¥ç”¨åœ¨å¤šèµ‹å€¼çš„è¡¨è¾¾å¼ä¸­ï¼Œå¿½ç•¥ä¸å…³å¿ƒçš„é‚£äº›å€¼ï¼š\nif _, err := os.Stat(path); os.IsNotExist(err) {\nÂ Â Â Â // ...\n}\nå¯¼å…¥åŒ…ï¼Œä½†æ˜¯ä»…ä»…æ‰§è¡Œå…¶ init å‡½æ•°è€Œä¸ä½¿ç”¨å…¶å¯¼å‡ºçš„æˆå‘˜ï¼š\nimport _ &quot;net/http/pprof&quot;\næ£€æŸ¥æ˜¯å¦å®ç°äº†æŒ‡å®šçš„æ¥å£ï¼š\nif _, ok := val.(json.Marshaler); ok {\nÂ Â Â Â fmt.Printf(&quot;value %v of type %T implements json.Marshaler&quot;, val, val)\n}\nç±»å‹åµŒå…¥\nGo æ²¡æœ‰æä¾›å…¸å‹çš„ã€ç±»å‹é©±åŠ¨çš„å­ç±»åŒ–æœºåˆ¶ã€‚ä½†æ˜¯ï¼Œä½ å¯ä»¥é€šè¿‡åœ¨ç»“æ„ã€æ¥å£å†…éƒ¨åµŒå…¥å…¶å®ƒç±»å‹ï¼Œæ¥è¾¾åˆ°ç±»ä¼¼äºå­ç±»åŒ–çš„æ•ˆæœã€‚\næ³¨æ„ç±»å‹åµŒå…¥å’Œå­ç±»åŒ–çš„ä¸åŒï¼š\n\n\nè¢«å†…åµŒç±»å‹çš„æ–¹æ³•æˆä¸ºå¤–éƒ¨ç±»å‹çš„æ–¹æ³•ï¼Œè¿™ä¸ªè¡Œä¸ºå’Œå­ç±»åŒ–ç›¸åŒ\n\n\nå½“æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œå…¶æ¥æ”¶è€…æ˜¯è¢«å†…åµŒç±»å‹ï¼ˆå³æ–¹æ³•æ‰€æ¥è‡ªçš„é‚£ä¸ªç±»å‹ï¼‰ï¼Œè€Œä¸æ˜¯å¤–éƒ¨ç±»å‹ï¼Œè¿™ä¸ªè¡Œä¸ºå’Œå­ç±»åŒ–ä¸åŒ\n\n\nè¢«åµŒå…¥ç±»å‹ï¼Œå¯¹è‡ªå·±è¢«åµŒå…¥è¿™ä»¶äº‹æƒ…æ¯«æ— æ„ŸçŸ¥ã€‚å› æ­¤ä»è¢«åµŒå…¥ç±»å‹ä¸­è°ƒç”¨å¤–éƒ¨ç±»å‹å®šä¹‰çš„æ–¹æ³•æ˜¯ä¸å¯èƒ½çš„\n\n\nåµŒå…¥åˆ°æ¥å£\ntype Reader interface {\nÂ Â Â Â Read(p []byte) (n int, err error)\n}\nÂ \ntype Writer interface {\nÂ Â Â Â Write(p []byte) (n int, err error)\n}\nÂ \n// åµŒå…¥ï¼šReadWriter æ˜¯ Readerã€Writer æ¥å£çš„è”åˆ\ntype ReadWriter interface {\nÂ Â Â Â Reader\nÂ Â Â Â Writer\n}\næ³¨æ„ï¼Œåªæœ‰æ¥å£æ‰èƒ½è¢«åµŒå…¥åˆ°æ¥å£ä¸­ã€‚\nåµŒå…¥åˆ°ç»“æ„\ntype Writer struct {\n}\nÂ \nfunc (w *Writer) write() {}\nÂ \ntype Reader struct {\n}\nÂ \nfunc (r *Reader) read() {}\nÂ \ntype ReaderWriter struct {\nÂ Â Â Â *Writer\nÂ Â Â Â *Reader\n}\nÂ \nfunc main() {\nÂ Â Â Â // å°±åƒæ™®é€šå­—æ®µä¸€æ ·ï¼Œå†…åµŒçš„ç±»å‹ä¹Ÿéœ€è¦åˆå§‹åŒ–ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œåˆ™ä¸ºé›¶å€¼\nÂ Â Â Â rw := ReaderWriter{&amp;Writer{}, &amp;Reader{}}\nÂ Â Â Â // å¯ä»¥ç›´æ¥è°ƒç”¨å†…åµŒæ¥å£çš„æ–¹æ³•\nÂ Â Â Â rw.write()\nÂ Â Â Â rw.read()\n}\nç»“æ„å¯ä»¥åŒæ—¶åŒ…å«æ™®é€šå­—æ®µã€å†…åµŒç»“æ„ï¼š\ntype Job struct {\nÂ Â Â Â Command string\nÂ Â Â Â *log.Logger\n}\nÂ \njob := &amp;Job{command, log.New(os.Stderr, &quot;Job: &quot;, log.Ldate)}\nå¦‚æœéœ€è¦ç›´æ¥å¼•ç”¨å†…åµŒç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨å…¶ç±»å‹åï¼š\n//Â Â ä½¿ç”¨ç±»å‹åå¼•ç”¨ï¼Œä¸è¦å¯¼å…¥åŒ…å‰ç¼€\njob.Logger.Logf(&quot;%q: %s&quot;,...)\næ³¨æ„ï¼Œç»“æ„ä¹Ÿå¯ä»¥å†…åµŒæ¥å£ï¼š\ntype Registry struct {\nÂ Â Â Â ClusterID string\nÂ Â Â Â model.ControllerÂ Â // ç±»å‹å Controller\n}\nç»“æ„åµŒå…¥æ¥å£çš„æ„ä¹‰æ˜¯ï¼Œç›¸å½“äºåŠ äº†ä¸ªâ€œç¼ºçœé€‚é…â€ï¼Œç»“æ„ä¸å¿…é¡»å®ç°ä»»ä½•æ–¹æ³•ï¼Œä»…ä»…â€œè¦†ç›–â€è‡ªå·±å…³æ³¨çš„æ–¹æ³•å³å¯ã€‚\nå¼•ç”¨å†…åµŒå­—æ®µ\nå†…åµŒçš„æ¥å£ã€ç»“æ„ï¼Œå¯ä»¥å‘½åï¼Œä¹Ÿå¯ä»¥ä¸å‘½åï¼ˆåŒ¿åå†…åµŒï¼‰ã€‚ä¸å‘½åæ—¶ï¼Œç›´æ¥ä»¥å…¶ç±»å‹åå¼•ç”¨ï¼š\naggregate.Registry{\nÂ Â Â Â ClusterID:Â Â Â Â Â Â Â Â clusterID,\nÂ Â Â Â Controller:Â Â Â Â Â Â  kubectl,Â Â  // ç›´æ¥é€šè¿‡ç±»å‹å Controller å¼•ç”¨\n}Â \nåå­—å†²çªé—®é¢˜\nåµŒå…¥å¯èƒ½å¯¼è‡´æ¥å£/ç»“æ„çš„æˆå‘˜åå†²çªï¼ˆåŒåï¼‰ï¼ŒGo åŸºäºä»¥ä¸‹è§„åˆ™è§£å†³æ­¤å†²çªï¼š\n\n\nè¶Šé åµŒå¥—å±‚æ¬¡å¤–éƒ¨çš„æˆå‘˜ä¼˜å…ˆçº§è¶Šé«˜ã€‚ä¾‹å¦‚ä¸Šé¢çš„ Job å†…åµŒäº† Loggerï¼Œå¦‚æœ Logger æœ‰ä¸€ä¸ªå­—æ®µ Commandï¼Œåˆ™æ­¤å­—æ®µè¢« Job. Command éšè—\n\n\nåŒä¸€å±‚æ¬¡ä¸‹å‡ºç°é‡åï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªé”™è¯¯ã€‚ä¾‹å¦‚ä¸Šé¢çš„ Job å†…åµŒäº† Loggerï¼Œå®ƒä¸åº”è¯¥åŒæ—¶æœ‰ä¸€ä¸ªåä¸º Logger çš„æ–¹æ³•æˆ–è€…å­—æ®µã€‚å³ä¾¿å¦‚æ­¤ï¼Œå†²çªçš„åç§°åªè¦æ²¡æœ‰åœ¨ç±»å‹å®šä¹‰å¤–éƒ¨è¢«å¼•ç”¨ï¼Œå°±ä¸ä¼šå¯¼è‡´é”™è¯¯\n\n\nåµŒå…¥æŒ‡é’ˆè¿˜æ˜¯å€¼\næ ¹æ®å®é™…æƒ…å†µï¼š\n\n\nå¦‚æœå¤–å±‚å¯¹è±¡ä»¥å€¼çš„å½¢å¼ä¼ æ¥ä¼ å»ï¼Œè€Œä½ éœ€è¦çš„å†…å±‚å¯¹è±¡çš„æ–¹æ³•æ˜¯å®šä¹‰åœ¨æŒ‡é’ˆä¸Šçš„ï¼Œåˆ™åµŒå…¥æŒ‡é’ˆ\n\n\nå¦‚æœå¤–å±‚å¯¹è±¡ä»¥æŒ‡é’ˆçš„å½¢å¼ä¼ æ¥ä¼ å»ï¼Œåˆ™å†…å±‚å¯¹è±¡å¯ä»¥åµŒå…¥å€¼ï¼Œæ²¡æœ‰é—®é¢˜ï¼Œä½ ä»ç„¶å¯ä»¥è®¿é—®å†…å±‚å¯¹è±¡çš„æŒ‡é’ˆæ–¹æ³•\n\n\nå¦‚æœå†…å±‚å¯¹è±¡çš„æ–¹æ³•å‡æ˜¯å€¼æ¥æ”¶è€…ï¼Œåˆ™åµŒå…¥å€¼\n\n\nå¦‚æœå¯¹è±¡å¾ˆå°ï¼Œå¯ä»¥è€ƒè™‘åµŒå…¥å€¼ï¼Œè¿™æ ·å¯ä»¥å‡å°‘å†…å­˜åˆ†é…æ¬¡æ•°ï¼Œå¹¶å®ç°å±€éƒ¨è®¿é—®ï¼ˆå†…å­˜ä¸­æ¯”è¾ƒé è¿‘ï¼‰ã€‚\nåˆ«åå’Œç±»å‹å®šä¹‰\nåˆ«å\nä¸‹é¢çš„è¯­æ³•æ˜¯å®šä¹‰åˆ«åï¼Œä¸¤ä¸ªç±»å‹æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œå¯ä»¥ä»»æ„æ›¿æ¢ï¼š\ntype nodeName = string\nç±»å‹å®šä¹‰\nä¸‹é¢çš„è¯­æ³•æ˜¯å®šä¹‰ä¸€ä¸ªæ–°ç±»å‹ï¼Œä¸¤ä¸ªç±»å‹ä¸ä¸€æ ·ï¼Œå¿…é¡»å¼ºåˆ¶è½¬æ¢ï¼š\ntype nodeName string\nÂ \nvar n nodeName = string(&quot;xenon&quot;)\nstr := string(n)Â \nå¯¹ç°æœ‰éæ¥å£ç±»å‹è¿›è¡Œç±»å‹å®šä¹‰ï¼Œæ–°çš„ç±»å‹ä¸ä¼šç»§æ‰¿åŸæœ‰ç±»å‹çš„æ–¹æ³•ï¼š\ntype myMutex sync.Mutex\nÂ \nvar mtx myMutex\nmtx.Lock() // é”™è¯¯\nè¦æƒ³ç»§æ‰¿ï¼Œå¯ä»¥ä½¿ç”¨åŒ¿ååµŒå¥—ï¼š\ntype myMutex struct {Â Â \nÂ Â Â Â sync.Mutex\n}\nÂ \nvar mtx myMutex\nmtx.Lock() // OK\nä½†æ˜¯ï¼Œå¯¹äºæ¥å£ç±»å‹è¿›è¡Œç±»å‹å®šä¹‰ï¼Œæ–¹æ³•åˆ™ä¼šè¢«ç»§æ‰¿ã€‚\næµç¨‹æ§åˆ¶\nfor\nGo ä»…ä»…æ”¯æŒ for è¿™ä¸€ç§å¾ªç¯ç»“æ„ï¼š\n// ä¸å¾—ä½¿ç”¨åœ†æ‹¬å·åŒ…å›´ï¼ˆåˆå§‹åŒ–è¯­å¥; æ¡ä»¶è¡¨è¾¾å¼; åç½®è¯­å¥ï¼‰ï¼Œä½†æ˜¯å¾ªç¯ä½“å¿…é¡»ä½¿ç”¨èŠ±æ‹¬å·åŒ…å›´\nfor i := 0; i &lt; 10; i++ {\nÂ Â Â Â fmt.Printf(&quot;%v&quot;, i)\n}\n// åˆå§‹åŒ–è¯­å¥å’Œåç½®è¯­å¥æ˜¯å¯é€‰çš„\ni := 0\nfor ; i &lt; 10; {\nÂ Â Â Â fmt.Printf(&quot;%v&quot;, i)\nÂ Â Â Â i += 1\n}\nÂ \n// ä¸Šæ®µä»£ç çš„å‰ååˆ†å·å¯ä»¥çœç•¥ï¼Œæ•ˆæœç±»ä¼¼äº C è¯­è¨€çš„ while\ni := 0\nfor i &lt; 10 {\nÂ Â Â Â fmt.Printf(&quot;%v&quot;, i)\nÂ Â Â Â i += 1\n}\nÂ \n// æ­»å¾ªç¯å†™æ³•\nfor {\n}\nå¾ªç¯å˜é‡å–åœ°å€\nä¸è¦å°è¯•å–å¾ªç¯å˜é‡çš„åœ°å€ï¼\nåœ¨ Go è¯­è¨€ä¸­ï¼Œfor è¯­å¥å¼•å…¥çš„å˜é‡åœ¨æ•´ä¸ªè¿­ä»£è¿‡ç¨‹ä¸­æ˜¯é‡ç”¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯æ¬¡è¿­ä»£ä¸­è¿›è¡Œå–åœ°å€ï¼Œæ€»æ˜¯ä¼šæŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼š\nvar items []NodeProblemSolverConfig\nÂ \nfor idx, solverConfig := range items {\nÂ Â Â Â println(&amp;solverConfig)\nÂ Â Â Â createSolver(&amp;solverConfig)\n}\nÂ \n// æ‰“å°\n0xc00055eea0\n0xc00055eea0\n0xc00055eea0\nåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒæœŸæœ›åˆ›å»ºå‡ºä¸‰ä¸ªä¸åŒé…ç½®çš„ Solver å¯¹è±¡ï¼Œè€Œå®é™…ä¸Šå®ƒä»¬å¼•ç”¨çš„ Config å®Œå…¨ä¸€è‡´ã€‚\nè§£å†³æ­¤é—®é¢˜çš„æ–¹æ³•æœ‰ä¸¤ä¸ªï¼š\n\nå¦‚æœå¸Œæœ›å¾—åˆ°å€¼å‰¯æœ¬çš„æŒ‡é’ˆï¼š\n\ncopied := solverConfig\n&amp;copied\n\nå¦‚æœå¸Œæœ›å¾—åˆ°åŸå§‹å€¼çš„æŒ‡é’ˆï¼š\n\n&amp;solverConfig[idx]Â \nå¾ªç¯å’Œé—­åŒ…\nä¸‹é¢çš„ä»£ç æœ‰é—®é¢˜ï¼Œæ‰€æœ‰ Goroutine æ‰“å°çš„éƒ½æ˜¯ data æœ€åä¸€ä¸ªå…ƒç´ çš„å€¼ï¼š\ndata =[]int{1,2,3,4,5}\nfor _,v := range data {\nÂ Â Â Â go func() {\nÂ Â Â Â Â Â Â Â fmt.Println(v)Â Â // 5 5 5 5 5\nÂ Â Â Â }()\nÂ Â Â Â \nÂ Â Â Â go v.print()Â Â Â Â // åŒæ ·çš„é—®é¢˜ï¼Œä½†æ˜¯æ›´åŠ éšè”½\n}\nè§£å†³åŠæ³•æ˜¯åœ¨å¾ªç¯ä½“å†…å®šä¹‰å±€éƒ¨å˜é‡ï¼š\nfor _,v := range data {\nÂ Â Â Â v := v // æ¯ä¸ªé—­åŒ…å¼•ç”¨çš„ä¸æ˜¯åŒä¸€å˜é‡ï¼Œè¿™ç§åŒåè¦†ç›–å˜é‡è™½ç„¶å¥‡æ€ªï¼Œåœ¨ Go é‡Œé¢æ˜¯æƒ¯ç”¨æ³•\nÂ Â Â Â go func() {\nÂ Â Â Â Â Â Â Â fmt.Println(vc)\nÂ Â Â Â }()\n}Â \næˆ–è€…ç›´æ¥ä¼ å‚ç»™ Goroutineï¼š\nfor _,v := range data {\nÂ Â Â Â go func(v V) {\nÂ Â Â Â Â Â Â Â fmt.Println(vc)\nÂ Â Â Â }(v)\n}\nå†æ¬¡å¼ºè°ƒï¼šæ•´ä¸ªå¾ªç¯è¿‡ç¨‹ä¸­ï¼Œfor è¯­å¥å¼•å…¥çš„è¿­ä»£å˜é‡æ˜¯çš„å†…å­˜åœ°å€æ˜¯ä¸å˜çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ•´ä¸ªè¿­ä»£è¿‡ç¨‹ä¸­åªæœ‰ä¸€ä¸ªå˜é‡ï¼Œæ¯æ¬¡éƒ½åœ¨ä¿®æ”¹åŒä¸€å˜é‡çš„å€¼ï¼Œåœ¨å¾ªç¯ä½“å†…**ï¼Œä¼ é€’æ­¤å˜é‡çš„åœ°å€æ˜¯å±é™©çš„ï¼Œç‰¹åˆ«æ³¨æ„é—­åŒ…è¿™ç§éšæ™¦çš„ä¼ é€’åœ°å€çš„å½¢å¼**\nif\nç±»ä¼¼äºå¾ªç¯æ§åˆ¶è¯­å¥ï¼Œåˆ†æ”¯æ§åˆ¶è¯­å¥ä¹Ÿå¯ä»¥åŒ…å«ä¸€ä¸ªåˆå§‹åŒ–è¯­å¥ï¼š\n// åœ†æ‹¬å·ã€èŠ±æ‹¬å·è§„åˆ™å’Œ for ç›¸åŒ\n// æ³¨æ„å¯ä»¥åœ¨æ¡ä»¶è¡¨è¾¾å¼ä¹‹å‰ç½®ä¸€ä¸ªè¯­å¥\nif i := 0; i &lt; 1 {\nÂ Â Â Â fmt.Print(i)\n}\nÂ \ni := 0;\nif i &lt; 1 {\nÂ Â Â Â fmt.Print(i)\n}\nÂ \n// if - else if - else\nif true {\nÂ Â Â Â \n} else if false {\nÂ \n} else {\nÂ \n}\nswitch\néœ€è¦æ³¨æ„ï¼ŒGo ä¸­ switch è¯­å¥çš„ caseï¼Œé»˜è®¤è¡Œä¸ºæ˜¯ breakï¼Œè€Œå…¶å®ƒå¾ˆå¤šè¯­è¨€çš„é»˜è®¤è¡Œä¸ºæ˜¯è¿›å…¥ä¸‹ä¸€ä¸ª case ç»§ç»­åˆ¤æ–­ã€æ‰§è¡Œï¼ˆæ³¨æ„ C è¯­è¨€ä¸­ï¼Œæ²¡æœ‰ break çš„æƒ…å†µä¸‹ï¼Œä¸€æ—¦æŸä¸ª case åŒ¹é…ï¼Œåç»­æ‰€æœ‰å…¶å®ƒ case/default éƒ½ä¼šæ‰§è¡Œï¼‰ï¼š\n// åŒæ ·å¯ä»¥å…·æœ‰å‰ç½®çš„åˆå§‹åŒ–è¡¨è¾¾å¼\nswitch os := runtime.GOOS; os {\ncase &quot;darwin&quot;:\nÂ Â Â Â fmt.Println(&quot;OS X&quot;)\ncase &quot;linux&quot;:\nÂ Â Â Â fmt.Println(&quot;Linux&quot;)\nÂ Â Â Â // fallthrough åˆ™ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªåˆ†æ”¯\nÂ Â Â Â fallthrough\ndefault:\n}\nÂ \n// switch ä¹Ÿå¯ä»¥ä¸å¸¦ä»»ä½•æ¡ä»¶ï¼Œç”¨æ¥ç¼–å†™ç®€æ´çš„ if-then-else ç»“æ„ï¼š\nt := time.Now()\nswitch {\ncase t.Hour() &lt; 12:\nÂ Â Â Â fmt.Println(&quot;ä¸Šåˆå¥½&quot;)\ncase t.Hour() &lt; 17:\nÂ Â Â Â fmt.Println(&quot;ä¸‹åˆå¥½&quot;)\ndefault:\nÂ Â Â Â fmt.Println(&quot;æ™šä¸Šå¥½&quot;)\n}\nÂ \n// case åˆå¹¶ï¼š\nswitch pod.Status.Phase {\ncase v1.PodPending, v1.PodRunning: ...\n}\ndefer\nè¿™ä¸ªå…³é”®å­—å¯ä»¥è®©åé¢çš„è¯­å¥å»¶è¿Ÿæ‰§è¡Œï¼š\nfunc main() {\nÂ Â Â Â defer fmt.Println(&quot; World&quot;)\nÂ Â Â Â fmt.Println(&quot;Hello&quot;)\n}\n// Hello World\nç›´åˆ°åŒ…å›´è¯­å¥çš„å‡½æ•°ï¼ˆè€Œéä»£ç å—ï¼‰è¿”å›ä¹‹å‰æ‰æ‰§è¡Œï¼Œå› æ­¤åœ¨å¾ªç¯ä½“ä¸­é€šè¿‡ defer æ¥è¿›è¡Œæ¸…ç†æ˜¯ä¸å¯ä»¥çš„ã€‚è§£å†³åŠæ³•æ˜¯æŠŠå¾ªç¯ä½“å°è£…ä¸ºå‡½æ•°ã€‚\nè¿ç»­ä½¿ç”¨ defer æ—¶ï¼Œä¼šå½¢æˆ defer æ ˆï¼Œå…ˆå…¥æ ˆçš„è¯­å¥åæ‰§è¡Œï¼š\nfunc main() {\nÂ Â Â Â for i := 0; i &lt; 10; i += 1 {\nÂ Â Â Â Â Â Â Â defer fmt.Print(i)Â Â  // ä¸èƒ½ç”¨è¿™ç§æ–¹å¼å®ç°æ¯å…ƒç´ è¿­ä»£åæ¸…ç†\nÂ Â Â Â }\nÂ Â Â Â // 9876543210\n}\néœ€è¦æ³¨æ„ï¼Œdefer çš„è¡¨è¾¾å¼æ±‚å€¼å‘ç”Ÿåœ¨å£°æ˜æ—¶ï¼Œè€Œéå®é™…æ‰§è¡Œæ—¶ï¼š\nvar i int = 1\ndefer fmt.Println(&quot;result =&gt;&quot;,func() int { return i * 2 }())Â Â // æ‰“å° 2 è€Œé 4\ni++Â \ndefer çš„é™·é˜±\ndefer å‡½æ•°è°ƒç”¨æ—¶æœº\n\n\nåŒ…è£¹ defer çš„å‡½æ•°è¿”å›æ—¶\n\n\nåŒ…è£¹ defer çš„å‡½æ•°æ‰§è¡Œåˆ°æœ«å°¾æ—¶\n\n\næ‰€åœ¨çš„ goroutine å‘ç”Ÿ panic æ—¶\n\n\nèµ„æºæ¸…ç†å…ˆåˆ¤æ–­ err å† defer\nå¦‚æœèµ„æºæ²¡æœ‰è·å–æˆåŠŸï¼Œå³æ²¡æœ‰å¿…è¦ä¹Ÿä¸åº”è¯¥å†å¯¹èµ„æºæ‰§è¡Œé‡Šæ”¾æ“ä½œï¼š\nresp, err := http.Get(url)\n// å…ˆåˆ¤æ–­æ“ä½œæ˜¯å¦æˆåŠŸ\nif err != nil {\nÂ Â Â Â return err\n}\n// ...\n// å¦‚æœæ“ä½œæˆåŠŸï¼Œå†è¿›è¡Œ Close æ“ä½œ\ndefer resp.Body.Close()\ndefer å‡½æ•°å‚æ•°ä¼°ç®—æ—¶æœº\ndefer åé¢éœ€è¦è·Ÿç€å‡½æ•°è°ƒç”¨ï¼Œä½†æ˜¯å…¶å…¥å‚å¯ä»¥æ˜¯ä»»ä½•è¡¨è¾¾å¼ã€‚è¿™äº›è¡¨è¾¾å¼çš„ä¼°ç®—æ—¶æœºï¼Œæ˜¯æ­£å¸¸æ‰§è¡Œæµï¼ˆé Defer æ ˆï¼‰æ‰§è¡Œåˆ° Defer è¯­å¥çš„æ—¶å€™ï¼š\nvar buf bytes.Buffer\nPrintln(buf.Len())Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // 0\nbuf.Write(make([]byte, 10))Â Â \nPrintln(buf.Len())Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // 10\ndefer Println(buf.Len())Â Â Â Â Â Â Â Â Â Â  // 10\nbuf.Write(make([]byte, 10))Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â \nPrintln(buf.Len())Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // 20\nä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œdefer è¯­å¥çœŸæ­£æ‰§è¡Œæ—¶ä½¿ç”¨çš„ buf é•¿åº¦ï¼Œæ˜¯ç¬¬ 3 è¡Œ write åçš„é•¿åº¦ï¼Œè€Œéç¬¬ 6 è¡Œã€‚\næ¢ä¸€ç§å†™æ³•ï¼š\nvar buf bytes.Buffer\nPrintln(buf.Len())Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // 0\nbuf.Write(make([]byte, 10))\nPrintln(buf.Len())Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // 10\ndefer func() {\nÂ Â Â Â defer Println(buf.Len())Â Â Â Â Â Â  // 20\n}()\nbuf.Write(make([]byte, 10))\nPrintln(buf.Len())Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // 20\nè¿™æ ·å°±å¯ä»¥è·å¾—æœ€ç»ˆ buf çš„é•¿åº¦ï¼Œå› ä¸ºå¯¹ buf.Len () çš„å‡½æ•°è°ƒç”¨ä¸ä¼šæå‰å‘ç”Ÿã€‚\nè°ƒç”¨ os. Exit æ—¶ defer ä¸ä¼šè¢«æ‰§è¡Œ\nå½“å‘ç”Ÿ panic æ—¶ï¼Œæ‰€åœ¨ goroutine çš„æ‰€æœ‰ defer ä¼šè¢«æ‰§è¡Œï¼Œä½†æ˜¯å½“è°ƒç”¨ os.Exit () æ–¹æ³•é€€å‡ºç¨‹åºæ—¶ï¼Œdefer å¹¶ä¸ä¼šè¢«æ‰§è¡Œï¼š\nfunc deferExit() {\nÂ Â Â Â defer func() {\nÂ Â Â Â Â Â Â Â fmt.Println(&quot;defer&quot;)\nÂ Â Â Â }()\nÂ Â Â Â os.Exit(0)\n}\nä¸Šé¢çš„ defer ä¸ä¼šæ‰§è¡Œã€‚\næ ‡ç­¾\nå¯ä»¥ç”¨äº goto è·³è½¬ã€forÂ switchã€forÂ select è·³è½¬ï¼š\nloop:\nÂ Â Â Â for {\nÂ Â Â Â Â Â Â Â switch {\nÂ Â Â Â Â Â Â Â case true:\nÂ Â Â Â Â Â Â Â Â Â Â Â break loop\nÂ Â Â Â Â Â Â Â }\nÂ Â Â Â }\ngoto\nå¯ä»¥å®ç°æ— æ¡ä»¶è½¬ç§»ï¼š\nÂ Â Â Â goto label\nlabel:\nÂ Â Â Â x := 1\nå¸¸ç”¨åº“\næ ‡å‡†åº“åˆ—è¡¨\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\næ ‡å‡†åº“è¯´æ˜archive/tarå¯¹ Tar å½’æ¡£æ ¼å¼çš„æ”¯æŒarchive/zipå¯¹ Zip å½’æ¡£æ ¼å¼çš„æ”¯æŒbufioè£…é¥° io. Reader/io. Writerbytesæ“æ§[]byteï¼Œä¹Ÿå°±æ˜¯å­—èŠ‚åˆ‡ç‰‡compress/bzip2å®ç° bzip2 è§£å‹ç¼©ç®—æ³•compress/flateå®ç° DEFLATE å‹é”ç®—æ³•compress/gzipæ”¯æŒè¯»å†™ gzip æ ¼å¼compress/lzwæ”¯æŒè¯»å†™ lzw æ ¼å¼{â€œuserNameâ€: â€œAlexâ€,â€œuserAgeâ€: 31}compress/zlibæ”¯æŒè¯»å†™ zlib æ ¼å¼container/heapä¸ºä»»ä½•å®ç°äº† heap æ¥å£çš„ç±»å‹æä¾›â€œå †â€æ“ä½œã€‚å †ï¼ˆheapï¼‰æ˜¯å®ç°ä¼˜å…ˆçº§é˜Ÿåˆ—çš„ä¸€ç§æ–¹å¼container/listå®ç°åŒå‘é“¾è¡¨container/ringå®ç°ç¯å½¢åˆ—è¡¨contextå®šä¹‰ Context ç±»å‹crypto/*åŠ è§£å¯†ç›¸å…³åŒ…database/sqlä¸º SQL æ•°æ®åº“æä¾›ä¸€èˆ¬æ€§æ¥å£database/sql/driverå®šä¹‰æ•°æ®åº“é©±åŠ¨ç¨‹åºéœ€è¦å®ç°çš„æ¥å£debug/*è°ƒè¯•ç›¸å…³çš„åŒ…encodingç¼–è§£ç ï¼ˆMarshaler/Unmarshalerï¼‰ç›¸å…³çš„é€šç”¨æ¥å£encoding/base64æ”¯æŒ Base64 ç¼–ç æ ¼å¼ï¼š// ç¼–ç base64.StdEncoding.EncodeToString ([]byte{})encoding/hexæ”¯æŒ Hex ç¼–ç æ ¼å¼encoding/jsonæ”¯æŒ JSON æ ¼å¼encoding/xmlæ”¯æŒ XML æ ¼å¼encoding/binaryåœ¨[]byte å’Œæ•°å­—ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼šerrorsåŒ…å«æ“æ§ error çš„å‡½æ•°flagå®ç°å‘½ä»¤è¡Œé€‰é¡¹è§£æçš„åŠŸèƒ½fmtæ ¼å¼åŒ–è¾“å…¥è¾“å‡ºï¼Œç±»ä¼¼äº C è¯­è¨€çš„ printf/scanfhash/*å®ç°æ•£åˆ—ç®—æ³•htmlç”¨äºå¤„ç† HTML çš„è½¬ä¹‰html/templateå®ç°äº‹ä»¶é©±åŠ¨çš„ã€ç”Ÿæˆ HTML çš„æ¨¡æ¿ï¼Œæ”¯æŒé˜²ä»£ç æ³¨å…¥image/*2D å›¾å½¢åº“ï¼Œæ”¯æŒ gif/jpeg/png ç­‰å›¾åƒæ ¼å¼index/suffixarrayåŸºäºå†…å­˜ä¸­çš„ suffix array å®ç°å¯¹æ•°å¤æ‚åº¦çš„å­ä¸²æœç´¢ioæä¾› IO æ“ä½œåŸè¯­io/ioutilåŒ…å«ä¸€äº› IO å·¥å…·å‡½æ•°logä¸€ä¸ªç®€å•çš„æ—¥å¿—åŒ…glogGoogle å†…éƒ¨ C++ æ—¥å¿—æ¡†æ¶çš„å¤åˆ¶å“log/syslogæä¾›è®¿é—®ç³»ç»Ÿæ—¥å¿—æœåŠ¡çš„åŠŸèƒ½mathåŒ…å«åŸºæœ¬çš„å¸¸é‡å’Œæ•°å­¦å‡½æ•°math/bigæ”¯æŒä»»æ„ç²¾åº¦çš„ç®—æœ¯è¿ç®—math/bitsæ”¯æŒæŒ‰ä½çš„è®¡ç®—math/cmplxæ”¯æŒå¤æ•°çš„è®¡ç®—math/randæ”¯æŒä¼ªéšæœºæ•°mimeå®ç°äº†éƒ¨åˆ† MIME è§„èŒƒmine/multipartæ”¯æŒ MIME Multipart è§£ænetæä¾›å¯ç§»æ¤çš„ç½‘ç»œ IO æ¥å£ï¼ŒåŒ…æ‹¬ TCP/IPã€UDPã€Unix åŸŸå¥—æ¥å­—ã€DNS è§£ænet/httpæä¾› HTTP å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å®ç°net/http/cgiæä¾› CGI å®ç°net/http/fcgiå®ç° FastCGI åè®®net/http/httptestæä¾›ç”¨äº HTTP æµ‹è¯•çš„å·¥å…·net/http/httptraceåœ¨ HTTP å®¢æˆ·ç«¯è¯·æ±‚å†…éƒ¨è¿½è¸ªäº‹ä»¶net/http/httputilHTTP ç›¸å…³å·¥å…·å‡½æ•°net/http/pprofæ”¶é›† HTTP æœåŠ¡å™¨è¿è¡Œæ—¶ä¿¡æ¯ï¼Œä¾› pprof åˆ†ænet/mailç”µå­é‚®ä»¶è§£æ/extend-kubernetes-with-custom-resourcesnet/smtpSMTP åè®®æ”¯æŒnet/rpcæ”¯æŒè·¨è¶Šç½‘ç»œæ¥è®¿é—®å¯¹è±¡å¯¼å‡ºçš„æ–¹æ³•net/rpc/jsonrpcå®ç°åŸºäº JSON-RPC 1.0 çš„æœåŠ¡å™¨/å®¢æˆ·ç«¯ç¼–ç æ–¹å¼net/urlè§£æ URLoså¹³å°ç‹¬ç«‹çš„æ“ä½œç³»ç»ŸåŠŸèƒ½å‡½æ•°os/execè¿è¡Œå¤–éƒ¨å‘½ä»¤os/signalæ”¯æŒè®¿é—®å‘é€åˆ°å½“å‰è¿›ç¨‹çš„ä¿¡å·os/useræ ¹æ®åç§°æˆ–è€… ID æ¥æŸ¥æ‰¾ OS ç”¨æˆ·pathæ“æ§åŸºäº / çš„è·¯å¾„path/filepathæ“æ§æ–‡ä»¶åè·¯å¾„reflectå®ç°äº†è¿è¡Œæ—¶åå°„ï¼Œå…è®¸ç¨‹åºæ“æ§ä»»ä½•ç±»å‹çš„å¯¹è±¡regexpæä¾›æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒruntimeåŒ…å«ç”¨äºå’Œ Go è¿è¡Œæ—¶ç³»ç»Ÿè¿›è¡Œäº¤äº’çš„æ“ä½œï¼Œä¾‹å¦‚æ§åˆ¶ Goroutinesortæä¾›æ’åºåˆ‡ç‰‡æˆ–è€…ç”¨æˆ·å®šä¹‰é›†åˆçš„åŸè¯­strconvä¸ºåŸºæœ¬æ•°æ®ç±»å‹æä¾›åˆ°/ä»å­—ç¬¦ä¸²å±•ç°çš„è½¬æ¢// bool è½¬æ¢ä¸ºå­—ç¬¦ä¸²strconv.FormatBool (v)// å­—ç¬¦ä¸²è½¬æ¢ä¸º intstrconv.Atoi (â€œ1â€)stringsæä¾›æ“æ§åŸºäº UTF-8 çš„å­—ç¬¦ä¸²çš„å‡½æ•°syncæä¾›åŸºæœ¬çš„åŒæ­¥åŸè¯­ï¼Œä¾‹å¦‚äº’æ–¥é‡sync/atomicæä¾›ä½çº§åˆ«çš„åŸå­å†…å­˜åŸè¯­ï¼Œç”¨äºè®¾è®¡åŒæ­¥ç®—æ³•syscallæ”¯æŒä½çº§åˆ«çš„ç³»ç»Ÿè°ƒç”¨testingç”¨äºæ”¯æŒ Go åŒ…çš„è‡ªåŠ¨åŒ–æµ‹è¯•timeæ“æ§å’Œè®¿é—®æ—¶é—´unicodeæä¾›å¯¹ Unicode çš„æ”¯æŒunsafeç”¨äºç»•å¼€ Go çš„ç±»å‹å®‰å…¨æœºåˆ¶\nbuilt-in\ntrue/false\nè¿™ä¸¤ä¸ªåœ¨ Go è¯­è¨€ä¸­æ˜¯å¸¸é‡ï¼Œå…¶å£°æ˜å¦‚ä¸‹ï¼š\nconst (\nÂ Â Â Â trueÂ Â = 0 == 0\nÂ Â Â Â false = 0 != 0\n)\niota\nç”¨åœ¨å¤šå¸¸é‡å£°æ˜ä¸­ï¼Œå…¶å€¼ä¸ºå½“å‰å¸¸é‡å€¼çš„ç´¢å¼•ï¼š\nconst (\nÂ Â Â Â x = 100\nÂ Â Â Â a = iota\nÂ Â Â Â b = iota\nÂ Â Â Â c\nÂ Â Â Â d\n)\nÂ \nfunc main() {\nÂ Â Â Â fmt.Printf(&quot;%v %v %v %v %v&quot;, x, a, b, c, d) // 100 1 2 3 4\n}\nnil\né¢„å®šä¹‰çš„æ ‡è¯†ç¬¦ï¼Œè¡¨ç¤ºæŒ‡é’ˆã€é€šé“ã€å‡½æ•°ã€æ¥å£ã€æ˜ å°„æˆ–è€…åˆ‡ç‰‡çš„é›¶å€¼ã€‚\nappend\nå‡½æ•°ç­¾åï¼šfunc append(slice []Type, elems ...Type) []Type\nå°†å…ƒç´ é™„åŠ åˆ°åˆ‡ç‰‡çš„å°¾éƒ¨ï¼Œå¦‚æœåˆ‡ç‰‡å®¹é‡è¶³å¤Ÿï¼Œå®ƒè¢«é‡åˆ‡å·²æ»¡è¶³æ–°å…ƒç´ ã€‚å¦‚æœå®¹é‡ä¸è¶³ï¼Œåº•å±‚æ•°ç»„è¢«é‡æ–°åˆ†é…\næ”¯æŒæŠŠå­—ç¬¦ä¸²æ·»åŠ åˆ°[]byte åˆ‡ç‰‡ä¸­ï¼š\nslice = append([]byte(&quot;hello &quot;), &quot;world&quot;)\ncap\nå‡½æ•°ç­¾åï¼šfunc cap(v Type) int\nè·å–æ•°ç»„ã€æ•°ç»„æŒ‡é’ˆï¼ˆæŒ‡å‘çš„æ•°ç»„ï¼‰ã€åˆ‡ç‰‡ã€ç¼“å†²é€šé“çš„å®¹é‡ã€‚\nclose\nç”¨äºå…³é—­é€šé“\ncomplex\nå‡½æ•°ç­¾åï¼šfunc complex(r, i FloatType) ComplexType\nç”¨äºåˆ›å»ºå¤æ•°\nå‡½æ•° func imag(c ComplexType) FloatType è¿”å›å¤æ•°çš„è™šæ•°éƒ¨åˆ†\nå‡½æ•° func real(c ComplexType) FloatType è¿”å›å¤æ•°çš„å®æ•°éƒ¨åˆ†\ncopy\nå‡½æ•°ç­¾åï¼šfunc copy(dst, src []Type) int\nä»æºåˆ‡ç‰‡æ‹·è´å…ƒç´ åˆ°ç›®æ ‡åˆ‡ç‰‡ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥æ‹·è´å­—ç¬¦ä¸²åˆ°[]byteã€‚è¿”å›å®é™…æ‹·è´çš„å…ƒç´ ä¸ªæ•°ã€‚\ndelete\nå‡½æ•°ç­¾åï¼šfunc delete(m map[Type]Type1, key Type)\nç”¨äºä»æ˜ å°„ä¸­åˆ é™¤æ¡ç›®ã€‚\nlen\nå‡½æ•°ç­¾åï¼šfunc len(v Type) int\nè¿”å›æ•°ç»„ã€æ•°ç»„æŒ‡é’ˆã€åˆ‡ç‰‡ã€å­—ç¬¦ä¸²ï¼ˆå­—èŠ‚æ•°ï¼‰ã€ç¼“å†²é€šé“çš„å…ƒç´ ä¸ªæ•°ã€‚å¦‚æœ v ä¸º nil åˆ™è¿”å› 0\nmake\nå‡½æ•°ç­¾åï¼šfunc make(t Type, size ...IntegerType) Type\nä¸ºåˆ‡ç‰‡ã€æ˜ å°„ã€é€šé“åˆ†é…å†…å­˜ç©ºé—´å¹¶ä¸”åˆå§‹åŒ–ã€‚\nnew\nå‡½æ•°ç­¾åï¼šfunc new(Type) *Type\nä¸ºæŒ‡å®šçš„ç±»å‹åˆ†é…å†…å­˜\npanic\næ­¤å†…ç½®å‡½æ•°ç”¨äºäº§ç”Ÿä¸€ä¸ªè¿è¡Œæ—¶å¼‚å¸¸ï¼Œé€šå¸¸ä¼šå¯¼è‡´ç¨‹åºåœæ­¢è¿è¡Œã€‚æ­¤å‡½æ•°æ¥æ”¶ä¸€ä¸ªä»»æ„ç±»å‹çš„å‚æ•°ï¼Œå‚æ•°çš„å­—ç¬¦ä¸²å½¢å¼ä¼šè¢«æ‰“å°åˆ°æ§åˆ¶å°ä¸Šã€‚\nrecover\nå½“ panic è¢«è°ƒç”¨æ—¶ï¼Œä¸ç®¡æ˜¯å¦æ˜¾å¼è°ƒç”¨ï¼Œå½“å‰å‡½æ•°çš„æ‰§è¡Œä¼šç«‹å³åœæ­¢ï¼Œå¹¶ Unwind è°ƒç”¨æ ˆï¼Œè°ƒç”¨ defer å‡½æ•°ã€‚å¦‚æœ Unwinding åˆ°è¾¾ Goroutine çš„æ ˆé¡¶ï¼Œåˆ™ç¨‹åºç»ˆæ­¢ã€‚\nä½¿ç”¨å†…ç½®å‡½æ•° recover å¯ä»¥ä» Unwinding ä¸­é‡æ–°è·å¾—ç¨‹åºæ§åˆ¶æƒï¼Œæ¢å¤æ­£å¸¸æ‰§è¡Œæµã€‚recover å‡½æ•°ç»ˆæ­¢ Unwind å¹¶æ•è· panic çš„å‚æ•°ä½œä¸ºè¿”å›å€¼ï¼Œå®ƒä»…ä»…èƒ½åœ¨ defer å‡½æ•°ä½“å†…è°ƒç”¨ã€‚\ntype Request struct {\n}\nÂ \nfunc (request *Request) process() {\nÂ Â Â Â panic(&quot;Request process failed.&quot;)\n}\nÂ \nfunc Worker(req *Request) {\nÂ Â Â Â // å¿…é¡»åœ¨ defer ä¸­è°ƒç”¨ï¼Œrecover ç±»ä¼¼äº Java ä¸­çš„ catch\nÂ Â Â Â defer func() {\nÂ Â Â Â Â Â Â Â // å¦‚æœå½“å‰æ²¡æœ‰ panicï¼Œåˆ™ recover è¿”å› nil\nÂ Â Â Â Â Â Â Â if err := recover(); err != nil {\nÂ Â Â Â Â Â Â Â Â Â Â Â fmt.Println(err)\nÂ Â Â Â Â Â Â Â }\nÂ Â Â Â }()\nÂ Â Â Â req.process()\n}\nprint/println\nå†…ç½®çš„æ‰“å°å‡½æ•°ï¼š\nfunc print(args ...Type)\nfunc println(args ...Type)\nuintptr\nä¸€ä¸ªæ•´æ•°ç±»å‹ï¼Œè¶³å¤Ÿå¤§ä»¥å­˜æ”¾ä»»ä½•ä½æ¨¡å¼çš„æŒ‡é’ˆã€‚\nerror\nè¿™æ˜¯ä¸€ä¸ªå†…ç½®çš„æ¥å£ï¼š\ntype error interface {\nÂ Â Â Â Error() string\n}\nfmt åŒ…åœ¨æ‰“å°æ—¶ï¼Œä¼šæ£€æµ‹å˜é‡æ˜¯å¦å®ç°äº†è¯¥æ¥å£ã€‚\nå¾ˆå¤šå‡½æ•°éƒ½ä¼šè¿”å› error å€¼ï¼Œè°ƒç”¨è€…åº”è¯¥æ£€æŸ¥è¯¥å€¼æ˜¯å¦ä¸º nilï¼Œä»è€Œåˆ¤æ–­è°ƒç”¨æ˜¯å¦æˆåŠŸï¼š\ni, err := strconv.Atoi(&quot;one&quot;)\n// éé›¶å€¼è¡¨ç¤ºè°ƒç”¨å¤±è´¥\nif err != nil {\nÂ Â Â Â fmt.Printf(&quot;%v\\n&quot;, err)\nÂ Â Â Â return\n}\nfmt.Println(i)\nflag\nè§£æå‘½ä»¤è¡Œå‚æ•°ï¼Œæ”¯æŒçŸ­å‚æ•°ï¼ˆ-hï¼‰å’Œé•¿å‚æ•°ï¼ˆâ€”helpï¼‰ï¼Œæ”¯æŒé»˜è®¤å€¼ã€å‘½ä»¤å¸®åŠ©ï¼š\nimport &quot;flag&quot;\nÂ \nvar (\nÂ Â Â Â masterURL string\nÂ Â Â Â helpÂ Â Â Â Â Â bool\n)\nÂ \nfunc main() {\nÂ Â Â Â // æ³¨å†Œå‘½ä»¤è¡Œå‚æ•°ï¼šå­˜æ”¾åˆ°çš„ç›®æ ‡å˜é‡çš„æŒ‡é’ˆã€å‚æ•°åã€é»˜è®¤å€¼ã€å¸®åŠ©ä¿¡æ¯\nÂ Â Â Â flag.StringVar(&amp;masterURL, &quot;masterURL&quot;, &quot;&quot;, &quot;URL of kubernetes master&quot;)\nÂ Â Â Â flag.Parse() // è§£æ\nÂ Â Â Â if help {\nÂ Â Â Â Â Â Â Â flag.Usage() // æ‰“å°å¸®åŠ©\nÂ Â Â Â }\n}Â \nlog\nè¯¥åŒ…æä¾›äº†åŸºæœ¬çš„æ—¥å¿—è®°å½•åŠŸèƒ½ã€‚ç¤ºä¾‹ç”¨æ³•ï¼š\nlog.Printf(&quot;Process id is %v&quot;, os.Getpid())\nlog.Fatalf(&quot;Parent PID is %v&quot;, os.Getppid())Â Â // æ‰“å°ä¿¡æ¯å¹¶æ‰§è¡Œ panic() æŠ›å‡ºææ…Œ\nlog.Fatal(&quot;Fatal error&quot;)Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â // æ‰“å°ä¿¡æ¯å¹¶æ‰§è¡Œ os.Exit(1)\nè¾“å‡ºå†…å®¹æ¯” fmt. Printf å¤šäº†å½“å‰æ—¶é—´çš„å‰ç¼€ã€‚è¦é…ç½®è¾“å‡ºæ ¼å¼ï¼Œå¯ä»¥ï¼š\n// å‰ç¼€æ—¥æœŸå’Œä»£ç ä½ç½®\nfunc init(){\nÂ Â Â Â log.SetFlags(log.Ldate | log.Lshortfile)\n}\n// 2016/08/05 application.go:10: Process id is 10147\nÂ \n// æ‰€æœ‰å¯ç”¨çš„æ ‡è®°ï¼š\nconst (\nÂ Â Â Â Ldate = 1 &lt;&lt; iota //æ—¥æœŸï¼Œç¤ºä¾‹ 2017/01/01\nÂ Â Â Â Ltime //æ—¶é—´ï¼Œç¤ºä¾‹ 08:08:08\nÂ Â Â Â Lmicroseconds //å¾®ç§’\nÂ Â Â Â Llongfile //ç»å¯¹è·¯å¾„å’Œè¡Œå·\nÂ Â Â Â Lshortfile //æ–‡ä»¶å’Œè¡Œå·\nÂ Â Â Â LUTC //æ—¥æœŸæ—¶é—´ï¼ŒUTC æ—¶é—´\nÂ Â Â Â LstdFlags = Ldate | Ltime\n)\nreflect\nè¯¥åŒ…ä¸º Go è¯­è¨€æä¾›äº†åå°„åŠŸèƒ½ã€‚\nåˆ†ç±»è¯†åˆ«\nä¾‹å¦‚åˆ¤æ–­å¯¹è±¡æ˜¯ä¸æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼š\nif reflect.ValueOf(req).Kind() != reflect.Ptr {\nÂ Â \n}Â \nç±»å‹è¯†åˆ«\ntype User struct {\nÂ Â Â Â Name string\nÂ Â Â Â AgeÂ Â uint8\n}\nÂ \nvar alex interface{}\nalex = User{&quot;Alex&quot;, 31}\nÂ \n// è·å–ä»»æ„å¯¹è±¡çš„å…·ä½“ç±»å‹\nalexType := reflect.TypeOf(alex)\nintType := reflect.TypeOf(1)\nfmt.Println(alexType, intType) // main.User int\nå€¼è¯†åˆ«\nValue æ˜¯ä¸€ä¸ªç»“æ„ï¼Œå®ƒä¿å­˜ä»»ä½•ä¸€ä¸ªå¯¹è±¡çš„å…¨éƒ¨ä¿¡æ¯ã€‚\nè°ƒç”¨ reflect.ValueOf ()å¯ä»¥å°†ä»»æ„å¯¹è±¡è½¬æ¢ä¸º reflect. Value\nalexValue := reflect.ValueOf(alex)\nfmt.Printf(&quot;%T=%v\\n&quot;, alexValue, alexValue) // reflect.Value={Alex 31}\nÂ \n// ä¸‹é¢çš„è°ƒç”¨è¿”å›é›¶å€¼\nValueOf(nil)\nè¦ä» Value è·å¾—**åŸå§‹å¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨ Value.Interface ()**æ–¹æ³•ï¼š\n// è·å¾—åŸå§‹å¯¹è±¡ interface{} ç„¶åå°†å…¶ Cast ä¸ºçœŸå®ç±»å‹\nalex, _ = alexValue.Interface().(User)\nfmt.Printf(&quot;%T=%v\\n&quot;, alex, alex)Â Â Â Â Â Â Â Â Â Â  // main.User={Alex 31}Â \nè¦åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºé›¶å€¼ï¼Œä½¿ç”¨ä¸‹é¢çš„ä»£ç ï¼š\nfunc IsZero(v reflect.Value) bool {\nÂ Â Â Â // é›¶å€¼æ˜¯æ— æ•ˆå€¼ï¼Œä½†æ˜¯è¿™æ ·åˆ¤æ–­ä¸è¶³å¤Ÿï¼Œè¿˜éœ€è¦å°†Â Â å½“å‰å€¼Â Â Â Â Â Â å’ŒÂ Â  ç±»å‹çš„é›¶å€¼Â Â Â Â è¿›è¡Œæ¯”è¾ƒ\nÂ Â Â Â return !v.IsValid() || reflect.DeepEqual(v.Interface(), reflect.Zero(v.Type()).Interface())\n}\nè·å–åˆ†ç±»\nfmt.Println(alexType.Kind())Â Â // struct\nfmt.Println(alexValue.Kind()) // struct\nÂ \n// åº•å±‚åˆ†ç±»åˆ—è¡¨\nconst (\nÂ Â Â Â Invalid Kind = iota\nÂ Â Â Â Bool\nÂ Â Â Â Int\nÂ Â Â Â Int8\nÂ Â Â Â Int16\nÂ Â Â Â Int32\nÂ Â Â Â Int64\nÂ Â Â Â Uint\nÂ Â Â Â Uint8\nÂ Â Â Â Uint16\nÂ Â Â Â Uint32\nÂ Â Â Â Uint64\nÂ Â Â Â Uintptr\nÂ Â Â Â Float32\nÂ Â Â Â Float64\nÂ Â Â Â Complex64\nÂ Â Â Â Complex128\nÂ Â Â Â Array\nÂ Â Â Â Chan\nÂ Â Â Â Func\nÂ Â Â Â Interface\nÂ Â Â Â Map\nÂ Â Â Â Ptr\nÂ Â Â Â Slice\nÂ Â Â Â String\nÂ Â Â Â Struct\nÂ Â Â Â UnsafePointer\n)\nè¯»å†™å­—æ®µ\n// éå†å­—æ®µ\nfor i := 0; i &lt; alexType.NumField(); i++ {\nÂ Â Â Â fmt.Println(alexType.Field(i).Name)\n}\nå†™å…¥ç»“æ„çš„å­—æ®µï¼š\ntype User struct {\nÂ Â Â Â Name string\nÂ Â Â Â AgeÂ Â uint8\n}\nÂ \nalex := User{&quot;Alex&quot;, 31}\nÂ \n// ä¸ºäº†ä¿®æ”¹å¯¹è±¡çš„å­—æ®µï¼Œå¿…é¡»ä¼ é€’æŒ‡é’ˆï¼ˆå¯å¯»å€ï¼‰\nalexPtrValue := reflect.ValueOf(&amp;alex)\nÂ \n// Elem() è¿”å› interface åŒ…å«çš„ Valueã€æˆ–è€…æŒ‡é’ˆæŒ‡å‘çš„ Value\nalexValue := alexPtrValue.Elem()\nif alexValue.Kind() == reflect.Struct {\nÂ Â Â Â nameField := alexValue.FieldByName(&quot;Name&quot;)\nÂ Â Â Â // å¯è®¾ç½®çš„å‰ææ˜¯ï¼šå­—æ®µå·²ç»å¯¼å‡ºã€å¯¹è±¡å¯å¯»å€\nÂ Â Â Â if nameField.CanSet() {\nÂ Â Â Â Â Â Â Â nameField.SetString(&quot;Alex Wong&quot;)\nÂ Â Â Â }\n}\nÂ \nfmt.Println(alex) // {Alex Wong 31}\nå†™å…¥åŸºæœ¬ç±»å‹ï¼š\nage := 31\nreflect.ValueOf(&amp;age).Elem().SetInt(32)\nfmt.Println(age) // 32\nè°ƒç”¨æ–¹æ³•\nè¦è°ƒç”¨æ–¹æ³•ï¼Œé¦–å…ˆéœ€è¦è·å–æ–¹æ³•çš„ Value å¯¹è±¡ï¼š\nalexPtrValue := reflect.ValueOf(&amp;alex)\nsayHelloMthd := alexPtrValue.MethodByName(&quot;SayHello&quot;)\nMethodByName æ ¹æ®åç§°æ¥æ£€ç´¢ä¸€ä¸ª Valueï¼ˆå®ƒå¿…é¡»æ˜¯æ¥å£ã€ç»“æ„ç­‰æ”¯æŒæ–¹æ³•çš„å¯¹è±¡ï¼‰çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¹Ÿæ˜¯ Value å¯¹è±¡ï¼Œä½†æ˜¯å®ƒå¯è¢«è°ƒç”¨ï¼š\nargs := []reflect.Value{\nÂ Â Â Â reflect.ValueOf(&quot;Meng&quot;),\n}\nÂ \nif sayHelloMthd.IsValid() {\nÂ Â Â Â rets := sayHelloMthd.Call(args)\nÂ Â Â Â println ( rets[0].Interface().(string))\n}\næ€»ä¹‹ï¼Œæ–¹æ³•ã€æ–¹æ³•çš„å‚æ•°ã€æ–¹æ³•çš„è¿”å›å€¼ï¼Œéƒ½æ˜¯ Valueã€‚Value å’Œå®é™…æ¥å£/ç»“æ„ä¹‹é—´å¯ä»¥è½¬æ¢ã€‚\nè¯»å–å­—æ®µæ ‡ç­¾\nalex := User{&quot;Alex&quot;, 31}\ntag := reflect.TypeOf(alex).Field(0).Tag\nfmt.Println(tag) // json:&quot;userName&quot;\nå¾ˆå¤šç°æœ‰çš„åŒ…éƒ½ä¼šåˆ©ç”¨å­—æ®µæ ‡ç­¾ï¼Œä¾‹å¦‚ï¼š\njson, _ := json.Marshal(alex)\nfmt.Printf(&quot;%v&quot;, string(json))\n// {&quot;userName&quot;:&quot;Alex&quot;,&quot;userAge&quot;:31}\nunsafe\nä½¿ç”¨è¯¥åŒ…å¯ä»¥ç»•è¿‡ Go çš„å†…å­˜å®‰å…¨æœºåˆ¶ï¼Œç›´æ¥å¯¹å†…å­˜è¿›è¡Œè¯»å†™ã€‚\nSizeof\næ­¤å‡½æ•°è¿”å›ä¸€ä¸ªç±»å‹å ç”¨çš„å†…å­˜ç©ºé—´å¤§å°ï¼š\nfmt.Println(unsafe.Sizeof(1))Â Â Â Â Â Â Â Â // 8\nfmt.Println(unsafe.Sizeof(&#039;1&#039;))Â Â Â Â Â Â // 4\nfmt.Println(unsafe.Sizeof(&quot;1&quot;))Â Â Â Â Â Â // 16\nfmt.Println(unsafe.Sizeof(new(int)))Â Â Â Â // 8\næ³¨æ„è¿”å›å€¼ä»…ä»…å’Œç±»å‹æœ‰å…³ï¼Œå’Œå€¼æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚\nAlignof\næ­¤å‡½æ•°è¿”å›ä¸€ä¸ªç±»å‹çš„å¯¹é½ç³»æ•°ï¼ˆå¯¹é½å€æ•°ï¼‰ï¼š\nvar b bool\nvar i8 int8\nvar i16 int16\nvar i64 int64\nvar f32 float32\nvar s string\nvar m map[string]string\nvar p *int32\nfmt.Println(unsafe.Alignof(b))Â Â Â Â Â Â  // 1\nfmt.Println(unsafe.Alignof(i8))Â Â Â Â Â Â // 1\nfmt.Println(unsafe.Alignof(i16))Â Â Â Â  // 2\nfmt.Println(unsafe.Alignof(i64))Â Â Â Â  // 8\nfmt.Println(unsafe.Alignof(f32))Â Â Â Â  // 4\nfmt.Println(unsafe.Alignof(s))Â Â Â Â Â Â  // 8Â Â Â Â Â Â \nfmt.Println(unsafe.Alignof(m))Â Â Â Â Â Â  // 8\nfmt.Println(unsafe.Alignof(p))Â Â Â Â Â Â  // 8\nå¯¹é½å€æ•°éƒ½æ˜¯ 2 çš„å¹‚ï¼Œä¸€èˆ¬ä¸ä¼šè¶…è¿‡ 8ã€‚ä½ ä¹Ÿå¯ä»¥åŸºäºåå°„æ¥è·å–å¯¹é½å€æ•°ï¼š\nreflect.TypeOf(x).Align()\nOffsetof\næ­¤å‡½æ•°ç”¨äºè·å–ç»“æ„ä¸­å­—æ®µç›¸å¯¹äºç»“æ„èµ·å§‹å†…å­˜åœ°å€çš„åç§»é‡ï¼š\ntype User struct {\nÂ Â Â Â ageÂ Â uint8\nÂ Â Â Â name string\n}\nalex := User{}\nfmt.Println(unsafe.Offsetof(alex.age))Â Â  // 0\nfmt.Println(unsafe.Offsetof(alex.name))Â Â // 8\nä½ ä¹Ÿå¯ä»¥åŸºäºåå°„æ¥è·å–åç§»é‡ï¼š\nreflect.TypeOf(u1).Field(i).Offset\nPointer\nunsafe. Pointer æ˜¯ä¸€ç§ç‰¹æ®Šçš„æŒ‡é’ˆï¼Œå®ƒå¯ä»¥æŒ‡å‘ä»»ä½•çš„ç±»å‹ï¼Œç±»ä¼¼äº C è¯­è¨€ä¸­çš„ void*\nä¸åŒå…·ä½“ç±»å‹çš„æŒ‡é’ˆæ˜¯æ— æ³•ç›¸äº’è½¬æ¢çš„ï¼š\nvar uip *uint8 = new(uint8)\nvar fip *float32 = new(float32)\nuip = fipÂ Â // cannot use fip (type *float32) as type *uint8 in assignment\nä½†æ˜¯ unsafe. Pointer å´å¯ä»¥å’Œä»»ä½•æŒ‡é’ˆç±»å‹ç›¸äº’è½¬æ¢ï¼ŒåŒ…æ‹¬ uintptrï¼š\nvar uip *uint8 = new(uint8)\nvar fip *float32 = new(float32)\n*fip = 3.14\nuip = (*uint8)(unsafe.Pointer(fip))\nfmt.Println(*uip)\n*T ä¸æ”¯æŒç®—æœ¯è¿ç®—ï¼Œä½†æ˜¯ uintptr å´å¯ä»¥ã€‚åˆ©ç”¨ unsafe. Pointer ä½œä¸ºåª’ä»‹ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—ç²¾ç¡®æ§åˆ¶å†…å­˜çš„èƒ½åŠ›ï¼š\ntype User struct {\nÂ Â Â Â ageÂ Â uint8\nÂ Â Â Â name string\n}\nuser := new(User)\nÂ \npage := (*uint8)(unsafe.Pointer(user))\n*page = 31\nÂ \nos := unsafe.Offsetof(user.name)\n// ä¸ºäº†è¿›è¡ŒæŒ‡é’ˆç®—æœ¯è¿ç®—ï¼Œå¿…é¡»ä½¿ç”¨ uintptr\nbase := uintptr(unsafe.Pointer(user))\npname := (*string)(unsafe.Pointer(base + os))\n*pname = &quot;Alex&quot;\nÂ \nfmt.Println(*user)Â \nencoding/json\n// åºåˆ—åŒ–ï¼Œç¼©è¿› 4 ç©ºæ ¼\nb, _ := json.Marshal(result)\nvar out bytes.Buffer\njson.Indent(&amp;out, b, &quot;&quot;, &quot;Â Â Â Â &quot;)\nout.WriteTo(writer)\n// åºåˆ—åŒ–ï¼Œç¼©è¿› 4 ç©ºæ ¼\njson.MarshalIndent(data, &quot;&quot;, &quot; &quot;)\nå¯¹é€šè¿‡ HTTP ä¼ é€’æ¥çš„å­—èŠ‚æµè§£ç ä¸º JSONï¼Œæ•°å­—çš„çœŸå®ç±»å‹å¯èƒ½æ˜¯ float64ï¼š\nres := make(map[string]interface{})\nerr = json.Unmarshal(respBytes, &amp;res)\n// id è™½ç„¶æ˜¯ 909ï¼Œä½†æ˜¯å®é™…ä¸Šæ˜¯ float64\nid := res[&quot;id&quot;]\ntask.testId = int(id.(float64))Â \ntime\nn := time.Now()\n// æ ¼å¼åŒ–ï¼Œæ³¨æ„ layout ä¸­çš„æ—¶é—´å€¼ä¸èƒ½æ”¹\nFMT := &quot;2006-01-02 15:04:05&quot;\nprintln(n.Format(FMT))Â Â Â Â Â Â Â Â Â Â // 2018-02-11 18:16:47\nprintln(n.Format(&quot;2006/1/2&quot;))Â Â  // 2018/2/11\nprintln(n.Format(&quot;2006/01/02&quot;)) // 2018/02/11\nprintln(n.Format(&quot;15:04:05&quot;))Â Â  // 18:17:13\nÂ \n// è§£æ\nn, _ = now.Parse(&quot;2018-01-02 18:16:47&quot;)\nÂ \nprintln(n.Format(FMT)) // 2018-01-02 00:00:00\nÂ \n// æŒ‡å®šè§£æä½¿ç”¨çš„æ ¼å¼\ntime.Parse(&quot;2006-01-02T15:04:05.999999Z&quot;, str)\ntime.Parse(&quot;2006-01-02T15:04:05Z07:00&quot;, str)\nÂ \n// è½¬æ¢ä¸ºæ•´æ•°\nprintln(n.Unix())Â Â Â Â Â Â Â Â Â Â Â Â Â Â  // UNIX çºªå…ƒï¼Œç§’\nprintln(n.UnixNano() / 1000000) // UNIX çºªå…ƒï¼Œæ¯«ç§’\nÂ \n// è·å–å„å­—æ®µ 2018 January 2 18 16 47\nfmt.Printf(&quot;%v %v %v %v %v %v &quot;, n.Year(), n.Month(), n.Day(), n.Hour(), n.Minute(), n.Second())\nÂ \n// ProtoBuf æ—¶é—´æˆ³\ntime := protobuf.Timestamp{Seconds: n.Unix()}\ntime. Duration è¡¨ç¤ºä¸€ä¸ªæ—¶é—´é•¿åº¦ï¼š\n// è§£æï¼Œå¯ä»¥ä½¿ç”¨ sã€mã€h ç­‰å•ä½\nd, _ := time.ParseDuration(&quot;1s&quot;)\nå®ƒçš„æœ¬è´¨å°±æ˜¯çº³ç§’æ•°ï¼š\ntype Duration int64\nÂ \nconst (\nÂ Â Â Â Nanosecond Duration = 1\nÂ Â Â Â Microsecond = 1000 * Nanosecond\nÂ Â Â Â Millisecond = 1000 * Microsecond\nÂ Â Â Â Second = 1000 * Millisecond\nÂ Â Â Â Minute = 60 * Second\nÂ Â Â Â Hour = 60 * Minute\n)\nä½ å¯ä»¥å°† Duration å’Œæ•´æ•°è¿›è¡Œç®—æœ¯è¿ç®—ï¼š\nvar d1 time.Duration = (60 * 1000) * time.Millisecond\nvar d2 time.Duration = 2 * time.Minute\nä¹Ÿå¯ä»¥è®¡ç®—ä¸¤ä¸ªæ—¶é—´ç‚¹ä¹‹é—´çš„å·®è·ï¼š\nvar duration time.Duration = endingTime.Sub(startingTime)\nmath/rand\næä¾›ä¼ªéšæœºæ•°çš„æ”¯æŒã€‚\næ³¨æ„éšæœºæ•°ä¸éšæœºçš„é—®é¢˜ï¼š\nglog.Info(rand.Intn(10))\nglog.Info(rand.Intn(10))\nä»¥ä¸Šä»£ç æ— è®ºè¿è¡Œå¤šå°‘æ¬¡ï¼Œéƒ½è¾“å‡º 1ã€7ã€‚åŸå› æ˜¯ä½¿ç”¨çš„â€œæºâ€æ˜¯å›ºå®šçš„ã€‚å› æ­¤ï¼Œè¦äº§ç”Ÿæ¯æ¬¡è°ƒç”¨éƒ½ä¸ä¸€æ ·çš„éšæœºæ•°ï¼Œéœ€è¦æ¯æ¬¡ä½¿ç”¨ä¸åŒçš„æºï¼š\nsource := rand.NewSource(time.Now().Unix())\ngen := rand.New(source)\nglog.Info(gen.Intn(1000))\nÂ \n// æˆ–è€…ï¼Œæ›´ç®€å•çš„ï¼Œä½ å¯ä»¥ä¸ºé»˜è®¤æºè®¾ç½®æ–°çš„ç§å­\nrand.Seed(time.Now().UnixNano())\nrand.Intn(100)\nos/exec\næ‰§è¡Œä¸€æ®µ Bash è„šæœ¬ï¼š\nctx, _ := context.WithTimeout(context.TODO(), s.actionTimeout)\n// æ”¯æŒè¶…æ—¶æ§åˆ¶\ncmd := exec.CommandContext(ctx, s.shellPath, script)\n// å¯ä»¥è®¾ç½®ç¯å¢ƒå˜é‡\ncmd.Env = os.Environ()\nfor key, val := range vars {\nÂ Â Â Â cmd.Env = append(cmd.Env, fmt.Sprintf(&quot;%s=%s&quot;, key, val))\n}\n// æ‰§è¡Œ\ncmd.Run()\nè¾“å…¥è¾“å‡º\ncmd := exec.Command(&quot;tr&quot;, &quot;a-z&quot;, &quot;A-Z&quot;)\n// æä¾›è¾“å…¥\ncmd.Stdin = strings.NewReader(&quot;some input&quot;)\n// æŒ‡å®šè¾“å‡ºç¼“å†²\nvar out bytes.Buffer\ncmd.Stdout = &amp;out\nerr := cmd.Run()\nä¹Ÿå¯ä»¥ç›´æ¥å°†æ ‡å‡†è¾“å‡º/æ ‡å‡†é”™è¯¯ä¸€èµ·ä½œä¸ºè¿”å›å€¼ï¼š\ncmd := exec.Command(&quot;sh&quot;, &quot;-c&quot;, &quot;echo stdout; echo 1&gt;&amp;2 stderr&quot;)\n// æ‰§è¡Œå¹¶æ”¶é›†æ ‡å‡†è¾“å‡º + æ ‡å‡†é”™è¯¯\nstdoutStderr, err := cmd.CombinedOutput()\n// æ‰§è¡Œå¹¶æ”¶é›†æ ‡å‡†è¾“å‡º\nstdout, err := cmd.Output()\néé˜»å¡\nè¦éé˜»å¡çš„å¯åŠ¨å‘½ä»¤ï¼Œä½†æ˜¯ä¸ç­‰å¾…å…¶è¿”å›ï¼Œå¯ä»¥ï¼š\ncmd := exec.Command(&quot;sleep&quot;, &quot;5&quot;)\nerr := cmd.Start()\nä½ å¯ä»¥ç¨åç­‰å¾…å…¶ç»“æŸï¼š\ncmd.Wait()\nos/signal\næ”¯æŒè®¿é—®å‘é€åˆ°å½“å‰è¿›ç¨‹çš„ä¿¡å·ï¼Œç¤ºä¾‹ä»£ç ï¼š\n/* å°†æ¥æ”¶åˆ°çš„ SIGINTã€SIGTERM ä¿¡å·ä¸­ç»§ç»™ chan os.Signal */\nrelayCh := make(chan os.Signal, 2)\nsignal.Notify(relayCh, os.Interrupt, syscall.SIGTERM)\ngo func() {\nÂ Â Â Â &lt;-relayCh\nÂ Â Â Â close(stopCh) // stopCh ä¾›åº”ç”¨ä¸­å…¶å®ƒåç¨‹è¯»å–\nÂ Â Â Â &lt;-relayCh\nÂ Â Â Â // å†æ¬¡æ”¶åˆ°ä¿¡å·ï¼Œå¼ºåˆ¶é€€å‡ºè¿›ç¨‹\nÂ Â Â Â os.Exit(1)\n}()\n// åç¨‹å¯ä»¥å¾ªç¯æ‰§è¡Œé€»è¾‘ï¼Œç›´åˆ° stopCh å…³é—­\nwait.Until(ctrl.runWorker, time.Second, stopCh)\nstrconv\nä¸ºåŸºæœ¬æ•°æ®ç±»å‹æä¾›åˆ°/ä»å­—ç¬¦ä¸²å±•ç°çš„è½¬æ¢ï¼Œä¸»è¦å‡½æ•°ï¼š\n// å°†å¸ƒå°”å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸² true æˆ– false\nfunc FormatBool(b bool) string\n// å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¸ƒå°”å€¼\n// æ¥å—çœŸå€¼ï¼š1, t, T, TRUE, true, True\n// æ¥å—å‡å€¼ï¼š0, f, F, FALSE, false, False\n// å…¶å®ƒä»»ä½•å€¼éƒ½è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚\nfunc ParseBool(str string) (bool, error)\nÂ \n// å°†æ•´æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼ã€‚base è¡¨ç¤ºè½¬æ¢è¿›åˆ¶ï¼Œå–å€¼åœ¨ 2 åˆ° 36 ä¹‹é—´\n// ç»“æœä¸­å¤§äº 10 çš„æ•°å­—ç”¨å°å†™å­—æ¯ a - z è¡¨ç¤º\nfunc FormatInt(i int64, base int) string\nfunc FormatUint(i uint64, base int) string\n// å°†å­—ç¬¦ä¸²è§£æä¸ºæ•´æ•°ï¼ŒParseInt æ”¯æŒæ­£è´Ÿå·ï¼ŒParseUint ä¸æ”¯æŒæ­£è´Ÿå·\n// base è¡¨ç¤ºè¿›ä½åˆ¶ï¼ˆ2 åˆ° 36ï¼‰ï¼Œå¦‚æœ base ä¸º 0ï¼Œåˆ™æ ¹æ®å­—ç¬¦ä¸²å‰ç¼€åˆ¤æ–­\n// å‰ç¼€ 0x è¡¨ç¤º 16 è¿›åˆ¶ï¼Œå‰ç¼€ 0 è¡¨ç¤º 8 è¿›åˆ¶ï¼Œå¦åˆ™æ˜¯ 10 è¿›åˆ¶\n// bitSize è¡¨ç¤ºç»“æœçš„ä½å®½ï¼ˆåŒ…æ‹¬ç¬¦å·ä½ï¼‰ï¼Œ0 è¡¨ç¤ºæœ€å¤§ä½å®½\nfunc ParseInt(s string, base int, bitSize int) (i int64, err error)\nfunc ParseUint(s string, base int, bitSize int) (uint64, error)\nÂ \n// å°†æ•´æ•°è½¬æ¢ä¸ºåè¿›åˆ¶å­—ç¬¦ä¸²å½¢å¼ã€‚å³ï¼šFormatInt(i, 10)\nfunc Itoa(i int) string\n// å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºåè¿›åˆ¶æ•´æ•°ã€‚å³ï¼šParseInt(s, 10, 0)\nfunc Atoi(s string) (int, error)\nÂ \nÂ \n// FormatFloat å°†æµ®ç‚¹æ•° f è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼\n// fï¼šè¦è½¬æ¢çš„æµ®ç‚¹æ•°\n// fmtï¼šæ ¼å¼æ ‡è®°ï¼ˆbã€eã€Eã€fã€gã€Gï¼‰\n// precï¼šç²¾åº¦ï¼ˆæ•°å­—éƒ¨åˆ†çš„é•¿åº¦ï¼Œä¸åŒ…æ‹¬æŒ‡æ•°éƒ¨åˆ†ï¼‰\n// bitSizeï¼šæŒ‡å®šæµ®ç‚¹ç±»å‹ï¼ˆ32:float32ã€64:float64ï¼‰ï¼Œç»“æœä¼šæ®æ­¤è¿›è¡Œèˆå…¥\n//\n// æ ¼å¼æ ‡è®°ï¼š\n// &#039;b&#039; (-ddddpÂ±dddï¼ŒäºŒè¿›åˆ¶æŒ‡æ•°)\n// &#039;e&#039; (-d.ddddeÂ±ddï¼Œåè¿›åˆ¶æŒ‡æ•°)\n// &#039;E&#039; (-d.ddddEÂ±ddï¼Œåè¿›åˆ¶æŒ‡æ•°)\n// &#039;f&#039; (-ddd.ddddï¼Œæ²¡æœ‰æŒ‡æ•°)\n// &#039;g&#039; (&#039;e&#039;:å¤§æŒ‡æ•°ï¼Œ&#039;f&#039;:å…¶å®ƒæƒ…å†µ)\n// &#039;G&#039; (&#039;E&#039;:å¤§æŒ‡æ•°ï¼Œ&#039;f&#039;:å…¶å®ƒæƒ…å†µ)\n//\n// å¦‚æœæ ¼å¼æ ‡è®°ä¸º &#039;e&#039;ï¼Œ&#039;E&#039;å’Œ&#039;f&#039;ï¼Œåˆ™ prec è¡¨ç¤ºå°æ•°ç‚¹åçš„æ•°å­—ä½æ•°\n// å¦‚æœæ ¼å¼æ ‡è®°ä¸º &#039;g&#039;ï¼Œ&#039;G&#039;ï¼Œåˆ™ prec è¡¨ç¤ºæ€»çš„æ•°å­—ä½æ•°ï¼ˆæ•´æ•°éƒ¨åˆ† + å°æ•°éƒ¨åˆ†ï¼‰\n// å‚è€ƒæ ¼å¼åŒ–è¾“å…¥è¾“å‡ºä¸­çš„æ——æ ‡å’Œç²¾åº¦è¯´æ˜\nfunc FormatFloat(f float64, fmt byte, prec, bitSize int) string\n// å°†å­—ç¬¦ä¸²è§£æä¸ºæµ®ç‚¹æ•°ï¼Œä½¿ç”¨ IEEE754 è§„èŒƒè¿›è¡Œèˆå…¥\n// bigSize å–å€¼æœ‰ 32 å’Œ 64 ä¸¤ç§ï¼Œè¡¨ç¤ºè½¬æ¢ç»“æœçš„ç²¾åº¦\n// å¦‚æœæœ‰è¯­æ³•é”™è¯¯ï¼Œåˆ™ err.Error = ErrSyntax\n// å¦‚æœç»“æœè¶…å‡ºèŒƒå›´ï¼Œåˆ™è¿”å› Â±Infï¼Œerr.Error = ErrRange\nfunc ParseFloat(s string, bitSize int) (float64, error)\nä»£ç ç¤ºä¾‹ï¼š\nstrconv.ParseInt(&quot;FF&quot;, 16, 0)Â Â // 255\nstrconv.ParseInt(&quot;0xFF&quot;, 0, 0) // 255\nencoding/binary\nåœ¨[]byte å’Œæ•°å­—ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼š\nvar a []byte = []byte{0, 1, 2, 3}\nfmt.Println(binary.BigEndian.Uint32(a))\nfmt.Println(binary.LittleEndian.Uint32(a))\nglog\nGoogle å†…éƒ¨ C++ æ—¥å¿—æ¡†æ¶çš„ Go è¯­è¨€å¤åˆ¶å“ï¼š\n\n\nInfo/Warning/Error/Fatal å‡½æ•°ï¼Œä»¥åŠ Infof ç­‰æ ¼å¼åŒ–ç‰ˆæœ¬\n\n\nV é£æ ¼çš„æ—¥å¿—æ§åˆ¶ï¼ˆä½¿ç”¨å‘½ä»¤è¡Œé€‰é¡¹-v å’Œ-vmodule=file=2ï¼‰\n\n\nä»£ç ç¤ºä¾‹ï¼š\nglog.Fatalf(&quot;æ‰§è¡Œå¤±è´¥: %s&quot;, err)\nif glog.V(2) {\nÂ Â Â Â glog.Info(&quot;æ‰§è¡ŒæˆåŠŸ&quot;)\n}\nglog.V(2).Infoln(&quot;å¤„ç†äº†&quot;, nItems, &quot;ä¸ªæ¡ç›®&quot;)\næ—¥å¿—è¢«ç¼“å†²ï¼Œå¹¶å‘¨æœŸæ€§çš„ Flushï¼Œç¨‹åºé€€å‡ºå‰ä½ åº”è¯¥æ‰‹å·¥è°ƒç”¨ Flushã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰æ—¥å¿—è¢«å†™å…¥åˆ°ä¸´æ—¶ç›®å½•çš„æ–‡ä»¶ä¸­ã€‚\nä½ å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œé€‰é¡¹æ¥æ”¹å˜ glog çš„è¡Œä¸ºï¼Œflag. Parse åº”è¯¥åœ¨ä»»ä½•æ—¥å¿—æ‰“å°å‡½æ•°è°ƒç”¨å‰è°ƒç”¨ï¼š\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nå‘½ä»¤è¡Œé€‰é¡¹ç¤ºä¾‹è¯´æ˜â€”logtostderr=falseæ—¥å¿—è¢«è¾“å‡ºåˆ°æ ‡å‡†é”™è¯¯è€Œéæ–‡ä»¶â€”alsologtostderråŒæ—¶è¾“å‡ºåˆ°æ–‡ä»¶å’Œæ ‡å‡†é”™è¯¯â€”stderrthreshold=ERRORè¾“å‡ºåˆ°æ ‡å‡†é”™è¯¯çš„æœ€ä½ä¸¥é‡çº§åˆ«â€”log_dir=&quot;&quot;æ—¥å¿—è¾“å‡ºç›®å½•â€”v=0è¾“å‡ºæ—¥å¿—çš„æœ€ä½å†—ä½™çº§åˆ«-vmodule=gopher*=3å¯¹äº gopher å¼€å¤´çš„ Go æ–‡ä»¶ï¼Œå…¶æœ€ä½å†—ä½™çº§åˆ«è®¾ç½®ä¸º 3\nencoding/json\næ”¯æŒ JSON çš„ä¸²è¡ŒåŒ–ã€åä¸²è¡ŒåŒ–ã€‚ä¸‹é¢çš„ä»£ç ç¤ºä¾‹å°† JSON å­—ç¬¦ä¸²åä¸²è¡ŒåŒ–ä¸º mapï¼š\nimport (\nÂ Â Â Â &quot;encoding/json&quot;\nÂ Â Â Â &quot;github.com/sanity-io/litter&quot;\nÂ Â Â Â &quot;io/ioutil&quot;\n)\nÂ \nfunc main() {\nÂ Â Â Â data, _ := ioutil.ReadFile(&quot;configdump.json&quot;)\nÂ Â Â Â config := make(map[string]interface{})\nÂ Â Â Â // è½¬æ¢ JSON ä¸º MAP\nÂ Â Â Â json.Unmarshal(data, &amp;config)\nÂ Â Â Â litter.Dump(config)\n}\ngopkg. in/yaml. v2\næ”¯æŒ YAML æ ¼å¼çš„ä¸²è¡ŒåŒ–ã€åä¸²è¡ŒåŒ–ã€‚ä¸‹é¢çš„ä»£ç ç¤ºä¾‹å°† map ä¸²è¡ŒåŒ–ä¸º YAMLï¼š\nimport (\nÂ Â Â Â &quot;gopkg.in/yaml.v2&quot;\nÂ Â Â Â &quot;io/ioutil&quot;\nÂ Â Â Â &quot;os&quot;\n)\nÂ \nfunc main() {\nÂ Â Â Â config := make(map[string]interface{})\nÂ Â Â Â // è½¬æ¢ MAP ä¸º YAML\nÂ Â Â Â data, _ := yaml.Marshal(config)\nÂ Â Â Â ioutil.WriteFile(&quot;configdump.yaml&quot;, data, os.ModePerm)\n}\nåŸºæœ¬å·¥å…·åº“\nhuandu/xstrings\nåŒ…å«å„ç§å„æ ·çš„å­—ç¬¦ä¸²å¤„ç†å‡½æ•°ã€‚\nelliotchance/pie\nä¸“é—¨ç”¨äºåˆ‡ç‰‡æˆç«‹ï¼Œä¸“æ³¨äºç±»å‹å®‰å…¨ã€æ€§èƒ½ã€ä¸å¯å˜æ€§ã€‚\nåŒ…å«ä¸€äº›å†…ç½®çš„ç±»å‹å®šä¹‰ï¼Œä¸éœ€è¦ go generate å³å¯ä½¿ç”¨ï¼š\ntypeStrings[]string\ntypeFloat64s[]float64\ntypeInts[]int\nÂ \nÂ \n// ç¤ºä¾‹\npackage main\nÂ \nimport (\nÂ Â Â Â &quot;fmt&quot;\nÂ Â Â Â &quot;strings&quot;\nÂ \nÂ Â Â Â &quot;github.com/elliotchance/pie/pie&quot;\n)\nÂ \n// ç¤ºä¾‹\nfunc main() {\nÂ Â Â Â name := pie.Strings{&quot;Bob&quot;, &quot;Sally&quot;, &quot;John&quot;, &quot;Jane&quot;}.\nÂ Â Â Â Â Â Â Â // è¿‡æ»¤\nÂ Â Â Â Â Â Â Â FilterNot(func (name string) bool {\nÂ Â Â Â Â Â Â Â Â Â Â Â return strings.HasPrefix(name, &quot;J&quot;)\nÂ Â Â Â Â Â Â Â }).\nÂ Â Â Â Â Â Â Â // å˜æ¢\nÂ Â Â Â Â Â Â Â Map(strings.ToUpper).\nÂ Â Â Â Â Â Â Â // å–æœ€åä¸€ä¸ªå…ƒç´ \nÂ Â Â Â Â Â Â Â Last()\nÂ \nÂ Â Â Â fmt.Println(name) // &quot;SALLY&quot;\n}\nå¦‚æœå¸Œæœ›ä¸ºä»»ä½•è‡ªå®šä¹‰çš„ç±»å‹ç”Ÿæˆä¸Šé¢è¿™æ ·çš„æ¥å£éœ€è¦æ·»åŠ æ³¨é‡Šï¼š\ntype Car struct {\nÂ Â Â Â Name, Color string\n}\nÂ \n//go:generate pie Cars.*\ntype Cars []Car\nç„¶åæ‰§è¡Œ go generate ä¼šç”Ÿæˆ cars_pie.go æ–‡ä»¶ï¼Œå…¶ä¸­å®šä¹‰äº†ä¸Šé¢é‚£æ ·çš„æ¥å£ã€‚\nä½ è¿˜å¯ä»¥è‡ªå®šä¹‰Â Equalityã€Strings ç­‰æ–¹æ³•ï¼Œå®ç°ç±»ä¼¼äº Java çš„çµæ´»æ€§ï¼š\ntype Car struct {\nÂ Â Â Â Name, Color string\n}\nÂ \ntype Cars []*Car // ElementType is *Car\nÂ \nfunc (c *Car) Equals(c2 *Car) bool {\nÂ Â Â Â return c.Name == c2.Name\n}\nthoas/go-funk\nä¸€ä¸ªå·¥å…·ç®±å‡½æ•°åº“ï¼Œä¸»è¦ç”¨äºé›†åˆæ“ä½œï¼š\n\n\nå…ƒç´ å­˜åœ¨æ€§åˆ¤æ–­ã€ç´¢å¼•åˆ¤æ–­\n\n\nç»“æ„è½¬ä¸º mapï¼Œmap è½¬ä¸º slice\n\n\nä»»ä½•å¯è¿­ä»£å¯¹è±¡çš„å…ƒç´ æŸ¥æ‰¾ã€è¿‡æ»¤ã€è¿­ä»£ã€å»é‡\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nå‡½æ•°è¯´æ˜Containsæ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼ˆäºåˆ‡ç‰‡ã€æ˜ å°„ã€æ•°ç»„ï¼‰IndexOfLastIndexOfè·å¾—å…ƒç´ çš„ç´¢å¼•æˆ– -1ToMapå°†ä¸€ä¸ªå­—æ®µä½œä¸º pivotï¼ˆé”®ï¼‰ï¼Œè½¬æ¢ç»“æ„ä¸º mapFilterä½¿ç”¨ Predicate å‡½æ•°æ¥è¿‡æ»¤åˆ‡ç‰‡Findä½¿ç”¨ Predicate å‡½æ•°æ¥æŸ¥æ‰¾åˆ‡ç‰‡å…ƒç´ Mapåœ¨æ˜ å°„ã€åˆ‡ç‰‡ä¹‹é—´è¿›è¡Œç›¸äº’è½¬æ¢Getä½¿ç”¨è·¯å¾„å¯¼èˆªçš„å½¢å¼æ£€ç´¢å€¼ï¼šfunk.Get (foo, â€œBar. Bars. Bar. Nameâ€)Keysè·å–ç»“æ„ã€æ˜ å°„çš„å­—æ®µå/é”®æ•°ç»„Valuesè·å–ç»“æ„ã€æ˜ å°„çš„å­—æ®µå€¼ã€å€¼æ•°ç»„ForEachè¿­ä»£æ˜ å°„ã€åˆ‡ç‰‡ForEachRightåå‘è¿­ä»£æ˜ å°„ã€åˆ‡ç‰‡Chunkå°†åˆ‡ç‰‡åˆ’åˆ†ä¸ºå­åˆ‡ç‰‡ï¼Œæ¯ä¸ªå­åˆ‡ç‰‡å…·æœ‰æŒ‡å®šçš„å¤§å°FlattenDeepé€’å½’çš„æ‰å¹³åŒ–å¤šç»´æ•°ç»„Uniqæ•°ç»„å»é‡Dropå»é™¤æ•°ç»„/åˆ‡ç‰‡çš„å‰ N ä¸ªå…ƒç´ Initialè·å–æ•°ç»„/åˆ‡ç‰‡é™¤å N ä¸ªçš„å…¨éƒ¨å…ƒç´ Tailè·å–æ•°ç»„/åˆ‡ç‰‡é™¤å‰ N ä¸ªçš„å…¨éƒ¨å…ƒç´ Shuffleå°†æŒ‡å®šæ•°ç»„è¿›è¡Œå…ƒç´ é‡æ’ï¼Œæ”¾åˆ°æ–°æ•°ç»„ä¸­Sumæ•°ç»„å…ƒç´ æ±‚å’ŒReverseè·å–åå‘æ•°ç»„SliceOfä»å•ä¸ªå…ƒç´ åˆ›å»ºåˆ‡ç‰‡RandomIntè·å¾—ä¸€ä¸ªéšæœºæ•´æ•°RandomStringè·å¾—ä¸€ä¸ªå›ºå®šé•¿åº¦çš„éšæœºå­—ç¬¦ä¸²\nmholt/archiver\nå‹ç¼©/è§£å‹\nèƒ½å¤Ÿå¿«é€Ÿçš„å‹ç¼©/è§£å‹ç¼©ã€‚zip, .tar, .tar. gz, .tar. bz2, .tar. xz, .tar. lz4, .tar. sz ç­‰æ ¼å¼ï¼Œè¿˜èƒ½å¤Ÿè§£å‹ç¼©ã€‚rar æ ¼å¼ã€‚ç¤ºä¾‹ï¼š\nimport &quot;github.com/mholt/archiver&quot;\nÂ \n// å‹ç¼©\nerr := archiver.Archive([]string{&quot;testdata&quot;, &quot;other/file.txt&quot;}, &quot;test.zip&quot;)\n// è§£å‹ç¼©\nerr = archiver.Unarchive(&quot;test.tar.gz&quot;, &quot;test&quot;)\nä¸Šé¢çš„ä»£ç è‡ªåŠ¨æ ¹æ®æ‰©å±•åæ¥åˆ¤æ–­ä½¿ç”¨ä½•ç§å½’æ¡£ã€å‹ç¼©ç®—æ³•ã€‚ä½ ä¹Ÿå¯ä»¥æ˜ç¡®æŒ‡å®šéœ€è¦ä½¿ç”¨çš„ç®—æ³•ï¼š\nz := archiver.Zip{\nÂ Â Â Â CompressionLevel:Â Â Â Â Â Â  flate.DefaultCompression,\nÂ Â Â Â MkdirAll:Â Â Â Â Â Â Â Â Â Â Â Â Â Â  true,\nÂ Â Â Â SelectiveCompression:Â Â  true,\nÂ Â Â Â ContinueOnError:Â Â Â Â Â Â Â Â false,\nÂ Â Â Â OverwriteExisting:Â Â Â Â Â Â false,\nÂ Â Â Â ImplicitTopLevelFolder: false,\n}\nÂ \nerr := z.Archive([]string{&quot;testdata&quot;, &quot;other/file.txt&quot;}, &quot;/Users/matt/Desktop/test.zip&quot;)\næ¢çœ‹æ–‡ä»¶\nä¸‹é¢æ˜¯æ¢çœ‹ Zip ä¸­æ–‡ä»¶æ¡ç›®çš„ä¾‹å­ï¼š\nerr = z.Walk(&quot;/Users/matt/Desktop/test.zip&quot;, func(f archiver.File) error {\nÂ Â Â Â zfh, ok := f.Header.(zip.FileHeader)\nÂ Â Â Â if ok {\nÂ Â Â Â Â Â Â Â fmt.Println(&quot;Filename:&quot;, zfh.Name)\nÂ Â Â Â }\nÂ Â Â Â return nil\n})\nå†™å…¥ HTTP å“åº”\nerr = z.Create(responseWriter)\nif err != nil {\nÂ Â Â Â return err\n}\ndefer z.Close()\nÂ \nfor _, fname := range filenames {\nÂ Â Â Â info, err := os.Stat(fname)\nÂ Â Â Â if err != nil {\nÂ Â Â Â Â Â Â Â return err\nÂ Â Â Â }\nÂ Â Â Â \nÂ Â Â Â // è·å–æ–‡ä»¶åœ¨å½’æ¡£æ–‡ä»¶ä¸­çš„å†…éƒ¨åç§°\nÂ Â Â Â internalName, err := archiver.NameInArchive(info, fname, fname)\nÂ Â Â Â if err != nil {\nÂ Â Â Â Â Â Â Â return err\nÂ Â Â Â }\nÂ \nÂ Â Â Â // æ‰“å¼€æ–‡ä»¶\nÂ Â Â Â file, err := os.Open(f)\nÂ Â Â Â if err != nil {\nÂ Â Â Â Â Â Â Â return err\nÂ Â Â Â }\nÂ \nÂ Â Â Â // å†™å…¥åˆ°æ–‡ä»¶\nÂ Â Â Â err = z.Write(archiver.File{\nÂ Â Â Â Â Â Â Â FileInfo: archiver.FileInfo{\nÂ Â Â Â Â Â Â Â Â Â Â Â FileInfo:Â Â  info,\nÂ Â Â Â Â Â Â Â Â Â Â Â CustomName: internalName,\nÂ Â Â Â Â Â Â Â },\nÂ Â Â Â Â Â Â Â ReadCloser: file,\nÂ Â Â Â })\nÂ Â Â Â file.Close()\nÂ Â Â Â if err != nil {\nÂ Â Â Â Â Â Â Â return err\nÂ Â Â Â }\n}\narchive/tar\nå¤„ç† Tar æ ¼å¼çš„å½’æ¡£ï¼Œå†™ç¤ºä¾‹ï¼š\nvar buf bytes.Buffer\nvar chart []byte = []byte{1, 2, 3}\nw := tar.NewWriter(&amp;buf)\n// å†™å…¥æ¡ç›®\n// å†™å…¥å¤´\nw.WriteHeader(&amp;tar.Header{\nÂ Â Â Â Name: &quot;Chart.yaml&quot;,\nÂ Â Â Â Size: int64(len(chart)),\n})\n// å†™å…¥ä½“\nw.Write(chart)\n// åˆ·å‡º\nw.Close()\n// å†™åˆ°æ–‡ä»¶\nioutil.WriteFile(&quot;/tmp/chart.tar&quot;, buf.Bytes(), fileutil.PrivateFileMode)\nè¯»ç¤ºä¾‹ï¼š\ntr := tar.NewReader(buf)\n// å¤„ç†ä¸‹ä¸€ä¸ªæ¡ç›®\nheader, err := tr.Next()\nprintln( header.Name )\nbuf := make([]byte, header.Size)\n// è¯»å–æ­¤æ¡ç›®çš„å†…å®¹åˆ°ç¼“å†²åŒº\ntr.Read(buf)\ncompress/gzip\nå¤„ç† Gzip å‹ç¼©æ ¼å¼ï¼Œä¸‹é¢æ˜¯å†™ tar. gzï¼ˆtgzï¼‰çš„ä¾‹å­ï¼š\nvar buf bytes.Buffer\ngw := gzip.NewWriter(&amp;buf)\n// è£…é¥°\ntw := tar.NewWriter(gw)\nÂ \nyamlBytes := []byte(&quot;AppVersion: 1.0.0&quot;)\ntw.WriteHeader(&amp;tar.Header{\nÂ Â Â Â Name: &quot;Chart.yaml&quot;,\nÂ Â Â Â Size: int64(len(yamlBytes)),\nÂ Â Â Â Mode: 0666,\n})\ntw.Write(yamlBytes)\ntw.Close()\ngw.Close()\nÂ \nioutil.WriteFile(&quot;/tmp/chart.tgz&quot;, buf.Bytes(), 0666)Â \nä¸‹é¢æ˜¯è¯»çš„ä¾‹å­ï¼š\ngzipBuf := bytes.NewBuffer(req.Zip)\ngr, err := gzip.NewReader(gzipBuf)\nif err != nil {\nÂ Â Â Â // è¯´æ˜æ˜¯æ— æ•ˆ GZIP æ ¼å¼\n}\ndefer gr.Close()\ntr := tar.NewReader(gr)\næ•°æ®ç»‘å®š/æ‹·è´\nmitchellh/mapstructure\næ”¯æŒå°†ä¸€èˆ¬æ€§çš„ Map è§£ç ä¸º Go ç»“æ„ï¼Œæˆ–è€…åå‘è½¬æ¢ã€‚ç¤ºä¾‹ï¼š\nitem := make(map[string]interface{}]\n//...\n// åˆ›å»ºä¸€ä¸ªè§£ç å™¨\ndecoder, _ := mapstructure.NewDecoder(&amp;mapstructure.DecoderConfig{\nÂ Â Â Â Metadata: nil,\nÂ Â Â Â Result:Â Â  &amp;chart,\nÂ Â Â Â // å®šåˆ¶ç±»å‹è½¬æ¢å™¨\nÂ Â Â Â DecodeHook: func(from reflect.Type, to reflect.Type, v interface{}) (interface{}, error) {\nÂ Â Â Â Â Â Â Â if to.String() == &quot;*timestamp.Timestamp&quot; {\nÂ Â Â Â Â Â Â Â Â Â Â Â return parseTime(v.(string)), nil\nÂ Â Â Â Â Â Â Â }\nÂ Â Â Â Â Â Â Â // ä¸è½¬æ¢ï¼Œç›´æ¥è¿”å›åŸå§‹å€¼\nÂ Â Â Â Â Â Â Â return v, nil\nÂ Â Â Â },\n})\n// æ‰§è¡Œè§£ç \ndecoder.Decode(item)\nmitchellh/copystructure\næ·±æ‹·è´ï¼ˆDeepCopyï¼‰å¯¹è±¡ï¼Œä¸ç®¡æ˜¯ mapã€sliceã€pointer éƒ½èƒ½é€’å½’çš„è§£å¼•ç”¨å¹¶æ­£ç¡®æ‹·è´ã€‚ç¤ºä¾‹ï¼š\ncs, _ := copystructure.Copy(allChartsProto)\nimdario/mergo\nç”¨äºåˆå¹¶ç»“æ„ã€æ˜ å°„ã€‚éå¯¼å‡ºå­—æ®µä¸ä¼šè¢«åˆå¹¶ï¼Œå¯¼å‡ºå­—æ®µåˆ™ä¼šè¢«é€’å½’çš„åˆå¹¶ï¼š\n// åˆå¹¶\nif err := mergo.Merge(&amp;dst, src); err != nil {\n}\n// å°†æ˜ å°„åˆå¹¶åˆ°ç»“æ„\nif err := mergo.Map(&amp;dst, srcMap); err != nil {\n}\n// ä¹Ÿå¯ä»¥å°†æ˜ å°„åˆå¹¶åˆ°æ˜ å°„ï¼Œä¸€å®šè¦è®°å¾—å¯¹æ˜ å°„å–åœ°å€ï¼ˆWhyï¼Ÿæœ¬èº«å°±æ˜¯ä¼ é€’å¼•ç”¨ï¼‰\nmergo.Map(&amp;dstMap, srcMap)\néœ€è¦æ³¨æ„çš„æ˜¯ï¼šå°†ç»“æ„åˆå¹¶åˆ°æ˜ å°„æ—¶ï¼Œä¸ä¼šé€’å½’åˆå¹¶ã€‚\nä½ è¿˜å¯ä»¥æä¾›è½¬æ¢å™¨ï¼ŒæŒ‡å®šç‰¹å®šç±»å‹å­—æ®µåœ¨åˆå¹¶ä¹‹å‰å¦‚ä½•è½¬æ¢ï¼š\nimport (\nÂ Â Â Â &quot;fmt&quot;\nÂ Â Â Â &quot;github.com/imdario/mergo&quot;\nÂ Â Â Â Â Â Â Â &quot;reflect&quot;\nÂ Â Â Â Â Â Â Â &quot;time&quot;\n)\nÂ \ntype transfomer struct {\n}\nÂ \nfunc (t timeTransfomer) Transformer(typ reflect.Type) func(dst, src reflect.Value) error {\nÂ Â Â Â Â Â  // æ—¶é—´ç±»å‹çš„è½¬æ¢å™¨\nÂ Â Â Â if typ == reflect.TypeOf(time.Time{}) {\nÂ Â Â Â Â Â Â Â return func(dst, src reflect.Value) error {\nÂ Â Â Â Â Â Â Â Â Â Â Â if dst.CanSet() {\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â // åˆ¤æ–­æ˜¯å¦é›¶å€¼çš„æ–¹æ³•\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â isZero := dst.MethodByName(&quot;IsZero&quot;)\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â result := isZero.Call([]reflect.Value{})\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â if result[0].Bool() {\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â dst.Set(src)\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â }\nÂ Â Â Â Â Â Â Â Â Â Â Â }\nÂ Â Â Â Â Â Â Â Â Â Â Â return nil\nÂ Â Â Â Â Â Â Â }\nÂ Â Â Â }\nÂ Â Â Â return nil\n}\nÂ \ntype Snapshot struct {\nÂ Â Â Â Time time.Time\n}\nÂ \nfunc main() {\nÂ Â Â Â src := Snapshot{time.Now()}\nÂ Â Â Â dest := Snapshot{}\nÂ Â Â Â mergo.Merge(&amp;dest, src, mergo.WithTransformers(transfomer{}))\nÂ Â Â Â fmt.Println(dest)\n}\nå’Œ C/C++ äº¤äº’\nå¯¹ C/C++ çš„æ”¯æŒ\nä½ å¯ä»¥å¯¼å…¥ä¼ªåŒ…â€œCâ€æ¥ä½¿ç”¨ C è¯­è¨€ä¸­å®šä¹‰çš„ç±»å‹ï¼Œæ­¤å¯¼å…¥å‰é¢ç´§è·Ÿç€çš„æ³¨é‡Šå«åš Preambleã€‚Preamble ä¸­å¯ä»¥åŒ…å«ä»»æ„ C ä»£ç ï¼ŒåŒ…æ‹¬å‡½æ•°ã€å˜é‡å£°æ˜å’Œå®šä¹‰ï¼š\npackage main\nÂ \n/*\ntypedef int (*accumulator) (int a, int b);\nÂ \nint add(int a, int b){\nÂ Â Â Â return a+b;\n}\nint reduce(accumulator acc,int a,int b){\nÂ Â Â Â return acc(a,b);\n}\n*/\n// ä¼ªåŒ… C\nimport &quot;C&quot;\nimport &quot;fmt&quot;\nimport &quot;unsafe&quot;\nÂ \nfunc main() {\nÂ Â Â Â // é€šè¿‡ä¼ªåŒ… C æ¥è°ƒç”¨ Cã€‚C.accumulator è·å– reduce çš„å‡½æ•°æŒ‡é’ˆ\nÂ Â Â Â f := C.accumulator(C.add)\nÂ Â Â Â // è°ƒç”¨ C å‡½æ•°\nÂ Â Â Â fmt.Printf(&quot;%v&quot;, C.reduce(f, 1, 2)) // 3\nÂ Â Â Â \nÂ Â Â Â // åˆ›å»ºä¸€ä¸ª C å­—ç¬¦ä¸²ï¼ˆchar*ï¼‰\nÂ Â Â Â cs := C.CString(&quot;Hello World&quot;)\nÂ Â Â Â // é‡Šæ”¾ C å†…å­˜\nÂ Â Â Â C.free(unsafe.Pointer(cs))\nÂ Â Â Â \nÂ Â Â Â // å°† C åˆ†é…çš„å†…å­˜æˆäºˆ Go æŒ‡é’ˆ\nÂ Â Â Â p := (*int)(C.malloc(4))\nÂ Â Â Â // é‡Šæ”¾ C åˆ†é…çš„å†…å­˜\nÂ Â Â Â C.free(unsafe.Pointer(p))\n}\nåœ¨æ„å»ºæ—¶ï¼Œä¸€æ—¦ go å‘ç° import &quot;C&quot; è¯­å¥ï¼Œå°±ä¼šå¯»æ‰¾ç›®å½•ä¸­çš„é go æºç ã€‚c/s/S æ‰©å±•åçš„æ–‡ä»¶ä¼šä½¿ç”¨ C ç¼–è¯‘å™¨ç¼–è¯‘ï¼Œcc/cpp/cxx æ–‡ä»¶ä¼šä½¿ç”¨ C++ ç¼–è¯‘å™¨ç¼–è¯‘ã€‚\nCFLAGS, CPPFLAGS, CXXFLAGS, FFLAGS,Â LDFLAGS ç­‰ç¯å¢ƒå˜é‡å¯ä»¥é€šè¿‡ä¼ªæŒ‡ä»¤#cgoæ¥å®šä¹‰ï¼š\n// #cgo CFLAGS: -DPNG_DEBUG=1\n// #cgo amd64 386 CFLAGS: -DX86=1\n// #cgo LDFLAGS: -lpng\n// #include &lt;png.h&gt;\nimport &quot;C&quot;\nÂ \nÂ \n// é€šè¿‡ pkg-config è·å¾— CPPFLAGS å’Œ LDFLAGSï¼Œé»˜è®¤ pkg-config å·¥å…·å¯ä»¥é€šè¿‡ PKG_CONFIG è·å¾—\n// #cgo pkg-config: png cairo\n// #include &lt;png.h&gt;\nimport &quot;C&quot;\nåœ¨æ„å»ºæ—¶ï¼ŒCGO_CFLAGS, CGO_CPPFLAGS, CGO_CXXFLAGS, CGO_FFLAGS, CGO_LDFLAGS ç­‰ç¯å¢ƒå˜é‡è¢«é™„åŠ åˆ°ä¸Šè¿°æŒ‡ä»¤å¼•å…¥çš„ç¯å¢ƒå˜é‡ä¹‹åï¼Œæ„æˆæ„å»º C ä»£ç æ‰€éœ€è¦çš„å®Œæ•´å˜é‡ã€‚ç‰¹å®šäºåŒ…çš„æ ‡è®°åº”è¯¥é€šè¿‡ä¼ªæŒ‡ä»¤è€Œéç¯å¢ƒå˜é‡è®¾ç½®ã€‚\nåŒ…ä¸­æ‰€æœ‰ CPPFLAGSã€CFLAGS æŒ‡ä»¤ç”¨äºç¼–è¯‘åŒ…ä¸­çš„ C æºç ï¼Œæ‰€æœ‰ CPPFLAGSã€CXXFLAGS æŒ‡ä»¤åˆ™ç”¨äºç¼–è¯‘ C++ æºç ã€‚\nç¨‹åºä¸­æ‰€æœ‰åŒ…çš„ LDFLAGS æŒ‡ä»¤ä¼šè¢«è¿æ¥åœ¨ä¸€èµ·ï¼Œå¹¶åœ¨é“¾æ¥é˜¶æ®µä½¿ç”¨ã€‚\n#cgo ä¼ªæŒ‡ä»¤ä¸­å¯ä»¥åŒ…æ‹¬ä¸€äº›å˜é‡ï¼Œ${SRCDIR}ä¼šè¢«æ›¿æ¢ä¸ºæºç ç›®å½•çš„ç»å¯¹è·¯å¾„ï¼š\n// #cgo LDFLAGS: -L${SRCDIR}/libs -lfoo\ncgo\nè¿™æ˜¯ Go æä¾›çš„ç”¨äºæ”¯æŒ C/C++ çš„å·¥å…·ã€‚åœ¨è¿›è¡Œæœ¬åœ°ç¼–è¯‘æ—¶ï¼Œè¯¥å·¥å…·é»˜è®¤å¯ç”¨ï¼›åœ¨è¿›è¡Œäº¤å‰ç¼–è¯‘æ—¶ï¼Œè¯¥å·¥å…·é»˜è®¤ç¦ç”¨ã€‚\nè®¾ç½®ç¯å¢ƒå˜é‡ CGO_ENABLED å¯ä»¥æ§åˆ¶æ˜¯å¦ä½¿ç”¨ cgoï¼Œè®¾ç½®ä¸º 1 å¯ç”¨ï¼Œè®¾ç½®ä¸º 0 ç¦ç”¨ã€‚\nGo è°ƒç”¨ C\nåœ¨ Go æ–‡ä»¶ä¸­ï¼Œå¦‚æœéœ€è¦è®¿é—®çš„ C ç»“æ„å­—æ®µåå±äº Go å…³é”®å­—ï¼Œå¯ä»¥å‰ç¼€ä¸€ä¸ª _ æ¥è®¿é—®ã€‚C ç»“æ„ä¸­æ— æ³•åœ¨ Go è¯­è¨€ä¸­è§£é‡Šçš„å­—æ®µè¢«å¿½ç•¥ï¼ˆä¾‹å¦‚ bitfieldï¼‰ã€‚\nç±»å‹æ˜ å°„å…³ç³»\næ ‡å‡†çš„ C æ•°å­—ç±»å‹æ˜ å°„åˆ°çš„ Go ç±»å‹å¦‚ä¸‹è¡¨ï¼š\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nC ç±»å‹Go ç±»å‹å¤‡æ³¨charC.charsigned charC.scharunsigned charC.ucharshortC.shortunsigned shortC.ushortintC.intunsigned intC.uintlongC.longunsigned longC.ulonglong longC.longlong/extend-kubernetes-with-custom-resourcesunsigned long longC.ulonglongfloatC.floatdoubleC.doublecomplex floatC.complexfloatcomplex doubleC.complexdoublevoid*unsafe. Pointerä»»ä½•æŒ‡é’ˆéƒ½å¯ä»¥è½¬æ¢ä¸º unsafe. Pointerï¼Œunsafe. Pointer ä¹Ÿå¯ä»¥è½¬æ¢ä¸ºä»»ä½•ç±»å‹çš„æŒ‡é’ˆint128_tuint128_t[16]bytechar*C.CString\næ­¤å¤–éœ€è¦æ³¨æ„ï¼š\n\n\nå¦‚æœéœ€è¦ç›´æ¥è®¿é—® C çš„ structã€unionã€enum ç±»å‹ï¼Œä¸ºç±»å‹åå­—å‰ç¼€ struct*ã€union*ã€enum_\n\n\nè¦è·å¾—ä»»ä½• C ç±»å‹çš„å°ºå¯¸ï¼Œè°ƒç”¨ C.sizeof_T\n\n\nç”±äº Go ä¸æ”¯æŒ C çš„è”åˆä½“ï¼Œå› æ­¤è”åˆä½“åœ¨ Go ä¸­æ˜ å°„ä¸ºç­‰é•¿åº¦çš„å­—èŠ‚æ•°ç»„\n\n\nGo çš„ç»“æ„ä¸èƒ½åŒ…å« C ç±»å‹çš„å†…åµŒå­—æ®µ\n\n\ncgo æŠŠ C ç±»å‹è½¬æ¢ä¸ºéå¯¼å‡ºçš„ Go ç±»å‹ï¼Œå› æ­¤ä»»ä½• Go åŒ…éƒ½ä¸èƒ½åœ¨å…¶å¯¼å‡º API ä¸­æš´éœ² C ç±»å‹ã€‚ä¸€ä¸ªåŒ…ä¸­çš„ C ç±»å‹ï¼Œå’Œå¦ä¸€ä¸ªåŒ…ä¸­çš„åŒå C ç±»å‹æ˜¯ä¸ä¸€æ ·çš„\n\n\nåœ¨å¤šèµ‹å€¼ä¸Šä¸‹æ–‡ä¸­ï¼Œå¯ä»¥è°ƒç”¨ä»»ä½• C å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå˜é‡èµ‹å€¼ä¸º C å‡½æ•°è¿”å›å€¼ï¼Œç¬¬äºŒä¸ªå˜é‡èµ‹å€¼ä¸º C å‡½æ•°è°ƒç”¨çš„ errno\n\n\nç›®å‰ä¸æ”¯æŒè°ƒç”¨ C å‡½æ•°æŒ‡é’ˆï¼Œä½†æ˜¯ä½ å¯ä»¥å®šä¹‰ Go å˜é‡æ¥å¼•ç”¨å‡½æ•°æŒ‡é’ˆã€‚C å‡½æ•°å¯ä»¥è°ƒç”¨è¿™ç§æ¥è‡ª Go çš„å‡½æ•°æŒ‡é’ˆ\n\n\nC çš„å‡½æ•°ï¼Œå¦‚æœå‚æ•°æ˜¯å®šé•¿æ•°ç»„ï¼Œå®å‚ä¼ é€’æŒ‡å‘æŸä¸ªæ•°ç»„çš„é¦–å…ƒç´ æŒ‡é’ˆã€‚åœ¨ Go ä¸­è°ƒç”¨è¿™ç±»å‡½æ•°æ—¶ï¼Œä½ éœ€è¦æ˜ç¡®çš„ä¼ é€’æ•°ç»„é¦–å…ƒç´ çš„æŒ‡é’ˆï¼šC.f(&amp;C.x[0])\n\n\nè°ƒç”¨ C.malloc æ—¶ï¼Œä¸ä¼šç›´æ¥è°ƒç”¨ C åº“ä¸­çš„ mallocï¼ŒäºŒæ˜¯è°ƒç”¨ Go å¯¹ malloc çš„åŒ…è£…å‡½æ•°ã€‚æ­¤åŒ…è£…å‡½æ•°ä¿è¯ C.malloc è°ƒç”¨ä¸ä¼šè¿”å› nilã€‚å¦‚æœå†…å­˜ä¸è¶³ï¼Œç¨‹åºç›´æ¥å´©æºƒ\n\n\né“¾æ¥åˆ° C åº“\nå¯ä»¥ä»…ä»…åœ¨ Go ä»£ç ä¸­å£°æ˜ C å¤´æ–‡ä»¶ï¼Œç„¶åå†é“¾æ¥åˆ°å¯¹åº”çš„ C åº“ï¼š\n// åœ¨å½“å‰ç›®å½•ä¸‹å¯»æ‰¾ libxxx è¿›è¡Œé“¾æ¥\n// #cgo LDFLAGS: -L ./ -lxxx\n// #include &quot;xxx.h&quot;\nimport &quot;C&quot;\nÂ \nfunc main() {\nÂ Â Â Â C.xxx()\n}\nC è°ƒç”¨ Go\nä½¿ç”¨æ³¨é‡Šæ¥æ ‡æ³¨æŸä¸ªå‡½æ•°å¯ä»¥å¯¼å‡ºä¾› C ä½¿ç”¨ï¼š\n//export MyFunction\nfunc MyFunction(arg1, arg2 int, arg3 string) int64 {...}\nÂ \n//export MyFunction2\nfunc MyFunction2(arg1, arg2 int, arg3 string) (int64, *C.char) {...}\nåœ¨å¤´æ–‡ä»¶_cgo_export. h ä¸­ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹å½¢å¼çš„å£°æ˜ï¼š\nextern int64 MyFunction(int arg1, int arg2, GoString arg3);\n// å¤šè¿”å›å€¼å‡½æ•°ï¼Œå…¶è¿”å›å€¼è¢«åŒ…è£…ä¸ºç»“æ„ä½“\nextern struct MyFunction2_return MyFunction2(int arg1, int arg2, GoString arg3);\næŒ‡é’ˆçš„ä¼ é€’\nGo æ˜¯æ”¯æŒåƒåœ¾å›æ”¶çš„è¯­è¨€ï¼Œå®ƒéœ€è¦çŸ¥é“æ¯ä¸ªæŒ‡å‘ Go å†…å­˜çš„æŒ‡é’ˆçš„å…·ä½“ä½ç½®ï¼Œå› æ­¤ï¼Œåœ¨ C å’Œ Go ä»£ç ä¹‹é—´ä¼ é€’æŒ‡é’ˆå—åˆ°é™åˆ¶ã€‚\nå¦‚æœä¸€ä¸ª Go æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ä¸åŒ…å«ä»»ä½• Go æŒ‡é’ˆï¼Œåˆ™è¯¥ Go æŒ‡é’ˆå¯ä»¥ä¼ é€’ç»™ C ä»£ç ã€‚\nC ä»£ç ä¸åº”è¯¥å­˜å‚¨ä»»ä½• Go æŒ‡é’ˆï¼ˆå› ä¸ºå…¶ç”± Go çš„åƒåœ¾å›æ”¶å™¨ç®¡ç†ï¼‰ã€‚å½“å°†ç»“æ„çš„æŸä¸ªå­—æ®µçš„æŒ‡é’ˆä¼ é€’ç»™ C æ—¶ï¼Œå­˜åœ¨é—®é¢˜çš„æ˜¯ç»“æ„çš„æŸä¸ªå­—æ®µï¼›å½“å°† Go æ•°ç»„ã€åˆ‡ç‰‡çš„æŒ‡é’ˆä¼ é€’ç»™ C æ—¶ï¼Œå­˜åœ¨é—®é¢˜çš„æ˜¯æ•´ä¸ªæ•°ç»„æˆ–åˆ‡ç‰‡ã€‚åœ¨è°ƒç”¨å®Œæ¯•åï¼ŒC ä»£ç ä¸åº”è¯¥ä¿ç•™ä»»ä½• Go æŒ‡é’ˆã€‚\nè¢« C ä»£ç è°ƒç”¨çš„ Go å‡½æ•°ï¼Œä¸å¾—è¿”å› Go æŒ‡é’ˆã€‚ä½†æ˜¯è¿™ç§å‡½æ•°å¯ä»¥ï¼š\n\n\nå°† C æŒ‡é’ˆä½œä¸ºå…¥å‚ï¼Œè¿™äº›æŒ‡é’ˆå¯ä»¥æŒ‡å‘éæŒ‡é’ˆã€C æŒ‡é’ˆï¼Œä½†æ˜¯ä¸èƒ½æŒ‡å‘ Go æŒ‡é’ˆ\n\n\nå°† Go æŒ‡é’ˆä½œä¸ºå…¥å‚ï¼Œä½†æ˜¯è¿™äº›æŒ‡é’ˆæ‰€æŒ‡å‘çš„å†…å­˜ï¼Œä¸å¾—åŒ…å« Go æŒ‡é’ˆ\n\n\nGo ä»£ç ä¸å¾—åœ¨ C å†…å­˜ä¸­å­˜å‚¨ Go æŒ‡é’ˆã€‚C ä»£ç åˆ™å¯ä»¥åœ¨ C å†…å­˜ä¸­å­˜å‚¨ Go æŒ‡é’ˆã€‚ä½†æ˜¯åœ¨ C å‡½æ•°è¿”å›æ—¶ï¼Œå¿…é¡»ç«‹å³åœæ­¢å­˜å‚¨ Go æŒ‡é’ˆã€‚\nä¸Šè¿°è§„åˆ™å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€æ£€æŸ¥ã€‚é…ç½®ç¯å¢ƒå˜é‡ GODEBUGï¼Œè®¾ç½®å…¶å€¼ä¸ºï¼š\n\n\ncgocheck=1 æ‰§è¡Œå»‰ä»·çš„åŠ¨æ€æ£€æŸ¥\n\n\ncgocheck=0 ç¦ç”¨åŠ¨æ€æ£€æŸ¥\n\n\ncgocheck=2 æ‰§è¡Œå®Œæ•´çš„æ£€æŸ¥ï¼Œéœ€è¦æ¶ˆè€—ä¸€å®šçš„èµ„æº\n\n\nè¦æ‰“ç ´ä¸Šè¿°è§„åˆ™ï¼Œå¯ä»¥ä½¿ç”¨ unsafe åŒ…ã€‚å¦å¤–ï¼Œæ²¡æœ‰ä»»ä½•æœºåˆ¶æ¥é˜»æ­¢ C ä»£ç åšè¿åä¸Šè¿°è§„åˆ™çš„äº‹æƒ…ã€‚å¦‚æœæ‰“ç ´ä¸Šè¿°è§„åˆ™ï¼Œç¨‹åºå¾ˆå¯èƒ½æ„å¤–çš„å´©æºƒã€‚\nå¸¸ç”¨å‘½ä»¤\ngo\nè¿™æ˜¯ä¸€ä¸ªç”¨äºç®¡ç† go æºä»£ç çš„å·¥å…·ã€‚\næ³¨æ„ï¼ŒæŸäº›å­å‘½ä»¤çš„è¡Œä¸ºä¼šå—åˆ° GO111MODULE ç¯å¢ƒå˜é‡çš„å½±å“ã€‚\n| å­å‘½ä»¤       | è¯´æ˜                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |\n| ------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------ |\n| build        | ç¼–è¯‘åŒ…åŠå…¶ä¾èµ–ï¼Œä½†æ˜¯ä¸å®‰è£…ç¼–è¯‘ç»“æœå½“ç¼–è¯‘å•ä¸ª main åŒ…æ—¶ï¼Œç»“æœäºŒè¿›åˆ¶æ–‡ä»¶çš„ basename é»˜è®¤å’Œç¬¬ä¸€ä¸ªæºæ–‡ä»¶ï¼ˆgo build a.go b.go è¾“å‡º a.exeï¼‰æˆ–è€…ç›®å½•ï¼ˆgo build unix/sam è¾“å‡º sam. exeï¼‰ç›¸åŒå½“ç¼–è¯‘å¤šä¸ªåŒ…æˆ–è€…å•ä¸ªé main åŒ…æ—¶ï¼Œç¼–è¯‘ç»“æœè¢«ä¸¢å¼ƒï¼Œä¹Ÿå°±æ˜¯ä»…ä»…éªŒè¯ç¼–è¯‘æ˜¯å¦å¯ä»¥é€šè¿‡å½“ç¼–è¯‘åŒ…æ—¶ï¼Œ_test. go ç»“å°¾çš„æ–‡ä»¶è¢«å¿½ç•¥æ ¼å¼ï¼šgo build [-o output] [-i] [build flags] [packages]é€‰é¡¹ï¼š-o Â ä»…ç¼–è¯‘å•ä¸ªåŒ…æ—¶å¯ç”¨ï¼Œæ˜¾å¼æŒ‡å®šè¾“å‡ºçš„äºŒè¿›åˆ¶æ–‡ä»¶æˆ–å¯¹è±¡æ–‡ä»¶çš„åå­—-i å®‰è£…ç¼–è¯‘ç›®æ ‡çš„ä¾èµ–-a å¼ºåˆ¶é‡æ–°æ„å»ºæ‰€æœ‰åŒ…ï¼Œå³ä½¿å·²ç» up-to-date-v ç¼–è¯‘åæ‰“å°è¢«ç¼–è¯‘åŒ…çš„åç§°-buildmode mode æ„å»ºæ¨¡å¼-compiler name ä½¿ç”¨çš„ç¼–è¯‘å™¨ï¼Œgccgo gc-gccgoflags â€˜arg listâ€™ ç¼–è¯‘å™¨ gccgo çš„æ ‡è®°-gcflags â€˜arg listâ€™ Â ç¼–è¯‘å™¨ gc çš„æ ‡è®°ï¼Œå‚è€ƒ go tool compile -help-installsuffix suffix åŒ…å®‰è£…è·¯å¾„ååç¼€-ldflags â€˜flag listâ€™ Â é“¾æ¥æ ‡è®°ï¼Œå‚è€ƒ go tool linkÂ -help-linkshared ä¸å…±äº«åº“è¿›è¡Œé“¾æ¥ï¼Œå…±äº«åº“ä½¿ç”¨Â -buildmode=shared åˆ›å»º-pkgdir dir Â ä» dir å®‰è£…ã€åŠ è½½æ‰€æœ‰åŒ…ï¼Œè€Œéé»˜è®¤ä½ç½®æ„å»ºæ¨¡å¼ï¼š-buildmode=archive Â æ„å»ºé main åŒ…ä¸ºã€‚a æ–‡ä»¶ï¼Œmain åŒ…è¢«å¿½ç•¥-buildmode=c-archive Â æ„å»º main åŒ…ä»¥åŠæ‰€æœ‰å®ƒå¯¼å…¥çš„åŒ…ä¸º C å½’æ¡£æ–‡ä»¶-buildmode=c-sharedÂ æ„å»º main åŒ…ä»¥åŠæ‰€æœ‰å®ƒå¯¼å…¥çš„åŒ…ä¸º C å…±äº«åº“-buildmode=sharedÂ æ„å»ºé main åŒ…ä¸ºå…±äº«åº“ï¼Œmain åŒ…è¢«å¿½ç•¥-buildmode=exeÂ æ„å»º main åŒ…ä»¥åŠæ‰€æœ‰å®ƒå¯¼å…¥çš„åŒ…ä¸ºå¯æ‰§è¡Œæ–‡ä»¶-buildmode=pie Â æ„å»ºä¸ºä½ç½®ç‹¬ç«‹å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆPIEï¼‰-buildmode=plugin æ„å»ºä¸º Go æ’ä»¶ç¤ºä¾‹ï¼šexport GOROOT=/home/alex/Go/sdk/1.9.2export GOPATH=/home/alex/Go/workspaces/defaultpushd /home/alex/Go/workspaces/default/src/digital-app &gt; /dev/nullexport PATH=/home/alex/Go/sdk/1.9.2/bin/:PATH&lt;br&gt;Â &lt;br&gt;# æ„å»º&lt;br&gt;go build -i -o build/digitalsrv&lt;br&gt;Â &lt;br&gt;# é™æ€è¿æ¥&lt;br&gt;# CGO_ENABLED æç¤ºä½¿ç”¨ cgo è€Œé go ä½œä¸ºç¼–è¯‘å™¨ï¼Œä»¥ä¾¿è¿›è¡Œé™æ€è¿æ¥&lt;br&gt;# -a é‡æ–°æ„å»ºæ‰€æœ‰ä¾èµ–&lt;br&gt;# -ldflags &#039;-s&#039;å‡å°äºŒè¿›åˆ¶æ–‡ä»¶å¤§å°&lt;br&gt;CGO_ENABLED=0 go build -i -a -o build/digitalsrv -ldflags &#039;-s&#039;&lt;br&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                 |\n| tool compile | å°†å•ä¸ª Go åŒ…ç¼–è¯‘ä¸ºå¯¹è±¡æ–‡ä»¶&lt;br&gt;**æ ¼å¼ï¼š**go tool compile [flags] file...&lt;br&gt;**é€‰é¡¹ï¼š**&lt;br&gt;-I dir1 -I dir2 å¯¼å…¥åŒ…çš„æœç´¢è·¯å¾„ï¼Œåœ¨æœç´¢ GOROOT/pkg/ GOOS\\_GOARCH ä¹‹åæœç´¢-N ç¦ç”¨ä¼˜åŒ–-c int ç¼–è¯‘æ—¶çš„å¹¶å‘åº¦ï¼Œé»˜è®¤ 1-dynlink å…è®¸å¼•ç”¨å…±äº«åº“ä¸­çš„ Go ç¬¦å·-l ç¦ç”¨å†…è”-lang version è®¾ç½® Go è¯­è¨€ç‰ˆæœ¬ï¼Œä¾‹å¦‚-lang=go1.12-largemodel åŸºäºå¤§å†…å­˜æ¨¡å‹çš„å‡è®¾æ¥ç¼–è¯‘-pack ç”Ÿæˆå½’æ¡£è€Œéå¯¹è±¡æ–‡ä»¶-shared ç”Ÿæˆèƒ½å¤Ÿé“¾æ¥åˆ°å…±äº«åº“çš„ä»£ç -dwarf ç”Ÿæˆ DWARF ç¬¦å·                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |\n| tool link    | ä» main åŒ…ä¸­è¯»å– Go å½’æ¡£/objectï¼Œä»¥åŠå®ƒä»¬çš„ä¾èµ–ï¼Œå¹¶é“¾æ¥ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼ï¼šgo tool link [flags] main. aÂ # ä» go build è°ƒç”¨go build -ldflags â€œ[flags]â€œé€‰é¡¹ï¼š-D address è®¾ç½®æ•°æ®æ®µåœ°å€-T address è®¾ç½®æ–‡æœ¬æ®µåœ°å€-E entry è®¾ç½®å…¥å£ç¬¦å·åç§°-H type è®¾ç½®å¯æ‰§è¡Œæ–‡ä»¶æ ¼å¼ç±»å‹ï¼Œé»˜è®¤ç±»å‹ä» GOOS+GOARCH æ¨æ–­-IÂ interpreter è®¾ç½®ä½¿ç”¨çš„ ELF åŠ¨æ€é“¾æ¥å™¨-L dir1 -L dir2 åœ¨æœç´¢ GOROOT/pkg/ GOOS*GOARCH ä¹‹åï¼Œä» dir1 dir2 ä¸­æœç´¢å¯¼å…¥åŒ…&lt;br&gt;-X importpath.name=value è®¾ç½®å¯¼å…¥è·¯å¾„ä¸­çš„å­—ç¬¦ä¸²å˜é‡ name çš„å€¼ä¸º valueã€‚ç¤ºä¾‹ï¼š&lt;br&gt;-X github.com/stefanprodan/flagger/pkg/version.REVISION= {GIT_COMMIT}â€œä¸Šè¿°é€‰é¡¹åªæœ‰å½“æºç ä¸­å®šä¹‰äº† REVISION å˜é‡ä¸”å®ƒçš„å€¼æ²¡æœ‰åˆå§‹åŒ–ã€æˆ–è€…åˆå§‹åŒ–ä¸ºå¸¸é‡å­—ç¬¦ä¸²è¡¨è¾¾å¼æ—¶æœ‰æ„ä¹‰ï¼špackage versionÂ var VERSION = â€œ0.8.0â€var REVISION = â€œunknownâ€-a åæ±‡ç¼–è¾“å‡º-buildid id è®¾ç½® Go å·¥å…·é“¾çš„ build id-buildmode mode æ„å»ºæ¨¡å¼ï¼Œé»˜è®¤ exe-c Dump å‡ºè°ƒç”¨å›¾-compressdwarf å¦‚æœå¯èƒ½å‹ç¼© DWARFï¼Œé»˜è®¤ true-cpuprofile file å°† CPU profile å†™å…¥åˆ°æ–‡ä»¶-d ç¦æ­¢ç”ŸæˆåŠ¨æ€å¯æ‰§è¡Œæ–‡ä»¶ã€‚æ§åˆ¶æ˜¯å¦ç”ŸæˆåŠ¨æ€å¤´ã€‚é»˜è®¤æƒ…å†µä¸‹å³ä½¿æ²¡æœ‰å¼•ç”¨ä»»ä½•åŠ¨æ€åº“ä¹Ÿä¼šç”ŸæˆåŠ¨æ€å¤´-dumpdep Dump å‡ºç¬¦å·ä¾èµ–å›¾-extar ar è®¾ç½®å¤–éƒ¨å½’æ¡£ç¨‹åºï¼ˆé»˜è®¤ arï¼‰ï¼Œä»…é…åˆ-buildmode=c-archive ä½¿ç”¨-extld linker è®¾ç½®å¤–éƒ¨é“¾æ¥å™¨ï¼ˆé»˜è®¤ clang æˆ– gccï¼‰-extldflags flags ç©ºæ ¼åˆ†éš”çš„ï¼Œä¼ é€’ç»™å¤–éƒ¨é“¾æ¥å™¨çš„é€‰é¡¹-installsuffix suffix ä» GOROOT/pkg/ GOOS*GOARCH_suffix ä¸­æœç´¢åŒ…ï¼Œè€Œé GOROOT/pkg/ GOOS\\_GOARCH-linkmode mode è®¾ç½®é“¾æ¥æ¨¡å¼ï¼Œå¯é€‰å€¼ internal, external, auto-linkshared å’Œå·²ç»å®‰è£…çš„ Go å…±äº«åº“è¿›è¡Œé“¾æ¥-msan æ”¯æŒ C/C++ å†…å­˜æ¶ˆæ¯’å™¨-n Dump å‡ºç¬¦å·è¡¨-o å°†è¾“å‡ºå†™å…¥åˆ°æŒ‡å®šæ–‡ä»¶-r dir1: dir2â€¦ è®¾ç½® ELF åŠ¨æ€é“¾æ¥å™¨çš„æœç´¢è·¯å¾„-race é“¾æ¥åˆ°ç«æ€æ£€æµ‹å…±äº«åº“-s ç§»é™¤ç¬¦å·è¡¨å’Œè°ƒè¯•ä¿¡æ¯-shared ç”Ÿæˆå…±äº«å¯¹è±¡ï¼Œéšå«-linkmode external-w ç¦æ­¢ DWARF ç”Ÿæˆé“¾æ¥æ¨¡å¼ï¼šinternalï¼šè§£æå¹¶é“¾æ¥ä¸»æœºä¸Šçš„å¯¹è±¡æ–‡ä»¶ï¼ˆELF/Mach-O/PE â€¦ï¼‰åˆ°æœ€ç»ˆå¯æ‰§è¡Œæ–‡ä»¶é‡Œé¢ã€‚ç”±äºå®ç°å®¿ä¸»æœºé“¾æ¥å™¨çš„å…¨éƒ¨åŠŸèƒ½å­˜åœ¨å›°éš¾ï¼Œå› æ­¤è¿™ç§æ¨¡å¼ä¸‹èƒ½å¤Ÿé“¾æ¥çš„å¯¹è±¡æ–‡ä»¶ç§ç±»æ˜¯å—é™çš„externalï¼šä¸ºäº†æ”¯æŒé“¾æ¥åˆ°ä»»ä½•å¯¹è±¡æ–‡ä»¶è€Œä¸éœ€è¦åŠ¨æ€åº“ï¼Œcgo æ”¯æŒæ‰€è°“å¤–éƒ¨é“¾æ¥æ¨¡å¼ã€‚æ­¤æ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰ Go ä»£ç è¢«æ”¶é›†åˆ° go. o æ–‡ä»¶ä¸­ï¼Œå¹¶é€šè¿‡å®¿ä¸»æœºé“¾æ¥å™¨ï¼ˆé€šå¸¸ gccï¼‰å°† go. o ä»¥åŠæ‰€æœ‰ä¾èµ–çš„é Go çš„ä»£ç é“¾æ¥åˆ°æœ€ç»ˆå¯æ‰§è¡Œæ–‡ä»¶é‡Œé¢å¤§éƒ¨åˆ†æ„å»ºåŒæ—¶ç¼–è¯‘ä»£ç ã€è°ƒç”¨é“¾æ¥å™¨æ¥åˆ›å»ºäºŒè¿›åˆ¶æ–‡ä»¶ã€‚åœ¨ä½¿ç”¨ cgo çš„æƒ…å†µä¸‹ï¼Œç¼–è¯‘æ—¶æœŸå·²ç»ä¾èµ– gccï¼Œå› æ­¤é“¾æ¥é˜¶æ®µå†æ¬¡ä¾èµ– gcc æ²¡æœ‰é—®é¢˜ |\n| clean        | ç§»é™¤ç¼–è¯‘åçš„å¯¹è±¡æ–‡ä»¶ï¼ˆObject filesï¼‰æ ¼å¼ï¼šgo clean [-i] [-r] [-n] [-x] [build flags] [packages]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |\n| doc          | æ˜¾ç¤ºåŒ…æˆ–è€…ç¬¦å·çš„æ–‡æ¡£æ ¼å¼ï¼šgo doc [-u] [-c] [package                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | [package.]symbol[. methodOrField]]Â # æ˜¾ç¤º fmt åŒ…çš„ Errorf å‡½æ•°çš„æ–‡æ¡£ go doc fmt Errorf |\n| env          | æ‰“å° Go ç›¸å…³ç¯å¢ƒå˜é‡ä¿¡æ¯ï¼Œç›¸å…³çš„ç¯å¢ƒå˜é‡åŒ…æ‹¬ï¼šGOOSï¼Œç›®æ ‡æ“ä½œç³»ç»Ÿï¼Œæ”¯æŒ darwinã€freebsdã€linuxã€windowsã€android ç­‰GOARCHï¼Œç›®æ ‡ä½“ç³»ç»“æ„ï¼Œæ”¯æŒ armã€arm64ã€386ã€amd64 ç­‰                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |\n| fix          | é’ˆå¯¹æŒ‡å®šçš„åŒ…è¿è¡Œ Go fix å‘½ä»¤ã€‚Fix èƒ½å¤ŸæŸ¥æ‰¾åˆ°ä½¿ç”¨æ—§ API çš„ Go ç¨‹åºï¼Œå¹¶å°†å…¶æ›¿æ¢ä¸ºæ–° APIã€‚å‡çº§åˆ°æ–°ç‰ˆæœ¬çš„ Go ä¹‹åï¼Œå¯ä»¥è°ƒç”¨æ­¤å‘½ä»¤                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |\n| fmt          | æŒ‡å®šæŒ‡å®šçš„åŒ…æºä»£ç è¿è¡Œ gofmt                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |\n| generate     | é€šè¿‡å¤„ç†æºæ–‡ä»¶ï¼Œäº§ç”Ÿ Go æ–‡ä»¶                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |\n| get          | ä¸‹è½½å¹¶å®‰è£…åŒ…åŠå…¶ä¾èµ–**æ ¼å¼ï¼š**go get [-d] [-f] [-fix] [-insecure] [-t] [-u] [build flags] [packages]é€‰é¡¹ï¼š-d ä»…ä»…ä¸‹è½½ï¼Œä¸å®‰è£…-f é…åˆ-uï¼Œä¸å»æ£€æŸ¥æ˜¯å¦æ¯ä¸ª import è¯­å¥å¯¹åº”çš„åŒ…ä»¥åŠä»å®ƒçš„åŸå§‹ä»£ç ä»“åº“æ£€å‡º-fix Â åœ¨è§£æä¾èµ–ã€æ„å»ºä»£ç ä¹‹å‰ï¼Œå¯¹ä¸‹è½½çš„åŒ…è¿è¡Œ fix tool-t åŒæ—¶ä¸‹è½½æ„å»ºæµ‹è¯•ä»£ç æ‰€éœ€çš„ä¾èµ–-insecure å…è®¸é€šè¿‡éå®‰å…¨è¿æ¥ä¸‹è½½ä»£ç -u ä½¿ç”¨ç½‘ç»œä¸‹è½½åŒ…åŠå…¶ä¾èµ–-v æ˜¾ç¤ºè¯¦ç»†è¾“å‡º                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |\n| install      | ç¼–è¯‘å¹¶å®‰è£…åŒ…åŠå…¶ä¾èµ–                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |\n| list         | åˆ—å‡ºåŒ…                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |\n| run          | ç¼–è¯‘å¹¶è¿è¡Œç¨‹åº                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |\n| test         | æµ‹è¯•æŒ‡å®šçš„åŒ…                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |\n| tool         | è¿è¡ŒæŒ‡å®šçš„ Go tool                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |\nä¾èµ–ç®¡ç†\nvendor\ngo vendor æ˜¯ go 1.5 å®˜æ–¹å¼•å…¥ä¾èµ–åŒ…ç®¡ç†æœºåˆ¶ã€‚å…¶åŸºæœ¬æ€è·¯æ˜¯ï¼Œå°†å¼•ç”¨çš„å¤–éƒ¨åŒ…çš„æºä»£ç æ”¾åœ¨å½“å‰å·¥ç¨‹çš„ vendor ç›®å½•ä¸‹é¢ï¼Œgo 1.6 ä»¥åç¼–è¯‘ go ä»£ç ä¼šä¼˜å…ˆä» vendor ç›®å½•å…ˆå¯»æ‰¾ä¾èµ–åŒ…ã€‚è¿™æ ·ï¼Œå½“å‰å·¥ç¨‹æ”¾åˆ°ä»»ä½•æœºå™¨çš„$GOPATH/src ä¸‹éƒ½å¯ä»¥é€šè¿‡ç¼–è¯‘ã€‚\nå¦‚æœä¸ä½¿ç”¨ vendor æœºåˆ¶ï¼Œæ¯æ¬¡æ„å»ºéƒ½éœ€è¦ go get ä¾èµ–åŒ…ï¼Œä¸‹è½½çš„ä¾èµ–åŒ…ç‰ˆæœ¬å¯èƒ½å’Œå·¥ç¨‹éœ€è¦çš„ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œå¯¼è‡´ç¼–è¯‘é—®é¢˜ã€‚\nä»…å¯æ‰§è¡Œç¨‹åºï¼ˆmain åŒ…ï¼‰åº”è¯¥ vendor ä¾èµ–ï¼Œå…±äº«çš„åº“åˆ™ä¸åº”è¯¥ã€‚å½“ä½ ç¼–å†™é¡¹ç›®æ—¶ï¼Œåº”è¯¥å°†æ‰€æœ‰ä¼ é€’æ€§çš„ä¾èµ–éƒ½æ‰å¹³åŒ–åˆ°å½“å‰é¡¹ç›®çš„ vendor ç›®å½•ä¸‹ã€‚\nä¾èµ–æœç´¢çš„ä¼˜å…ˆçº§ï¼švendor ç›®å½• â‡¨ GOROOT â‡¨ GOPATH\nglide\ngo vendor æ— æ³•ç²¾ç¡®çš„å¼•ç”¨å¤–éƒ¨åŒ…è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œä¸èƒ½æŒ‡å®šå¼•ç”¨æŸä¸ªç‰¹å®šç‰ˆæœ¬çš„å¤–éƒ¨åŒ…ã€‚åªæ˜¯åœ¨å¼€å‘æ—¶ï¼Œå°†å…¶æ‹·è´è¿‡æ¥ï¼Œä½†æ˜¯ä¸€æ—¦å¤–éƒ¨åŒ…å‡çº§ï¼Œvendor ä¸‹çš„ä»£ç ä¸ä¼šè·Ÿç€å‡çº§ï¼Œè€Œä¸” vendor ä¸‹é¢å¹¶æ²¡æœ‰å…ƒæ–‡ä»¶è®°å½•å¼•ç”¨åŒ…çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œè¿™ä¸ªå¼•ç”¨å¤–éƒ¨åŒ…å‡çº§äº§ç”Ÿå¾ˆå¤§çš„é—®é¢˜ï¼Œæ— æ³•è¯„ä¼°å‡çº§å¸¦æ¥çš„é£é™©ã€‚\nglide æ˜¯ Go è¯­è¨€çš„åŒ…ç®¡ç†å·¥å…·ï¼Œå®ƒèƒ½å¤Ÿç®¡ç† vendor ç›®å½•ã€‚\nå®‰è£…\ncurl glide.sh/get | sh\nå‘½ä»¤\næ ¼å¼ï¼šglide [global options] command [command options] [arguments...]\nå¸¸ç”¨å­å‘½ä»¤ï¼š\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nå­å‘½ä»¤è¯´æ˜createåˆ«å initï¼Œåˆ›å»ºä¸€ä¸ªæ–°å·¥ç¨‹ï¼ŒåŒ…å« glide. yaml æ–‡ä»¶cwconfig-wizardï¼Œè‡ªåŠ¨æ‰«æä»£ç ä¸­çš„ä¾èµ–ï¼Œç»™å‡ºä¾èµ–ç‰ˆæœ¬çš„å»ºè®®getä¸‹è½½ä¸€æˆ–å¤šä¸ªåŒ…åˆ° vendor ç›®å½•ï¼Œå¹¶åœ¨ glide. yaml ä¸­æ·»åŠ ä¾èµ–é¡¹rmä» glide. yaml ä¸­ç§»é™¤ä¾èµ–ï¼Œé‡æ–°ç”Ÿæˆ lock æ–‡ä»¶importä»å…¶å®ƒä¾èµ–ç®¡ç†ç³»ç»Ÿä¸­å¯¼å…¥æ–‡ä»¶nvåˆ—å‡ºç›®å½•ä¸‹æ‰€æœ‰ non-vendor è·¯å¾„ï¼Œå¦‚æœä¸å¸Œæœ›æµ‹è¯•ä¾èµ–çš„åŒ…ï¼Œå¯ä»¥ï¼šgo test $(glide novendor)installå®‰è£…é¡¹ç›®çš„ä¾èµ–ï¼Œè¯»å– glide. lock æ–‡ä»¶ï¼Œæ ¹æ®å…¶ä¸­çš„ commit id æ¥å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„åŒ…å¦‚æœ glide. lock æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™æ­¤å‘½ä»¤è‡ªåŠ¨è°ƒç”¨ glide update å¹¶ç”Ÿæˆ glide. lockupdateæ›´æ–°é¡¹ç›®çš„ä¾èµ–liståˆ—å‡ºæ‰€æœ‰çš„ä¾èµ–é¡¹ccæ¸…é™¤ Glide ç¼“å­˜\ndep\nGo è¯­è¨€çš„å®˜æ–¹çš„è¯•éªŒé˜¶æ®µçš„ä¾èµ–ç®¡ç†å·¥å…·ã€‚éœ€è¦ Go 1.9+ ç‰ˆæœ¬ã€‚ä» 1.11 ç‰ˆæœ¬å¼€å§‹ï¼ŒGo å·¥å…·é“¾å†…ç½®äº†å’Œ dep å·®å¼‚å¾ˆå¤§çš„ä¾èµ–ç®¡ç†æœºåˆ¶ã€‚\nå®‰è£…\ngo get -u github. com/golang/dep/cmd/dep\nåˆ›å»ºé¡¹ç›®\nmkdir -p $GOPATH/src/github. com/gmemcc/dep-study\ncd $GOPATH/src/github. com/gmemcc/dep-study\nÂ \ndep init # è‡ªåŠ¨ç”Ÿæˆ Gopkg. toml Gopkg. lock vendor/\nç®¡ç†ä¾èµ–\ndep ensure å¯ç”¨äºç®¡ç†ä¾èµ–ï¼Œæ›´æ–°ä¾èµ–åï¼Œvendor ç›®å½•ä¸­çš„å†…å®¹å‡ºç°å˜åŒ–ã€‚dep ensure çš„åŠŸèƒ½åŒ…æ‹¬ï¼š\n\n\næ·»åŠ æ–°çš„ä¾èµ–\n\n\næ›´æ–°ç°æœ‰ä¾èµ–\n\n\nå¯¹ Gopkg. toml ä¸­çš„è§„åˆ™å˜åŒ–ä½œå‡ºå“åº”\n\n\né¡¹ç›®ä¸­ç¬¬ä¸€æ¬¡å¯¼å…¥æŸä¸ªåŒ…ï¼Œæˆ–è€…ç§»é™¤æŸä¸ªåŒ…çš„æœ€åä¸€ä¸ªå¯¼å…¥åï¼Œä½œå‡ºå“åº”\n\n\nå‘½ä»¤ç¤ºä¾‹ï¼š\n# æ·»åŠ ä¾èµ–\ndep ensure -add github. com/foo/bar github. com/baz/quux\n# æ›´æ–°ä¸€ä¸ªä¾èµ–é¡¹ç›®åˆ°æ–°ç‰ˆæœ¬\ndep ensure -update github. com/foo/bar\n# æ›´æ–°æ‰€æœ‰ä¾èµ–ï¼Œé€šå¸¸ä¸å»ºè®®\n# æœç´¢åŒ¹é… Gopkg. toml ä¸­çš„ branchã€versionã€revision çº¦æŸçš„ä»£ç ç‰ˆæœ¬\ndep ensure -update\nGopkg. toml\næ­¤æ–‡ä»¶ç”± dep init è‡ªåŠ¨ç”Ÿæˆï¼Œåç»­ä¸»è¦ç”±äººå·¥ç¼–è¾‘ã€‚æ­¤æ–‡ä»¶å¯ä»¥åŒ…å«å‡ ç§è§„åˆ™å£°æ˜ï¼Œä»¥æ§åˆ¶ dep çš„è¡Œä¸ºï¼š\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nè§„åˆ™ç±»å‹è¯´æ˜constraintså®šä¹‰ç›´æ¥ä¾èµ–å¦‚ä½•åŠ å…¥åˆ°ä¾èµ–å›¾ä¸­ï¼š constraint # å¯¼å…¥è·¯å¾„Â Â  name = â€œgithub. com/user/projectâ€# å¯¼å…¥çš„ç‰ˆæœ¬ï¼Œå¯ä»¥æŒ‡å®š version branch æˆ– revision# version æ“ä½œç¬¦ï¼š# = ç­‰äºï¼= ä¸ç­‰äº &gt; å¤§äº &lt; å°äº &gt;= å¤§äºç­‰äº â‡ å°äºç­‰äº# - ç‰ˆæœ¬èŒƒå›´ï¼Œç¤ºä¾‹ 1.2 - 1.4.5# ~ å°ç‰ˆæœ¬èŒƒå›´ï¼Œç¤ºä¾‹ ~1.2.3 è¡¨ç¤ºå¤§äºç­‰äº 1.2.3 ä½†å°äº 1.3.0# ^ å¤§ç‰ˆæœ¬èŒƒå›´ï¼Œç¤ºä¾‹ ^1.2.3 è¡¨ç¤ºå¤§äºç­‰äº 1.2.3 ä½†å°äº 2.0.0# xX* é€šé…ç¬¦ï¼Œç¤ºä¾‹Â Â  1.2. x è¡¨ç¤ºå¤§äºç­‰äº 1.2.0 ä½†å°äº 1.3.0Â Â  version = â€œ1.0.0â€Â Â  branch = â€œmasterâ€# é€šå¸¸æ˜¯åæ¨¡å¼ï¼Œä¾‹å¦‚ Git çš„ SHA1Â Â  revision = â€œabc123â€Â # å¯é€‰ã€‚æ­¤ä¾èµ–çš„æºç çš„æ›¿æ¢ä½ç½®ï¼ˆURL æˆ–è€…å¯¼å…¥è·¯å¾„ï¼‰ï¼Œé€šå¸¸ç”¨åœ¨ fork çš„åœºæ™¯ä¸‹Â Â  source = â€œhttps://github. com/myfork/package. gitâ€Â Â [metadata]# å®šä¹‰ä¸€äº›é”®å€¼å¯¹ï¼Œdep æœ¬èº«ä¸ä½¿ç”¨è¿™äº›é”®å€¼å¯¹overridesè¦†ç›–æ‰€æœ‰ä¾èµ–ï¼ˆç›´æ¥æˆ–ä¼ é€’ï¼‰çš„è§„åˆ™ï¼Œåº”å½“å°å¿ƒä½¿ç”¨ã€‚ç¤ºä¾‹ï¼š override Â Â  name = â€œk8s. io/apiâ€Â Â  version = â€œkubernetes-1.11.0â€Â  override Â Â  name = â€œk8s. io/apimachineryâ€Â Â  version = â€œkubernetes-1.11.0â€Â  override Â Â  name = â€œk8s. io/code-generatorâ€Â Â  version = â€œkubernetes-1.11.0â€Â  override Â Â  name = â€œk8s. io/client-goâ€Â Â  version = â€œkubernetes-1.11.0â€Â requiredå¿…é¡»åœ¨ä»»ä½• constraint æˆ– override ä¹‹å‰å£°æ˜dep é€šè¿‡åˆ†æ go ä»£ç ä¸­çš„ import è¯­å¥æ¥æ„å»ºä¸€ä¸ªä¾èµ–å›¾ã€‚required/ignored è§„åˆ™ç”¨äºæ“æ§æ­¤ä¾èµ–å›¾required åˆ—å‡ºå¿…é¡»åŒ…å«åœ¨ Gopkg. lock ä¸­çš„åŒ…çš„åˆ—è¡¨ï¼Œæ­¤åˆ—è¡¨ä¼šå’Œå½“å‰é¡¹ç›®å¯¼å…¥çš„åŒ…åˆå¹¶ã€‚required å¯ä»¥å¼ºåˆ¶å£°æ˜ä¸€ä¸ªæœª import çš„åŒ…ä¸ºé¡¹ç›®çš„ç›´æ¥ä¾èµ–å¯¹äº linterã€generator æˆ–è€…å…¶å®ƒå¼€å‘å·¥å…·ï¼Œå¦‚æœï¼š1. è¢«å½“å‰é¡¹ç›®ä½¿ç”¨2. ä¸è¢«ç›´æ¥æˆ–ä¼ é€’çš„å¯¼å…¥åˆ°å½“å‰é¡¹ç›®3. ä½ ä¸éœ€è¦æŠŠè¿™äº›å·¥å…·åŠ å…¥ GOPATHï¼Œæˆ–è€…ä½ æƒ³é”å®šç‰ˆæœ¬åˆ™å¯ä»¥ä½¿ç”¨ required è§„åˆ™å£°æ˜ï¼šrequired = [â€œk8s. io/code-generator/cmd/client-genâ€]ignoredå¿…é¡»åœ¨ä»»ä½• constraint æˆ– override ä¹‹å‰å£°æ˜dep é€šè¿‡åˆ†æ go ä»£ç ä¸­çš„ import è¯­å¥æ¥æ„å»ºä¸€ä¸ªä¾èµ–å›¾ã€‚required/ignored è§„åˆ™ç”¨äºæ“æ§æ­¤ä¾èµ–å›¾required åˆ—å‡º dep è¿›è¡Œé™æ€ä»£ç åˆ†ææ—¶éœ€è¦å¿½ç•¥çš„åŒ…ï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼šignored = [â€œgithub. com/user/project/badpkg*â€œ]metadataå®šä¹‰ä¾›ç¬¬ä¸‰æ–¹å·¥å…·ä½¿ç”¨çš„å…ƒæ•°æ®ï¼Œå¯ä»¥å®šä¹‰åœ¨æ ¹ä¸‹ï¼Œæˆ–è€… constraintã€override ä¸‹pruneå®šä¹‰å…¨å±€/æŸä¸ªé¡¹ç›®çš„ä¾èµ–ä¿®å‰ªé€‰é¡¹ã€‚è¿™äº›é€‰é¡¹å†³å®šäº†å†™å…¥ vendor æ—¶å“ªäº›æ–‡ä»¶è¢«å¿½ç•¥æ”¯æŒä»¥ä¸‹å˜é‡ï¼Œå–å€¼å‡ä¸ºå¸ƒå°”ï¼š1. unused-packages æç¤ºä¸åœ¨åŒ…å¯¼å…¥å›¾ä¸­å‡ºç°çš„ç›®å½•ï¼Œåº”è¯¥è¢«ä¿®å‰ªæ‰2. non-go æç¤ºä¸è¢« Go ä½¿ç”¨çš„æ–‡ä»¶åº”è¯¥ä¿®å‰ªæ‰3. go-tests å°† Go æµ‹è¯•æ–‡ä»¶ä¿®å‰ªæ‰dep init ä¼šè‡ªåŠ¨ç”Ÿæˆï¼š[prune]Â Â  go-tests = trueÂ Â  unused-packages = trueä½ å¯ä»¥ä¸ºæ¯ä¸ªé¡¹ç›®ï¼ˆä¾èµ–ï¼‰å®šä¹‰ä¿®å‰ªè§„åˆ™ï¼š[prune]Â Â  non-go = trueÂ Â Â  prune.project Â Â Â Â  name = â€œgithub. com/project/nameâ€Â Â Â Â  go-tests = trueÂ Â Â Â  non-go = false\nvgo\nç”±äº Go ä¸€ç›´æ²¡æœ‰æä¾›å®˜æ–¹çš„ä¾èµ–ç®¡ç†å·¥å…·ï¼Œå¯¼è‡´äº† depï¼Œglideï¼Œgovendorï¼Œgodep ç­‰å·¥å…·ç¾¤é›„äº‰éœ¸çš„å±€é¢ã€‚vgo æ˜¯è§£å†³è¿™ç§ç°çŠ¶çš„æ—©æœŸå°è¯•ï¼Œvgo å³ Versioned goã€‚\nå®‰è£…\ngo get -u golang. org/x/vgo\ngo. mod\nè¿™æ˜¯ vgo çš„ä¾èµ–é…ç½®æ–‡ä»¶ï¼Œéœ€è¦æ”¾åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ã€‚\nå‘½ä»¤\nvgo å…·æœ‰åŒåçš„ CLIï¼Œå¯ä»¥ä½¿ç”¨çš„å­å‘½ä»¤åŒ…æ‹¬ï¼š\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nå­å‘½ä»¤è¯´æ˜installå®‰è£…ä¾èµ–buildç¼–è¯‘é¡¹ç›®runè¿è¡Œé¡¹ç›®get github. com/pkgè·å–ä¾èµ–çš„æœ€æ–°ç‰ˆæœ¬ã€‚ä¾èµ–åŒ…æ•°æ®ä¼šç¼“å­˜åˆ° GOPATH è·¯å¾„ä¸‹çš„ src/mod ç›®å½•get github. com/ pkg@v1.0è·å–ä¾èµ–çš„æŒ‡å®šç‰ˆæœ¬mod -vendorå°†ä¾èµ–ç›´æ¥æ”¾åœ¨ vendor ç›®å½•ä¸­\ngo modules\nä» vgo å‘å±•è€Œæ¥ã€‚\nGo modules åœ¨ 1.11 å±äºè¯•éªŒç‰¹æ€§ï¼Œç¯å¢ƒå˜é‡GO111MODULEç”¨äºæ§åˆ¶å…¶å¼€å…³ï¼Œå–å€¼ auto/on/offï¼Œé»˜è®¤ autoã€‚\nä» 1.16 å¼€å§‹ï¼Œé»˜è®¤å¼€å¯ go modulesï¼Œå³ä½¿é¡¹ç›®ä¸­æ²¡æœ‰ go. mod æ–‡ä»¶ã€‚è®¡åˆ’åœ¨ 1.17 ä¸­å®Œå…¨åºŸå¼ƒå¯¹ GOPATH æ¨¡å¼çš„æ”¯æŒã€‚\nå·¥ä½œæµ\nä½¿ç”¨ go modules è¿›è¡Œä¾èµ–ç®¡ç†çš„æ—¥å¸¸å·¥ä½œæµå¦‚ä¸‹ï¼š\n\n\nåœ¨ Go æºç ä¸­ï¼Œä½¿ç”¨ import è¯­å¥å¯¼å…¥éœ€è¦çš„åŒ…\n\n\nè°ƒç”¨ go build/test ç­‰å‘½ä»¤æ—¶ï¼Œä¼šè‡ªåŠ¨å°†ä¾èµ–åŠ å…¥åˆ° go. mod å¹¶ä¸‹è½½ä¾èµ–\n\n\nå¦‚æœéœ€è¦é™å®šä¾èµ–çš„ç‰ˆæœ¬ï¼Œä½ å¯ä»¥é€‰ç”¨ä»¥ä¸‹æ–¹æ³•ä¹‹ä¸€ï¼š\n\nä½¿ç”¨ go getï¼Œä¾‹å¦‚ï¼š\n\n\n\ngo get foo@v1.2.3\ngo get foo@master\ngo get foo@e3702bed2Â \n2. æ‰‹å·¥ä¿®æ”¹ go. mod æ–‡ä»¶\n\nä»£ç†\nå¾ˆå¤š Google çš„åº“åœ¨å›½å†…æ— æ³•è®¿é—®ï¼Œå¯ä»¥è®¾ç½®ç¯å¢ƒå˜é‡ï¼š\n# é»˜è®¤æº\nexport GOPROXY= goproxy.io\nÂ \n# å›½å†…æº\nexport GOPROXY= goproxy.cn\nè¿™æ ·ï¼Œæ‰€æœ‰æ¨¡å—éƒ½ä¼šé€šè¿‡æ­¤ä»£ç†ä¸‹è½½ã€‚\nè®¿é—®ç§æœ‰ä»“åº“\nä½ éœ€è¦åœ¨ä»“åº“è½¯ä»¶ç®¡ç†é¡µé¢åˆ›å»ºè‡ªå·±çš„ Access Tokenï¼Œå¹¶é…ç½® Gitï¼š\n#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ç”¨æˆ· Token\ngit config --global url.&quot; https://alex:***@git.pacloud.io&quot;.insteadOf &quot; git.pacloud.io&quot;\nÂ \n# SSH æ–¹å¼\ngit config --global url.&quot; git@git.tencent.com : &quot;. insteadOf &quot; git.tencent.com/&quot;\nç„¶åï¼Œéœ€è¦è®¾ç½®è·³è¿‡ä»£ç†ï¼š\nexport GOPRIVATE=*. pacloud. io,*. gmem. cc\nå‘½ä»¤\nGo modules åœ¨go modä¸‹å®šä¹‰äº†è‹¥å¹²å­å‘½ä»¤ï¼š\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nå­å‘½ä»¤è¯´æ˜initåˆå§‹åŒ–ä¸€ä¸ªæ–°æ¨¡å—ï¼Œç¤ºä¾‹ï¼šcd gotoolsgo mod init github. com/gmemcc/gotoolsdownloadå°†æ¨¡å—ä¸‹è½½åˆ°æœ¬åœ°ç¼“å­˜editç¼–è¾‘ go. modgraphæ‰“å°æ¨¡å—ä¾èµ–å›¾tidyæ·»åŠ ç¼ºå¤±çš„ã€ç§»é™¤å¤šä½™çš„æ¨¡å—vendorå°†ä¾èµ–çš„å‰¯æœ¬æ‹·è´åˆ° vendor ç›®å½•verifyéªŒè¯ä¾èµ–æ˜¯å¦æ»¡è¶³æœŸæœ›whyè§£é‡ŠåŒ…æˆ–æ¨¡å—ä¸ºä½•è¢« main æ¨¡å—éœ€è¦ï¼šgo mod why github. com/coreos/etcd\næ­¤å¤–ï¼Œä½ è¿˜å¯èƒ½ç”¨åˆ°ä»¥ä¸‹ Go å‘½ä»¤ï¼š\n# æ˜¾ç¤ºæ„å»ºæ—¶ä¼šå®é™…ä½¿ç”¨çš„ç›´æ¥ã€é—´æ¥ä¾èµ–çš„ç‰ˆæœ¬\ngo list -m all\nÂ \n# æ˜¾ç¤ºæ‰€æœ‰ç›´æ¥ã€é—´æ¥ä¾èµ–å¯ç”¨çš„ minor/patch ç‰ˆæœ¬æ›´æ–°\ngo list -u -m all\nÂ \n# åˆ—å‡ºä¾èµ–çš„å¯ç”¨ç‰ˆæœ¬\ngo list -m -json -versions go. etcd. io/ etcd@latest\nÂ \n# æ›´æ–°æ‰€æœ‰ç›´æ¥ã€é—´æ¥ä¾èµ–åˆ°æœ€æ–°çš„ minor ç‰ˆæœ¬\ngo get -u\n# æ›´æ–°æŒ‡å®šçš„ä¾èµ–\ngo get -u -v go. etcd. io/etcd\n# æ›´æ–°æ‰€æœ‰ç›´æ¥ã€é—´æ¥ä¾èµ–åˆ°æœ€æ–°çš„ patch ç‰ˆæœ¬\ngo get -u=patch\nÂ \n# åœ¨æ¨¡å—æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼Œæ„å»ºæˆ–æµ‹è¯•æ¨¡å—çš„æ‰€æœ‰åŒ…\ngo build ./...\ngo test ./...\nÂ \n# ä¿®å‰ªä¸å†éœ€è¦çš„ä¾èµ–\ngo mod tidy\nÂ \n# åˆ›å»ºå¹¶åŒæ­¥åˆ° vendor ç›®å½•\ngo mod vendor\ngo.mod\nä»…ä»…åŒ…å«å››ä¸ªæŒ‡ä»¤ï¼š\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\næŒ‡ä»¤è¯´æ˜moduleå£°æ˜å½“å‰æ¨¡å—çš„æ ‡è¯†ï¼šmodule github. com/my/thingæ­¤æ ‡è¯†æä¾›äº†æ¨¡å—è·¯å¾„ï¼ˆmodule pathï¼‰ï¼Œæ¨¡å—ä¸­æ‰€æœ‰åŒ…çš„å¯¼å…¥è·¯å¾„ï¼Œéƒ½ä»¥æ­¤æ¨¡å—è·¯å¾„ä¸ºå‰ç¼€ã€‚æ¨¡å—è·¯å¾„ + åŒ…ç›¸å¯¹äº go. mod çš„è·¯å¾„å…±åŒå†³å®šäº†åŒ…çš„å¯¼å…¥è·¯å¾„requireå£°æ˜ä¾èµ–ï¼šrequire (Â Â Â Â  github. com/some/dependency v1.2.3Â Â Â Â  github. com/another/dependency/v4 v4.0.0)replaceä»…ä»…é’ˆå¯¹å½“å‰ï¼ˆä¸»ï¼‰æ¨¡å—ï¼Œåœ¨æ„å»ºä¸»æ¨¡å—æ—¶ï¼Œéä¸»æ¨¡å—çš„ go. mod ä¸­ replace å£°æ˜è¢«å¿½ç•¥ã€‚è¯¥æŒ‡ä»¤å¯ä»¥ï¼š1. ç”¨æ¥æ˜ å°„å¯¼å…¥è·¯å¾„ï¼ˆåœ¨ä½  Fork ä¸€ä¸ªé¡¹ç›®å¹¶åšè¡¥ä¸çš„æƒ…å†µä¸‹ä½¿ç”¨ï¼‰ï¼š# æ¨¡å—ä»£ç ä¸­ä½¿ç”¨çš„å¯¼å…¥è·¯å¾„Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  å®é™…å¯»æ‰¾ä»£ç æ—¶çš„å¯¼å…¥è·¯å¾„replace example. com/original/import/path â‡’ /your/forked/import/path2. ç²¾ç¡®çš„æ§åˆ¶ä¾èµ–çš„ç‰ˆæœ¬ï¼šreplace example. com/some/dependency â‡’ example. com/some/dependency v1.2.33. æç¤ºä¸€ä¸ªå¤šæ¨¡å—åä½œé¡¹ç›®çš„æ¨¡å—ä½äºç£ç›˜çš„ç»å¯¹ã€ç›¸å¯¹è·¯å¾„ï¼šmodule example. com/me/helloÂ require (Â Â  example. com/me/goodbye v0.0.0)Â replace git. yun. gmem. cc/eks/chart-service â‡’ ../chart-serviceè¿™ç§ç”¨æ³•å¯ä»¥å°†ä¾èµ–ä½ç½®å®šä½åˆ°ç£ç›˜ï¼Œè§£é™¤å¯¹ VCS çš„ä¾èµ–excludeä»…ä»…é’ˆå¯¹å½“å‰ï¼ˆä¸»ï¼‰æ¨¡å—ï¼Œåœ¨æ„å»ºä¸»æ¨¡å—æ—¶ï¼Œéä¸»æ¨¡å—çš„ go. mod ä¸­ exclude å£°æ˜è¢«å¿½ç•¥è¯¥æŒ‡ä»¤ç”¨äºç¦æ­¢æŸä¸ªç›´æ¥æˆ–ä¼ é€’æ€§çš„ä¾èµ–åŒ…ï¼Œä¾‹å¦‚ï¼šexclude k8s. io/client-go v2.0.0-alpha. 0.0.20190313235726-6ee68ca5fd83+incompatible\næ¨¡å—\nä¸€ä¸ª Go é¡¹ç›®é€šå¸¸ä¼šåœ¨ Git ä¸Šæ‰˜ç®¡æºç ï¼Œä¾‹å¦‚ github. com/gmem/gotoolsï¼Œé¡¹ç›®çš„ä»£ç åº“çš„ URL ç§°ä¸ºä»£ç åº“ï¼ˆRepoï¼‰ã€‚\nåœ¨åŒä¸€ Repo ä¸­ï¼Œå¯ä»¥æœ‰å¤šä¸ªåŒ…ï¼ˆPackageï¼‰ï¼Œåœ¨ Go 1.11 ä¸­è¿™äº›åŒ…è¢«æŠ½è±¡ä¸ºæ¨¡å—ï¼ˆModuleï¼‰â€”â€” æ¨¡å—æ˜¯ä¸€ç³»åˆ—ç›¸å…³åŒ…çš„é›†åˆï¼Œä½¿ç”¨go. modæ¥è®°å½•æ¨¡å—çš„å…ƒæ•°æ®ã€‚\nGoogle çš„é£æ ¼æ˜¯ä½¿ç”¨å•ä¸ªä»£ç åº“ï¼ˆMono Repoï¼‰ï¼ŒåŒ…æ‹¬åƒ Istio è¿™æ ·çš„é¡¹ç›®ï¼Œæ‰€æœ‰ç»„ä»¶éƒ½åœ¨åŒä¸€ä¸ªä»£ç åº“ä¸­ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨å•ä¸ªä»£ç åº“ä¸­åˆ›å»ºå¤šä¸ªæ¨¡å—æ˜¯è‡ªç„¶çš„éœ€æ±‚ï¼ŒGo modules æ”¯æŒè¿™ç§éœ€æ±‚ï¼š\n# å•ä»£ç åº“å•æ¨¡å—\nmonorepo-single-mod\nâ”œâ”€â”€ go. mod\nâ”œâ”€â”€ pkga\nâ”œâ”€â”€ pkgb\nâ””â”€â”€ pkgc\nÂ \n# å•ä»£ç åº“å¤šæ¨¡å—\nmonorepo-multi-mods\nâ”œâ”€â”€ proj1\nâ”‚Â Â  â”œâ”€â”€ go. mod\nâ”‚Â Â  â”œâ”€â”€ pkga\nâ”‚Â Â  â”œâ”€â”€ pkgb\nâ”‚Â Â  â””â”€â”€ pkgc\nâ”œâ”€â”€ proj2\nâ”‚Â Â  â”œâ”€â”€ go. mod\nâ”‚Â Â  â”œâ”€â”€ pkga\nâ”‚Â Â  â”œâ”€â”€ pkgb\nâ”‚Â Â  â””â”€â”€ pkgc\nâ””â”€â”€ proj3\nÂ Â Â Â â”œâ”€â”€ go. mod\nÂ Â Â Â â”œâ”€â”€ pkga\nÂ Â Â Â â”œâ”€â”€ pkgb\nÂ Â Â Â â””â”€â”€ pkgc\né€çº§çš„ 1: N å…³ç³»ï¼šRepo â‡¨ Module â‡¨ Package â‡¨ Sourceã€‚\nä¾èµ–æœç´¢æ¨¡å¼\næˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„ä¾èµ–æœç´¢æ¨¡å¼ï¼švenderã€$GOPATH ä¸‹æœç´¢ï¼Œå«åš GOPATH modeã€‚ä» 1.8 å¼€å§‹ï¼Œå¯ä»¥ä¸å»æ˜¾å¼çš„è®¾ç½® GOPATHï¼ŒSDK é»˜è®¤ä½¿ç”¨~/go\nGo modules å¼•å…¥ä¸€ç§æ–°çš„ Module-aware modeï¼Œåœ¨æ­¤æ¨¡å¼ä¸‹ï¼š\n\n\nä½ çš„é¡¹ç›®æºç ä¸éœ€è¦æ”¾åœ¨ GOPATH ä¸‹\n\n\næºç æ ‘çš„é¡¶å±‚ç›®å½•ä¸‹æœ‰ä¸€ä¸ª go. mod æ–‡ä»¶ï¼Œè¿™ç§æ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ª Go æ¨¡å—\n\n\næ”¾ç½®äº† go. mod çš„ç›®å½•ç§°ä¸ºæ¨¡å—æ ¹ç›®å½•ï¼Œå®ƒé€šå¸¸æ˜¯æºç åº“çš„æ ¹ç›®å½•ï¼Œä½†éå¿…é¡»\n\n\næ¨¡å—æ ¹ç›®å½•ï¼ŒåŠå…¶å­ç›®å½•ä¸­çš„æ‰€æœ‰ Go åŒ…ï¼Œéƒ½å±äºæ¨¡å—ã€‚é™¤äº†é‚£äº›è‡ªèº«å®šä¹‰äº† go. mod çš„å­ç›®å½•\n\n\nGo ç¼–è¯‘å™¨ä¸å†åœ¨ vendorã€GOPATH ä¸‹å¯»æ‰¾ç¬¬ä¸‰æ–¹ Go åŒ…ï¼Œè€Œæ˜¯ä¼šç›´æ¥å»ä¸‹è½½å¹¶ç¼–è¯‘ï¼Œç„¶åæ›´æ–° go.modï¼š\n\n\nmodule proj1\nÂ \n// åˆ†æå‡ºçš„ä¾èµ–ï¼Œæ”¾åˆ° require åŒºåŸŸ\nrequire (\nÂ Â Â Â # ä½¿ç”¨æœ€æ–°ç‰ˆçš„ä»£ç ï¼Œå¹¶ä»¥ Pseudo-versions å½¢å¼è®°å½•\nÂ Â Â Â github. com/gmem/gotools/x v0.0.0-20190515063616-861b08fcd24b\nÂ Â Â Â github. com/gmem/gotools/y v0.0.0-20190515005150-3e3f9af80a02 // indirectÂ Â  ä¼ é€’æ€§ä¾èµ–\n)Â \n\nGo ç¼–è¯‘å™¨ä¼šæŠŠä¸‹è½½çš„ä¾èµ–åŒ…ï¼Œç¼“å­˜åˆ°$GOPATH/pkg/modç›®å½•ä¸‹\n\nä¾èµ–ç‰ˆæœ¬é€‰æ‹©\ngo. mod ä¸€æ—¦è¢«åˆ›å»ºï¼Œå…¶å†…å®¹å°†è¢« Go å·¥å…·é“¾ç®¡ç†ï¼Œæ‰§è¡Œ get/build/mod éƒ½ä¼šå¯¼è‡´ go. mod è¢«ä¿®æ”¹ã€‚\nå‘½ä»¤go list -mè¾“å‡ºçš„ä¿¡æ¯è¢«ç§°ä¸º build listï¼Œå®ƒæ˜¯æ„å»ºå½“å‰ module æ‰€è¦æ„å»ºçš„æ‰€æœ‰ç›¸å…³ Packageï¼ˆåŠå…¶ç‰ˆæœ¬ï¼‰çš„åˆ—è¡¨ï¼š\n// go list -m -json all\n{\nÂ Â Â Â &quot;Path&quot;: &quot;proj1&quot;,\nÂ Â Â Â &quot;Main&quot;: true,\nÂ Â Â Â &quot;Dir&quot;: &quot;/root/proj1&quot;\n}\n{\nÂ Â Â Â &quot;Path&quot;: &quot;github. com/gmem/gotools/x&quot;,\nÂ Â Â Â &quot;Version&quot;: &quot;v0.0.0-20190515063616-861b08fcd24b&quot;,\nÂ Â Â Â &quot;Time&quot;: &quot;2015-05-15T06:36:16Z&quot;,\nÂ Â Â Â &quot;Dir&quot;: &quot;/home/alex/Go/workspaces/default/pkg/mod/github. com/gmem/gotools/ x@v0.0.0-20190515063616-861b08fcd24b &quot;\n}\næ ‡è®°ä¸º Main: true çš„æ¨¡å—ï¼Œç§°ä¸ºä¸»æ¨¡å—ï¼ˆmain moduleï¼‰ï¼Œå³æ‰§è¡Œ Go å‘½ä»¤æ‰€åœ¨çš„ç›®å½•ã€‚Go ä¼šåœ¨å½“å‰ç›®å½•ï¼Œä»¥åŠå½“å‰ç›®å½•çš„ç¥–å…ˆç›®å½•å¯»æ‰¾ go. mod æ–‡ä»¶ã€‚\nå¦‚æœä¾èµ–æ‰“äº†å‘å¸ƒç‰ˆçš„ Tagï¼Œåˆ™ä¸ä¼šä½¿ç”¨æœ€æ–°ç‰ˆçš„ä»£ç çš„ Pseudo-versionï¼Œè€Œæ˜¯ä½¿ç”¨æœ€æ–°çš„å‘å¸ƒç‰ˆã€‚\nå¦‚æœéœ€è¦æ˜¾å¼ä¾èµ–æŒ‡å®šç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤æ¥æ“æ§ go. modï¼š\ngo mod -require=github. com/gmem/gotools/ x@v1.0.0\ngo mod -require=github. com/gmem/gotools/ y@v1.1.0\nä¸Šè¿°å‘½ä»¤ä¿®æ”¹ go. modï¼š\nrequire (\nÂ Â Â Â github. com/gmem/gotools/x v1.0.0 // indirect\nÂ Â Â Â github. com/gmem/gotools/y v1.1.0 // indirect\n)\nä½ è¿˜å¯ä»¥æŒ‡å®šä¾èµ–è¡¨è¾¾å¼ï¼š\ngo mod -require=&#039;github. com/gmem/gotools/y@&gt;=v1.1.0&#039;\nä½¿ç”¨ go get å‘½ä»¤ï¼Œå¯ä»¥æ›´æ–° go. mod ä¸­çš„ä¾èµ–ä¸ºæŒ‡å®šåˆ†æ”¯çš„æœ€æ–° Commitï¼š\ngo get -u git. pacloud. io/pks/ helm-operator@masterÂ \nç‰ˆæœ¬å·æ ¼å¼\nå‘å¸ƒç‰ˆ Tag å¿…é¡»æ˜¯vMAJOR. MINOR. PATCHæ ¼å¼ã€‚\nincompatibleè¡¨ç¤ºä½ çš„ä¾èµ–ä¸æ”¯æŒ Go modeulesã€‚\nPseudo-version çš„æ ¼å¼æ˜¯v0.0.0-yyyymmddhhmmss-abcdefabcdefã€‚\nç‰ˆæœ¬å·å‡çº§\nå¯¹äºä¸€ä¸ªåº“ helm. sh/helmï¼ŒTag 1.x.x å‘å¸ƒåï¼Œæ¶ˆè´¹è€…è¿™æ ·å¼•ç”¨ï¼š\nrequire helm. sh/helm v1.0.0Â \næ²¡æœ‰é—®é¢˜ã€‚ä½†æ˜¯å¦‚æœä¸»ç‰ˆæœ¬æ”¹æˆ 3.x.xï¼Œå¼•ç”¨ï¼š\nrequire helm. sh/helm v3.0.2Â \nå°±ä¼šæç¤ºï¼šrequire helm. sh/helm: version â€œv3.0.2â€ invalid: module contains a go. mod file, so major version must be compatible: should be v0 or v1, not v3\nè§£å†³åŠæ³•æ˜¯ï¼Œå¯¹äº 3. x ç‰ˆæœ¬ï¼Œï¼ˆåº“çš„ä½œè€…ï¼‰ä¿®æ”¹æ¨¡å—è·¯å¾„ï¼Œæ·»åŠ ä¸€ä¸ª v3 åç¼€ï¼š\n# Git ä»“åº“åœ°å€ github.com/helm/helm ä¸€ç›´ä¸å˜\nmodule helm. sh/helm/v3\nç›¸åº”çš„ï¼Œæ¶ˆè´¹è€…è¿™æ ·å¼•ç”¨ï¼šrequire helm. sh/helm/v3 v3.0.2\nå¦‚æœä½ æƒ³ Fork æ­¤åº“åˆ° Git ç§æœ git. pacloud. io/pks/helmï¼Œç„¶å Replace æ—¶å¿…é¡»è¿™æ ·å†™ï¼š\n#Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â æ³¨æ„è¿™ä¸ª v3 ä¸èƒ½å°‘ï¼Œå¦åˆ™æŠ¥é”™\n# replace git. pacloud. io/pks/helm: version &quot;v3.0.2&quot; invalid: module contains a go. mod file,\n# so major version must be compatible: should be v0 or v1, not v3\nhelm. sh/helm/v3 =&gt; git. pacloud. io/pks/helm/v3 v3.0.2\nåŒæ­¥åˆ° vendor\nä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œå¯ä»¥å°†æŸä¸ªæ¨¡å—çš„å…¨éƒ¨ä¾èµ–ä¿å­˜ä¸€ä»½å‰¯æœ¬åˆ°æ ¹ç›®å½•çš„ vendor ç›®å½•ï¼š\ngo mod vendor\nè¿™æ ·ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨ vendor ä¸‹çš„åŒ…æ¥æ„å»ºå½“å‰æ¨¡å—äº†ï¼š\ngo build -getmode=vendor tool. go\nç”Ÿæˆçš„ vendor è¿˜å¯ä»¥ç”¨æ¥å…¼å®¹ 1.11 ä»¥å‰çš„ç‰ˆæœ¬ï¼Œä½†æ˜¯ç”±äº 1.11 ä»¥å‰çš„ç‰ˆæœ¬ä¸æ”¯æŒåœ¨ GOPATH ä¹‹å¤–ä½¿ç”¨ vendor æœºåˆ¶ï¼Œå› æ­¤ä½ éœ€è¦æŠŠä»£ç åº“ç§»åŠ¨åˆ°$GOPATH/src ä¸‹ã€‚\nvendor æ¨¡å¼\nGo modules æ”¯æŒä½¿ç”¨ vendoring æ¨¡å¼ï¼š\n# ä½¿ç”¨ç¯å¢ƒå˜é‡\nexport GOFLAGS=-mod=vendor\nÂ \n# æˆ–è€…\ngo build -mod=vendor ...\nä¸Šè¿°å‘½ä»¤æç¤º Go å‘½ä»¤ä½¿ç”¨ main æ¨¡å—çš„ vendor ç›®å½•æ¥æ»¡è¶³ä¾èµ–ï¼Œè€Œå¿½ç•¥ go. mod ä¸­çš„æŒ‡ä»¤ã€‚\næœ€ä½³å®è·µ\nä»£ç ç»„ç»‡\nGo ä»£ç åŒ…å«åœ¨å·¥ä½œåŒºä¸­ï¼š\n\n\nä½ é€šå¸¸æŠŠæ‰€æœ‰çš„ Go ä»£ç å­˜æ”¾åœ¨å•ä¸€çš„å·¥ä½œåŒºä¸­\n\n\nä¸€ä¸ªå·¥ä½œåŒºä¸­å¯èƒ½åŒ…å«å¤šä¸ªç‰ˆæœ¬æ§åˆ¶ä»“åº“\n\n\næ¯ä¸ªä»“åº“ä¸­å¯èƒ½åŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ªåŒ…\n\n\næ¯ä¸ªåŒ…ä¼šåŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ªä½äºå•ä¸ªç›®å½•ä¸­çš„ Go æºç æ–‡ä»¶\n\n\nåˆ°è¾¾åŒ…çš„ç›®å½•è·¯å¾„ï¼Œå¯¹åº”äº†å®ƒçš„å¯¼å…¥è·¯å¾„\n\n\nä¸€ä¸ªå·¥ä½œåŒºåŒ…å«ä»¥ä¸‹ç›®å½•ï¼š\n\n\nsrc ç›®å½•åŒ…å«æºä»£ç ã€‚å…¶ä¸­å¸¸å¸¸åŒ…å«å¤šä¸ªç‰ˆæœ¬åº“ã€‚æºä»£ç æ–‡ä»¶å¿…é¡»æ€»æ˜¯ä»¥ UTF-8 æ–¹å¼å­˜å‚¨\n\n\npkg ç›®å½•åŒ…å«åŒ…å¯¹è±¡\n\n\nbin ç›®å½•å¯æ‰§è¡Œæ–‡ä»¶\n\n\nGOPATH\nè¯¥ç¯å¢ƒå˜é‡æŒ‡å®šä½ çš„å·¥ä½œåŒºçš„ä½ç½®ï¼Œé»˜è®¤æŒ‡å‘$HOME/go\nå¯¼å…¥è·¯å¾„\nå¯¼å…¥è·¯å¾„å”¯ä¸€çš„è¯†åˆ«åŒ…ï¼Œä¸€ä¸ªåŒ…çš„å¯¼å…¥è·¯å¾„å¯¹åº”äº†å®ƒåœ¨å·¥ä½œåŒºä¸­ã€æˆ–è€…è¿œç¨‹ä»“åº“ä¸­çš„ä½ç½®ã€‚\næ ‡å‡†åº“å ç”¨äº†å¾ˆå¤šç®€çŸ­çš„å¯¼å…¥è·¯å¾„ï¼Œä¾‹å¦‚ fmtã€net/httpã€‚è®¾è®¡è‡ªå·±çš„åŒ…æ—¶ï¼Œä½ è¦æ³¨æ„é¿å…å¯¼å…¥è·¯å¾„çš„å†²çªã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ä½ çš„ GitHub è´¦å·ä½œä¸ºåŒ…è·¯å¾„å‰ç¼€ã€‚\nå‘½å\né©¼å³°å¼è®°æ³•\nå˜é‡å‘½åä½¿ç”¨é©¼å³°å¼å¤§å°å†™ã€‚\nGetter/Setter\nä¸æä¾› Getter/Setter æ”¯æŒï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªå­—æ®µ ownerï¼Œå»ºè®®Owner ()æ–¹æ³•ä½œä¸º Getterï¼ŒSetOwner ()ä½œä¸º Setterã€‚\næ¥å£å\nä¸€èˆ¬åªæœ‰ä¸€ä¸ªæ–¹æ³•çš„æ¥å£ï¼Œä»¥erä½œä¸ºåç¼€ï¼Œä¾‹å¦‚ Readerã€Writerã€Formatterã€CloseNotifierã€‚\nåŒ…å\nåŒ…ååº”è¯¥æ˜¯å¯¼å…¥è·¯å¾„çš„æœ€åä¸€æ®µï¼šä½äº src/encoding/base64 çš„åŒ…ï¼Œå…¶å¯¼å…¥è·¯å¾„ä¸º encoding/base64ï¼Œè€Œå…¶åŒ…åæ˜¯ base64ã€‚\nåŒ…å‘½åæ–¹é¢æ²¡æœ‰ç¡¬æ€§è§„å®šã€‚ä½†æ˜¯ä½œä¸ºæƒ¯ä¾‹ï¼ŒåŒ…ååº”è¯¥å°½å¯èƒ½ç®€çŸ­ã€ä»…ä»…ä½¿ç”¨å°å†™å­—æ¯ã€‚\nåŒ…åä»…ä»…ç”¨äºå¯¼å…¥ï¼Œä¸éœ€è¦æ˜¯å…¨å±€å”¯ä¸€çš„ï¼Œå¦‚æœå‡ºç°åå­—å†²çªï¼Œä½ å¯ä»¥åœ¨å¯¼å…¥æ—¶èµ‹äºˆåˆ«åï¼š\n//Â Â Â Â  åˆ«ååŒ…å\nimport FMT &quot;fmt&quot;\nÂ \nfunc main () {\nÂ Â Â Â FMT.Print (0)\n}\nå·¥ç¨‹å¸ƒå±€\nGo å®˜æ–¹æ²¡æœ‰æä¾›å¼€å‘å·¥ç¨‹çš„ç»“æ„çš„æ ‡å‡†å¸ƒå±€ï¼Œä¸‹é¢æ˜¯ Go ç”Ÿæ€ç³»ç»Ÿä¸­å¸¸ç”¨çš„ä¸€ç§å¸ƒå±€ï¼š\n/cmd å­˜æ”¾å·¥ç¨‹ä¼šäº§ç”Ÿçš„æ‰€æœ‰äºŒè¿›åˆ¶æ–‡ä»¶\n/binname/main. go äºŒè¿›åˆ¶æ–‡ä»¶ binname çš„å…¥å£ç‚¹å‡½æ•°ï¼Œé‡å°½é‡å°‘çš„èƒ¶æ°´ä»£ç \n/internal å­˜æ”¾å·¥ç¨‹ç§æœ‰çš„ã€ä¸éœ€è¦è¢«å…¶å®ƒåº”ç”¨ç¨‹åºæˆ–è€…åº“å¼•ç”¨çš„ Go ä»£ç \n/app Â ç§æœ‰åº”ç”¨ç¨‹åºä»£ç \n/pkg å¯ä»¥è¢«ç§æœ‰åº”ç”¨ç¨‹åºå…±äº«çš„åº“ä»£ç \n/pkg Â å¯ä»¥è¢«å¤–éƒ¨åº”ç”¨å¯¼å…¥ã€ä½¿ç”¨çš„åº“ä»£ç \n/vendor Â ä¾èµ–çš„å¤–éƒ¨åº“ä»£ç \n/api Â OpenAPI/Swagger Specsã€JSON Schema æ–‡ä»¶ã€Protocol å®šä¹‰æ–‡ä»¶\n/web Â Web åº”ç”¨çš„ç‰¹æ®Šç»„ä»¶ï¼Œä¾‹å¦‚é™æ€èµ„äº§ã€æœåŠ¡å™¨ç«¯æ¨¡æ¿\n/configs Â é…ç½®æ–‡ä»¶æ¨¡æ¿ã€é»˜è®¤é…ç½®\n/init ç³»ç»Ÿåˆå§‹åŒ–ï¼ˆSystemdã€System V ç­‰ï¼‰é…ç½®ã€è¿›ç¨‹ç®¡ç†å™¨ï¼ˆSupervisorï¼‰é…ç½®\n/scripts Â æ‰§è¡Œæ„å»ºã€å®‰è£…ã€åˆ†æç­‰ä»»åŠ¡çš„è„šæœ¬\n/build Â æ‰“åŒ…å’Œ CI ç”¨ç›®å½•\n/package Â äº‘/å®¹å™¨/æ“ä½œç³»ç»Ÿçº§åˆ«çš„æ‰“åŒ…é…ç½®ä¿¡æ¯\n/ci Â æŒç»­é›†æˆé…ç½®ä¿¡æ¯\n/deployments Â IaaS/PaaS/å®¹å™¨ç¼–æ’çš„é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚ K8S èµ„æºå®šä¹‰ï¼Œæˆ–è€… Chart\n/test é¢å¤–çš„å¤–éƒ¨æµ‹è¯•åº”ç”¨ï¼Œä»¥åŠæµ‹è¯•æ•°æ®\n/docs è®¾è®¡æ–‡æ¡£ã€ç”¨æˆ·æ‰‹å†Œ\n/tools Â å·¥ç¨‹çš„æ”¯æŒæ€§å·¥å…·\n/examples Â ç¤ºä¾‹ä»£ç \n/assets Â èµ„äº§æ–‡ä»¶ï¼Œä¾‹å¦‚å›¾ç‰‡ã€å›¾æ ‡\n/githooks Â Git çš„é’©å­\næµ‹è¯•\nGo æä¾›äº†ä¸€ä¸ªè½»é‡çº§çš„æµ‹è¯•æ¡†æ¶ï¼Œæ­¤æ¡†æ¶ç”±teståŒ…å’Œgo testå‘½ä»¤ç»„æˆã€‚\nè¦ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªä»¥_test. goç»“å°¾çš„æºæ–‡ä»¶ã€‚è¯¥æ–‡ä»¶ä¸­åŒ…å«åä¸ºfunc TestXXX (t *testing. T)çš„å‡½æ•°ã€‚\næ³¨æ„ï¼šè¿è¡Œä¸€ä¸ªæµ‹è¯•æ–‡ä»¶æ—¶ï¼Œé‡Œé¢çš„æ‰€æœ‰å‡½æ•°åœ¨ä¸€ä¸ªè¿›ç¨‹å†…è°ƒç”¨å®Œæˆã€‚\nè¿œç¨‹åŒ…\nåŒ…çš„å¯¼å…¥è·¯å¾„å¯ä»¥ç”¨æ¥æè¿°å¦‚ä½•ä»æŸä¸ªç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆGit æˆ–è€… Mercurialï¼‰è·å–åŒ…çš„æºä»£ç ã€‚go å‘½ä»¤ä¼šè‡ªåŠ¨åŸºäºæ­¤è·¯å¾„ä»è¿œç¨‹ä»“åº“è‡ªåŠ¨æŠ“å–åŒ…ï¼ˆåŠå…¶ä¾èµ–çš„å…¶å®ƒåŒ…ï¼‰ï¼š\ngo get github. com/golang/example/hello\nå¦‚æœä¸Šè¿°åŒ…ä¸å­˜åœ¨äºæœ¬åœ°å·¥ä½œåŒºï¼Œåˆ™ go å‘½ä»¤ä¼šè‡ªåŠ¨ä¸‹è½½åˆ°å·¥ä½œåŒºã€‚å¦‚æœä¸Šè¿°åŒ…å·²ç»å­˜åœ¨ï¼Œåˆ™ go get çš„è¡Œä¸ºå’Œ go install ç›¸åŒã€‚\nGetter/Setter\nGo æ²¡æœ‰æä¾›ç»Ÿä¸€çš„ Getter/Setter æ”¯æŒï¼Œå‚è€ƒå¦‚ä¸‹æ–¹å¼ï¼š\ntype User struct {\nÂ Â Â Â // å­—æ®µå°å†™ï¼Œè¡¨ç¤ºä¸å¯¼å‡ºåˆ°åŒ…å¤–éƒ¨\nÂ Â Â Â name string\n}\nÂ \n// Getterï¼Œä¸éœ€è¦ Get å‰ç¼€\nfunc (user *User) Name () string {\nÂ Â Â Â return user. name\n}\nÂ \n// Setterï¼Œé€šå¸¸ä½¿ç”¨ Set å‰ç¼€\nfunc (user *User) SetName (name string) {\nÂ Â Â Â user. name = name\n}\næ¥å£åç§°\nä½œä¸ºæƒ¯ä¾‹ï¼Œå•æ–¹æ³•çš„æ¥å£ï¼Œå‘½åä½¿ç”¨-er åç¼€ï¼Œä¾‹å¦‚ Readerã€Writerã€Formatterã€‚\né©¼å³°å¼å¤§å°å†™\nå¦‚æœä¸€ä¸ªæ ‡è¯†ç¬¦åŒ…å«å¤šä¸ªå•è¯ï¼ŒGo ä¸­æƒ¯ä¾‹çš„æ–¹å¼æ˜¯ä½¿ç”¨ CamelCase æˆ–è€… camelCase é£æ ¼çš„é©¼å³°å¼å¤§å°å†™ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ä¸‹åˆ’çº¿ã€‚\næš´éœ²æ¥å£è€Œéå®ç°\nå¦‚æœæŸä¸ªç±»å‹ä»…ä»…æ˜¯ä¸ºäº†å®ç°ä¸€ä¸ªæ¥å£ï¼Œåˆ™åº”è¯¥å¯¼å‡ºæ¥å£ï¼Œè€Œéç±»å‹æœ¬èº«ã€‚ç„¶åä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºç±»å‹çš„å®ä¾‹ï¼š\n// æ¥å£\ntype Block interface {\nÂ Â Â Â BlockSize () int\nÂ Â Â Â Encrypt (src, dst []byte)\nÂ Â Â Â Decrypt (src, dst []byte)\n}\nÂ \ntype Stream interface {\nÂ Â Â Â XORKeyStream (dst, src []byte)\n}\nÂ \n// æ„é€ å‡½æ•°\nfunc NewCTR (block Block, iv []byte) Streamgcflags\nÂ \n// å®ç° ...\nå†…å­˜\nGo è¯­è¨€ä½¿ç”¨åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œè¿™å¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚è¦ç¼–å†™é«˜æ€§èƒ½çš„åº”ç”¨ç¨‹åºï¼Œåº”å½“å°½é‡é¿å…è§¦å‘ GCã€‚\nå†…å­˜é‡ç”¨å’Œå¯¹è±¡æ± \nåˆ©ç”¨ sync. Poolï¼Œé¢„å…ˆåˆ†é…å¥½ä¸€å—å†…å­˜ï¼Œç„¶ååå¤çš„ä½¿ç”¨å®ƒã€‚è¿™æ ·ä¸ä½† GC å‹åŠ›å°ï¼Œè€Œä¸” CPU ç¼“å­˜å‘½ä¸­æ›´é«˜ã€TLB æ•ˆç‡æ›´é«˜ï¼Œä»£ç çš„é€Ÿåº¦å¯èƒ½æå‡ 10 å€ã€‚\né¿å…ä½¿ç”¨æŒ‡é’ˆ\nå¼•ç”¨â€œå¤–éƒ¨â€å¯¹è±¡å…·æœ‰ä¸ç”Ÿä¿±æ¥çš„å¼€é”€ï¼š\n\n\næŒ‡å‘å¯¹è±¡éœ€è¦ 8 å­—èŠ‚\n\n\næ¯ä¸ªç‹¬ç«‹å¯¹è±¡å…·æœ‰éšè—çš„å†…å­˜å¼€é”€ï¼Œå¯èƒ½åœ¨ 8-16 å­—èŠ‚ä¹‹é—´\n\n\nä½¿ç”¨å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰æ•ˆç‡æ›´ä½ï¼Œå› ä¸º GC å†™å±éšœçš„å­˜åœ¨\n\n\nå› æ­¤ï¼Œå¦‚æœä¸éœ€è¦å…±äº« OtherStuffï¼Œä½¿ç”¨ä¸‹é¢çš„é£æ ¼ï¼š\ntype MyContainer struct {\nÂ Â inlineStruct OtherStuff\n}\nè€Œéï¼š\ntype MyContainer struct {\nÂ Â outoflineStruct *OtherStruct\n}\nä¸è¦æä¾›éœ€è¦å†…å­˜åˆ†é…çš„ API\nå€¾å‘äºï¼š\n// ç”±è°ƒç”¨è€…æä¾›ç¼“å†²\nfunc (r *Reader) Read (buf []byte) (int, error)\nè€Œä¸æ˜¯ï¼š\nfunc (r *Reader) Read () ([]byte, error)\nåè€…å¯èƒ½å¯¼è‡´å¤§é‡å†…å­˜åˆ†é…ã€‚\nå…³äº Goroutine\n\n\nGoroutineåŸºæœ¬ä¸Šåªæœ‰æ ˆçš„å¼€é”€ï¼Œä¸€å¼€å§‹æ ˆåªæœ‰ 2KB\n\n\nå°½ç®¡ Goroutine æˆæœ¬è¾ƒä½ï¼Œè¿˜æ˜¯è¦é¿å…åœ¨ä¸»è¦çš„è¯·æ±‚å¤„ç†è·¯å¾„ä¸Šåˆ›å»º Goroutineã€‚æå‰åˆ›å»º Goroutine å¹¶è®©å…¶ç­‰å¾…è¾“å…¥\n\n\nToString\nä¸ºä»»ä½•å‘½åç±»å‹å®ç°å¦‚ä¸‹ç­¾åçš„æ–¹æ³•ï¼Œå³å¯è·å¾—ç±»ä¼¼ Java çš„ toString () çš„åŠŸèƒ½ï¼š\npackage main\nimport &quot;fmt&quot;\nÂ \ntype bin int\nfunc (b bin) String () string {\nÂ Â Â Â Â Â Â Â return fmt.Sprintf (&quot;%b&quot;, b)\n}\nÂ \nfunc main () {\nÂ Â Â Â Â Â Â Â fmt.Println (bin (42))Â Â // 101010\n}\nè¿œç¨‹è°ƒè¯•\næ„å»ºé€‰é¡¹\nä¸ºäº†ä¿ç•™è°ƒè¯•ä¿¡æ¯ï¼Œä½ éœ€è¦åœ¨æ„å»ºæ—¶è®¾ç½®ç‰¹å®šçš„æ ‡è®°ï¼š\ngo build -i -a -o build/eb-rdbg -gcflags=&quot;all=-N -l&quot; -ldflags=&#039;-linkmode internal&#039;\nÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â -gcflags=&quot;-N -l&quot;Â Â # 1.10 ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œç”¨äºä¿ç•™è°ƒè¯•ä¿¡æ¯\nè¿è¡Œåº”ç”¨ç¨‹åº\nä½ éœ€è¦é€šè¿‡ dlv æ¥å¯åŠ¨è¢«è°ƒè¯•åº”ç”¨ç¨‹åºï¼Œdlv å…·æœ‰åå¤é‡å¯è¢«è°ƒè¯•ç¨‹åºçš„èƒ½åŠ›ï¼š\n# éœ€è¦é¢„å…ˆå®‰è£… dlv\ngo get -u github. com/derekparker/delve/cmd/dlv\n# å¯åŠ¨åº”ç”¨ç¨‹åº\ndlv --listen=: 2345 --headless=true --api-version=2 exec build/eb-rdbg\nè¿æ¥åˆ°åº”ç”¨ç¨‹åº\nä½ éœ€è¦è¿æ¥åˆ°è¢«è°ƒè¯•åº”ç”¨ç¨‹åºï¼š\ndlv connect localhost:2345\nå¦‚æœä½¿ç”¨ IDEï¼Œåˆ™æ›´åŠ ç®€å•ã€‚ä¾‹å¦‚å¯¹äº Golandï¼Œä½ åªéœ€è¦åˆ›å»ºä¸€ä¸ª Go Remote ç±»å‹çš„ Run Configuration å³å¯ã€‚\nè°ƒè¯•å‘½ä»¤\nè¿æ¥åˆ°è¢«è°ƒè¯•åº”ç”¨ç¨‹åºåï¼Œä½ ä¼šçœ‹åˆ°(dlv)å‘½ä»¤æç¤ºç¬¦ï¼Œä»¥ä¸‹å‘½ä»¤å¯ç”¨ï¼š\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nÂ å‘½ä»¤è¯´æ˜hhelpæ˜¾ç¤ºå‘½ä»¤åˆ—è¡¨ï¼Œæˆ–è€…æ˜¾ç¤ºæŸä¸ªå‘½ä»¤çš„å¸®åŠ©ï¼š# æ˜¾ç¤ºå‘½ä»¤åˆ—è¡¨help# æ˜¾ç¤º config å‘½ä»¤çš„å¸®åŠ©ä¿¡æ¯help configÂ configè¿›è¡Œ dlv é…ç½®ï¼š# åˆ—å‡ºé…ç½®config -listÂ # ä¿å­˜ä½ç½®åˆ°ç£ç›˜ï¼Œè¦†ç›–å½“å‰é…ç½®æ–‡ä»¶config -saveç¤ºä¾‹ï¼š# è¿›è¡Œæºç è·¯å¾„æ˜ å°„config substitute-path /go/src /home/alex/Go/workspaces/default/srcÂ bbreakè®¾ç½®æ–­ç‚¹ï¼Œæ ¼å¼ï¼šbreak [name] &lt; linespec&gt;å…¶ä¸­ linespec æ ¼å¼å¯ä»¥æ˜¯ï¼š1. &lt; address&gt;ï¼Œå†…å­˜åœ°å€2. &lt; filename&gt;:&lt; line&gt;ï¼Œæ–‡ä»¶è·¯å¾„å’Œè¡Œå·ï¼Œæ–‡ä»¶è·¯å¾„å¯ä»¥æ˜¯éƒ¨åˆ†è·¯å¾„ï¼Œç”šè‡³ä»…ä»…æ˜¯ basenameï¼Œåªè¦ä¸äº§ç”Ÿæ­§ä¹‰å³å¯3. +&lt; offset&gt;ï¼Œå½“å‰è¡Œçš„åé¢ N è¡Œ4. -&lt; offset&gt;ï¼Œå½“å‰è¡Œçš„å‰é¢ N è¡Œ5. &lt; function&gt;[:&lt; line&gt;]ï¼ŒæŒ‡å®šå‡½æ•°çš„ç¬¬ N è¡Œï¼Œå‡½æ•°çš„å®Œæ•´å½¢å¼&lt; package&gt;. (&lt; receiver type&gt;).&lt; function name&gt;ï¼Œä½†æ˜¯ä»…ä»… function name æ˜¯å¿…é¡»çš„ï¼Œå…¶å®ƒçš„å¯ä»¥çœç•¥ï¼ˆåªè¦ä¸äº§ç”Ÿæ­§ä¹‰ï¼‰6. /&lt; regex&gt;/ï¼ŒåŒ¹é…æ­£åˆ™å¼çš„ä½ç½®ç¤ºä¾‹ï¼šb pkg/cmd/cli/restic/server. go:156Â condconditionè®¾ç½®æ¡ä»¶å¼æ–­ç‚¹ï¼šcondition &lt; breakpoint name or id&gt; &lt; boolean expression&gt;bpbreakpointsåˆ—å‡ºæ–­ç‚¹clearåˆ é™¤ä¸€ä¸ªæ–­ç‚¹ï¼šclear &lt; breakpoint name or id&gt;clearallåˆ é™¤å…¨éƒ¨æ–­ç‚¹onåˆ°è¾¾æ–­ç‚¹æ—¶æ‰§è¡Œå‘½ä»¤ï¼šon &lt; breakpoint name or id&gt; &lt; command&gt;ï¼Œå¯ç”¨å‘½ä»¤ print, stack, goroutineccontinueæ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ï¼Œæˆ–è€…ç¨‹åºç»“æŸlocalsæ‰“å°æœ¬åœ°å˜é‡ï¼š[goroutine &lt; n&gt;] [frame &lt; m&gt;] locals [-v] [&lt; regex&gt;]varsæ‰“å°åŒ…å˜é‡ï¼švars [-v] [&lt; regex&gt;]printä¼°ç®—ä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼š[goroutine &lt; n&gt;] [frame &lt; m&gt;] print &lt; expression&gt;whatisæ‰“å°è¡¨è¾¾å¼çš„ç±»å‹ï¼šwhatis &lt; expression&gt;setè®¾ç½®å˜é‡çš„å€¼ï¼š[goroutine &lt; n&gt;] [frame &lt; m&gt;] set &lt; variable&gt; = &lt; value&gt;nnextStep Overï¼šnext [count]ï¼Œcount æŒ‡å®šå‰è¿›å¤šå°‘è¡Œsstepå•æ­¥è·Ÿè¸ªï¼Œé‡åˆ°å‡½æ•°ä¼šè‡ªåŠ¨ Step IntosostepoutStep Outbtstackæ‰“å°å½“å‰è°ƒç”¨æ ˆupå‘ä¸Šç§»åŠ¨å¸§ï¼Œå¯ä»¥åŒæ—¶æŒ‡å®šåœ¨å…¶ä¸Šæ‰§è¡Œå‘½ä»¤ï¼šup [&lt; m&gt;] &lt; command&gt;downå‘ä¸‹ç§»åŠ¨å¸§ï¼Œå¯ä»¥åŒæ—¶æŒ‡å®šåœ¨å…¶ä¸Šæ‰§è¡Œå‘½ä»¤ï¼šdown [&lt; m&gt;] &lt; command&gt;frameè®¾ç½®å½“å‰å¸§ï¼Œæˆ–è€…åœ¨ä¸€ä¸ªæŒ‡å®šçš„å¸§ä¸Šæ‰§è¡Œå‘½ä»¤ï¼šframe &lt; m&gt; &lt; command&gt;lliståˆ—å‡ºå½“å‰è°ƒç”¨æ ˆå¯¹åº”çš„æºç ä¹Ÿå¯ä»¥æŒ‡å®šåˆ—å‡ºä»»ä½•åç¨‹çš„æºç ï¼š[goroutine &lt; n&gt;] [frame &lt; m&gt;] list [&lt; linespec&gt;]funcsåˆ—å‡ºå‡½æ•°ï¼Œä¸€èˆ¬éƒ½è¦å¸¦æ­£åˆ™å¼ï¼Œå¦åˆ™å¤ªå¤šäº†ï¼šgrgoroutineæ˜¾ç¤ºåç¨‹ï¼Œæˆ–è€…åˆ‡æ¢å½“å‰åç¨‹ï¼šgoroutine &lt; id&gt; &lt; command&gt;grsgoroutinesåˆ—å‡ºæ‰€æœ‰åç¨‹librariesåˆ—å‡ºåŠ è½½çš„åŠ¨æ€åº“sourcesåˆ—å‡ºæ‰€æœ‰æºæ–‡ä»¶æ¸…å•restarté‡å¯è¢«è°ƒè¯•è¿›ç¨‹ï¼Œdlv è¿›ç¨‹ä¿æŒä¸å˜qexité€€å‡ºè°ƒè¯•å®¢æˆ·ç«¯deferredåœ¨å»¶è¿Ÿè°ƒç”¨ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œå‘½ä»¤argsæ‰“å°ç¨‹åºå‚æ•°disassembleæ‰§è¡Œåæ±‡ç¼–regsæ‰“å°å¯„å­˜å™¨å†…å®¹\nå¸¸è§é—®é¢˜\né›¶æ•£é—®é¢˜\nç¼–è¯‘æŠ¥é”™ cannot loadâ€¦ but does not contain package\nä½¿ç”¨å‘½ä»¤go mod tidyå¯ä»¥å‘ç°æ ¹æºã€‚\nè°ƒç”¨åŒ…å†…å‡½æ•°æç¤º undefiend\nåŸå› æ˜¯æ„å»ºæ—¶æ²¡æœ‰å¼•ç”¨ç›®æ ‡å‡½æ•°æ‰€åœ¨æ–‡ä»¶ï¼Œå¯ä»¥è¿™æ ·è¿›è¡Œæ„å»ºï¼š\ngo build *. go\nå®¹å™¨å†…æŠ¥é”™ no such file or directory\næ‰¾ä¸åˆ°å¯æ‰§è¡Œæ–‡ä»¶ï¼šcould not launch process: fork/exec /eb-rdbg: no such file or directory\nå®é™…ä¸Šæ­¤æ–‡ä»¶æ˜¯å­˜åœ¨çš„ï¼Œåªæ˜¯äºŒè¿›åˆ¶æ ¼å¼ä¸æ”¯æŒã€‚CGO_ENABLED=0 åå‘ç°è§£å†³ã€‚\ngo get ç§æœ‰ä»“åº“æŠ¥é”™ disabled by GOPRIVATE/GONOPROXY\nå‘½ä»¤ï¼šgo get -u git. pacloud. io/pks/ addons-api-server@develop\næŠ¥é”™åŸå› ï¼šå¯èƒ½å› ä¸ºæ‰§è¡Œå‘½ä»¤æ—¶ Gitlab æ­£åœ¨å¤„ç† develop åˆ†æ”¯çš„ Push\nchecksum mismatch\nåŸºäº Go Modules è¿›è¡Œæ„å»ºï¼Œæˆ–è€…æ‰§è¡Œå‘½ä»¤go mod tinyå¯èƒ½äº§ç”Ÿæ­¤é”™è¯¯ã€‚å¯èƒ½éœ€è¦æ¸…é™¤ mod ç¼“å­˜é‡æ–°ä¸‹è½½ï¼š\ngo clean -modcache\ncd project &amp;&amp; rm go. sum\ngo mod tidy"},"Aè®¡ç§‘å·¥ç¨‹/ç¼–ç¨‹è¯­è¨€/Go/å­—ç¬¦ä¸²":{"title":"å­—ç¬¦ä¸²","links":[],"tags":[],"content":"Golang å­—ç¬¦ä¸²\nå­—ç¬¦ä¸²æ‹¼æ¥1\nå¸¸è§æ–¹æ³•\n\nä½¿ç”¨+\nä½¿ç”¨fmt.Sprintf\nä½¿ç”¨strings.Builder\nä½¿ç”¨bytes.Buffer\nä½¿ç”¨[]byte\nä½¿ç”¨strings.Join\n\nå‚è€ƒé“¾æ¥\nFootnotes\n\n\ngeektutu.com/post/hpg-string-concat.html â†©\n\n\n"},"Aè®¡ç§‘å·¥ç¨‹/ç¼–ç¨‹è¯­è¨€/Lua/Lua-ç¬”è®°":{"title":"Lua ç¬”è®°","links":["/"],"tags":[],"content":"åŸºæœ¬è¯­æ³•\næ³¨é‡Š\n\nå•è¡Œæ³¨é‡Šï¼š-- å•è¡Œæ³¨é‡Š\nå¤šè¡Œæ³¨é‡Šï¼š--[[ å¤šè¡Œæ³¨é‡Š ]]--\n\nå…³é”®è¯\nä»¥ä¸‹åˆ—å‡ºäº† lua çš„ä¿ç•™å…³é”®è¯ã€‚ä¿ç•™å…³é”®å­—ä¸èƒ½ä½œä¸ºå¸¸é‡æˆ–å˜é‡æˆ–å…¶ä»–ç”¨æˆ·è‡ªå®šä¹‰æ ‡ç¤ºç¬¦ï¼š\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nandbreakdoelseelseifendfalseforfunctionifinlocalnilnotorrepeatreturnthentrueuntilwhilegoto\næ•°æ®ç±»å‹\nLua æ˜¯åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œå˜é‡ä¸è¦ç±»å‹å®šä¹‰ï¼Œåªéœ€è¦ä¸ºå˜é‡èµ‹å€¼ã€‚å€¼å¯ä»¥å­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œ\r\nä½œä¸ºå‚æ•°ä¼ é€’æˆ–ç»“æœè¿”å›ã€‚\nLua ä¸­æœ‰ 8 ä¸ªåŸºæœ¬ç±»å‹åˆ†åˆ«ä¸ºï¼šnilã€booleanã€numberã€stringã€userdataã€functionã€\r\nthread å’Œ table.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\næ•°æ®ç±»å‹æè¿°nilè¿™ä¸ªæœ€ç®€å•ï¼Œåªæœ‰å€¼ nil å±äºè¯¥ç±»ï¼Œè¡¨ç¤ºä¸€ä¸ªæ— æ•ˆå€¼ï¼ˆåœ¨æ¡ä»¶è¡¨è¾¾å¼ä¸­ç›¸å½“äº falseï¼‰.booleanfalse, truenumberè¡¨ç¤ºåŒç²¾åº¦ç±»å‹çš„å®æµ®ç‚¹æ•°stringå­—ç¬¦ä¸²ç”±ä¸€å¯¹åŒå¼•å·æˆ–å•å¼•å·æ¥è¡¨ç¤ºfunctionç”± C æˆ– Lua ç¼–å†™çš„å‡½æ•°userdataè¡¨ç¤ºä»»æ„å­˜å‚¨åœ¨å˜é‡ä¸­çš„ C æ•°æ®ç»“æ„threadè¡¨ç¤ºæ‰§è¡Œçš„ç‹¬ç«‹çº¿è·¯ï¼Œç”¨äºæ‰§è¡ŒååŒç¨‹åºtableLua ä¸­çš„è¡¨ï¼ˆtableï¼‰å…¶å®æ˜¯ä¸€ä¸ªâ€å…³è”æ•°ç»„â€ï¼ˆassociative arraysï¼‰, æ•°ç»„çš„ç´¢å¼•å¯ä»¥æ˜¯æ•°å­—ã€å­—ç¬¦ä¸²æˆ–è¡¨ç±»å‹ã€‚\nåœ¨ lua é‡Œï¼Œtable çš„åˆ›å»ºæ˜¯é€šè¿‡â€æ„é€ è¡¨è¾¾å¼â€æ¥å®Œæˆï¼Œæœ€ç®€å•æ„é€ è¡¨è¾¾å¼æ˜¯{}ï¼Œç”¨æ¥åˆ›å»ºä¸€ä¸ªç©ºè¡¨ã€‚\nå˜é‡\nåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œlua ä¸­çš„å˜é‡æ€»æ˜¯è®¤ä¸ºæ˜¯å…¨å±€çš„ã€‚\nå…¨å±€å˜é‡ä¸éœ€è¦å£°æ˜ï¼Œç»™ä¸€ä¸ªå˜é‡èµ‹å€¼åå³åˆ›å»ºäº†è¿™ä¸ªå…¨å±€å˜é‡ï¼Œè®¿é—®ä¸€ä¸ªæ²¡æœ‰åˆå§‹åŒ–çš„\r\nå…¨å±€å˜é‡ä¹Ÿä¸ä¼šå‡ºé”™ï¼Œåªä¸è¿‡å¾—åˆ°çš„ç»“æœæ˜¯ï¼šnil.\nå¦‚æœä½ æƒ³åˆ é™¤ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œåªéœ€è¦å°†å˜é‡èµ‹å€¼ä¸º nil.\nå˜é‡åœ¨ä½¿ç”¨å‰ï¼Œéœ€è¦åœ¨ä»£ç ä¸­è¿›è¡Œå£°æ˜ï¼Œå³åˆ›å»ºè¯¥å˜é‡ã€‚\nç¼–è¯‘ç¨‹åºæ‰§è¡Œä»£ç ä¹‹å‰ç¼–è¯‘å™¨éœ€è¦çŸ¥é“å¦‚ä½•ç»™è¯­å¥å˜é‡å¼€è¾Ÿå­˜å‚¨åŒºï¼Œç”¨äºå­˜å‚¨å˜é‡çš„å€¼ã€‚\nLua å˜é‡æœ‰ä¸‰ç§ç±»å‹ï¼šå…¨å±€å˜é‡ã€å±€éƒ¨å˜é‡ã€è¡¨ä¸­çš„åŸŸã€‚\nLua ä¸­çš„å˜é‡å…¨æ˜¯å…¨å±€å˜é‡, å“ªæ€•æ˜¯è¯­å¥å—æˆ–æ˜¯å‡½æ•°é‡Œï¼Œé™¤éç”¨ local æ˜¾å¼å£°æ˜ä¸ºå±€éƒ¨å˜é‡ã€‚\nå±€éƒ¨å˜é‡çš„ä½œç”¨åŸŸä¸ºä»å£°æ˜ä½ç½®å¼€å§‹åˆ°æ‰€åœ¨è¯­å¥å—ç»“æŸã€‚\nå˜é‡çš„é»˜è®¤å€¼å‡ä¸º nil.\nèµ‹å€¼è¯­å¥\nèµ‹å€¼æ˜¯æ”¹å˜ä¸€ä¸ªå˜é‡çš„å€¼å’Œæ”¹å˜è¡¨åŸŸçš„æœ€åŸºæœ¬çš„æ–¹æ³•ã€‚\na = &quot;hello&quot; .. &quot;world&quot;\nt.n = t.n + 1\nLua å¯ä»¥å¯¹å¤šä¸ªå˜é‡åŒæ—¶èµ‹å€¼ï¼Œå˜é‡åˆ—è¡¨å’Œå€¼åˆ—è¡¨çš„å„ä¸ªå…ƒç´ ç”¨é€—å·åˆ†å¼€ï¼Œèµ‹å€¼è¯­å¥å³è¾¹çš„\r\nå€¼ä¼šä¾æ¬¡èµ‹ç»™å·¦è¾¹çš„å˜é‡ã€‚\na, b = 10, 2*x       &lt;--&gt;       a=10; b=2*x\né‡åˆ°èµ‹å€¼è¯­å¥ Lua ä¼šå…ˆè®¡ç®—å³è¾¹æ‰€æœ‰çš„å€¼ç„¶åå†æ‰§è¡Œèµ‹å€¼æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·è¿›è¡Œäº¤æ¢å˜é‡çš„å€¼ï¼š\nx, y = y, x                     -- swap &#039;x&#039; for &#039;y&#039;\na[i], a[j] = a[j], a[i]         -- swap &#039;a[i]&#039; for &#039;a[j]&#039;\nå½“å˜é‡ä¸ªæ•°å’Œå€¼çš„ä¸ªæ•°ä¸ä¸€è‡´æ—¶ï¼ŒLua ä¼šä¸€ç›´ä»¥å˜é‡ä¸ªæ•°ä¸ºåŸºç¡€é‡‡å–ä»¥ä¸‹ç­–ç•¥ï¼š\r\na. å˜é‡ä¸ªæ•° &gt; å€¼çš„ä¸ªæ•° æŒ‰å˜é‡ä¸ªæ•°è¡¥è¶³ nil\r\nb. å˜é‡ä¸ªæ•° &lt; å€¼çš„ä¸ªæ•° å¤šä½™çš„å€¼ä¼šè¢«å¿½ç•¥\nå¾ªç¯è¯­å¥\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nå¾ªç¯ç±»å‹æè¿°whileåœ¨æ¡ä»¶ä¸º true æ—¶ï¼Œè®©ç¨‹åºé‡å¤åœ°æ‰§è¡ŒæŸäº›è¯­å¥ã€‚foré‡å¤æ‰§è¡ŒæŒ‡å®šè¯­å¥ï¼Œé‡å¤æ¬¡æ•°å¯åœ¨ for è¯­å¥ä¸­æ§åˆ¶ã€‚repeat untilé‡å¤æ‰§è¡Œå¾ªç¯ï¼Œç›´åˆ° æŒ‡å®šçš„æ¡ä»¶ä¸ºçœŸæ—¶ä¸ºæ­¢\nwhile å¾ªç¯\nwhile(condition)\ndo\n   statements\nend\na=10\nwhile( a &lt; 20 )\ndo\nÂ  Â print(&quot;a çš„å€¼ä¸º:&quot;, a)\nÂ  Â a = a+1\nend\nfor å¾ªç¯\n\næ•°å€¼ for å¾ªç¯ï¼š\n\nfor var=exp1,exp2,exp3 do\n    &lt;æ‰§è¡Œä½“&gt;\nend\nvar ä» exp1 å˜åŒ–åˆ° exp2, æ¯æ¬¡å˜åŒ–ä»¥ exp3 ä¸ºæ­¥é•¿é€’å¢ varï¼Œå¹¶æ‰§è¡Œä¸€æ¬¡ â€œæ‰§è¡Œä½“â€.\r\nexp3 æ˜¯å¯é€‰çš„ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤ä¸º 1ã€‚\nfor i=1,f(x) do\nÂ  Â  print(i)\nend\nÂ \nfor i=10,1,-1 do\nÂ  Â  print(i)\nend\nfor çš„ä¸‰ä¸ªè¡¨è¾¾å¼åœ¨å¾ªç¯å¼€å§‹å‰ä¸€æ¬¡æ€§æ±‚å€¼ï¼Œä»¥åä¸å†è¿›è¡Œæ±‚å€¼ã€‚æ¯”å¦‚ä¸Šé¢çš„ f(x) åªä¼š\r\nåœ¨å¾ªç¯å¼€å§‹å‰æ‰§è¡Œä¸€æ¬¡ï¼Œå…¶ç»“æœç”¨åœ¨åé¢çš„å¾ªç¯ä¸­ã€‚\néªŒè¯å¦‚ä¸‹ï¼š\n#!/usr/local/bin/lua Â \nfunction f(x) Â \nÂ  Â  print(&quot;function&quot;) Â \nÂ  Â  return x*2 Â \nend Â \nfor i=1,f(5) do print(i) Â \nend\nä»¥ä¸Šè¾“å‡ºç»“æœä¸ºï¼š\nfunction\r\n1\r\n2\r\n3\r\n4\r\n5\r\n6\r\n7\r\n8\r\n9\r\n10\n\n\næ³›å‹ for å¾ªç¯ï¼š\r\næ³›å‹ for å¾ªç¯é€šè¿‡ä¸€ä¸ªè¿­ä»£å™¨å‡½æ•°æ¥éå†æ‰€æœ‰å€¼ï¼Œç±»ä¼¼ java ä¸­çš„ foreach è¯­å¥ã€‚\n\nLua ç¼–ç¨‹è¯­è¨€ä¸­æ³›å‹ for å¾ªç¯è¯­æ³•æ ¼å¼ï¼š\n--æ‰“å°æ•°ç»„açš„æ‰€æœ‰å€¼\na = {&quot;one&quot;, &quot;two&quot;, &quot;three&quot;}\nfor i, v in ipairs(a) do\nÂ Â Â Â print(i, v)\nend\ni æ˜¯æ•°ç»„ç´¢å¼•å€¼ï¼Œv æ˜¯å¯¹åº”ç´¢å¼•çš„æ•°ç»„å…ƒç´ å€¼ã€‚ipairs æ˜¯ Lua æä¾›çš„ä¸€ä¸ªè¿­ä»£å™¨å‡½æ•°ï¼Œ\r\nç”¨æ¥è¿­ä»£æ•°ç»„ã€‚\nå¾ªç¯æ•°ç»„ daysï¼š\n#!/usr/local/bin/lua Â \ndays = {&quot;Sunday&quot;,&quot;Monday&quot;,&quot;Tuesday&quot;,&quot;Wednesday&quot;,&quot;Thursday&quot;,&quot;Friday&quot;,&quot;Saturday&quot;} Â \nfor i,v in ipairs(days) do Â print(v) end Â \nä»¥ä¸Šå®ä¾‹è¾“å‡ºç»“æœä¸ºï¼š\nSunday\r\nMonday\r\nTuesday\r\nWednesday\r\nThursday\r\nFriday\r\nSaturday\n\nrepeat\nLua ç¼–ç¨‹è¯­è¨€ä¸­ repeatâ€¦until å¾ªç¯è¯­å¥ä¸åŒäº for å’Œ while å¾ªç¯ï¼Œfor å’Œ while\r\nå¾ªç¯çš„æ¡ä»¶è¯­å¥åœ¨å½“å‰å¾ªç¯æ‰§è¡Œå¼€å§‹æ—¶åˆ¤æ–­ï¼Œè€Œ repeatâ€¦until å¾ªç¯çš„æ¡ä»¶è¯­å¥åœ¨å½“å‰\r\nå¾ªç¯ç»“æŸååˆ¤æ–­ã€‚\nrepeat\n   statements\nuntil( condition )\n--[ å˜é‡å®šä¹‰ --]\naÂ =Â 10\n--[ æ‰§è¡Œå¾ªç¯ --]\nrepeat\nÂ  Â print(&quot;açš„å€¼ä¸º:&quot;,Â a)\nÂ  Â aÂ =Â aÂ +Â 1\nuntil(Â aÂ &gt;Â 15Â )\nå¾ªç¯æ§åˆ¶\n\n\nbreak\r\né€€å‡ºå½“å‰å¾ªç¯æˆ–è¯­å¥ï¼Œå¹¶å¼€å§‹è„šæœ¬æ‰§è¡Œç´§æ¥ç€çš„è¯­å¥ã€‚\n\n\ngoto\r\nå°†ç¨‹åºçš„æ§åˆ¶ç‚¹è½¬ç§»åˆ°ä¸€ä¸ªæ ‡ç­¾å¤„ã€‚:: Label ::\n\n\nlocalÂ aÂ =Â 1\n::label::Â print(&quot;--- goto label ---&quot;)\n \naÂ =Â a+1\nifÂ aÂ &lt;Â 3Â then\nÂ  Â  goto label Â Â -- a å°äº 3 çš„æ—¶å€™è·³è½¬åˆ°æ ‡ç­¾ label\nend\næµç¨‹æ§åˆ¶\nLua ç¼–ç¨‹è¯­è¨€æµç¨‹æ§åˆ¶è¯­å¥é€šè¿‡ç¨‹åºè®¾å®šä¸€ä¸ªæˆ–å¤šä¸ªæ¡ä»¶è¯­å¥æ¥è®¾å®šã€‚åœ¨æ¡ä»¶ä¸º true æ—¶\r\næ‰§è¡ŒæŒ‡å®šç¨‹åºä»£ç ï¼Œåœ¨æ¡ä»¶ä¸º false æ—¶æ‰§è¡Œå…¶ä»–æŒ‡å®šä»£ç ã€‚\n--[ 0 ä¸º true ]\nif(0)\nthen\nÂ  Â Â print(&quot;0 ä¸º true&quot;)\nend\n--[ å®šä¹‰å˜é‡ --]\naÂ =Â 100;\n--[ æ£€æŸ¥æ¡ä»¶ --]\nif(Â aÂ &lt;Â 20Â )\nthen\nÂ  Â --[ if æ¡ä»¶ä¸º true æ—¶æ‰§è¡Œè¯¥è¯­å¥å— --]\nÂ  Â print(&quot;a å°äº 20&quot;Â )\nelse\nÂ  Â --[ if æ¡ä»¶ä¸º false æ—¶æ‰§è¡Œè¯¥è¯­å¥å— --]\nÂ  Â print(&quot;a å¤§äº 20&quot;Â )\nend\nprint(&quot;a çš„å€¼ä¸º :&quot;,Â a)\n--[ å®šä¹‰å˜é‡ --]\naÂ =Â 100\n \n--[ æ£€æŸ¥å¸ƒå°”æ¡ä»¶ --]\nif(Â aÂ ==Â 10Â )\nthen\nÂ  Â --[ å¦‚æœæ¡ä»¶ä¸º true æ‰“å°ä»¥ä¸‹ä¿¡æ¯ --]\nÂ  Â print(&quot;a çš„å€¼ä¸º 10&quot;Â )\nelseif(Â aÂ ==Â 20Â )\nthenÂ Â \nÂ  Â --[ if else if æ¡ä»¶ä¸º true æ—¶æ‰“å°ä»¥ä¸‹ä¿¡æ¯ --]\nÂ  Â print(&quot;a çš„å€¼ä¸º 20&quot;Â )\nelseif(Â aÂ ==Â 30Â )\nthen\nÂ  Â --[ if else if condition æ¡ä»¶ä¸º true æ—¶æ‰“å°ä»¥ä¸‹ä¿¡æ¯ --]\nÂ  Â print(&quot;a çš„å€¼ä¸º 30&quot;Â )\nelse\nÂ  Â --[ ä»¥ä¸Šæ¡ä»¶è¯­å¥æ²¡æœ‰ä¸€ä¸ªä¸º true æ—¶æ‰“å°ä»¥ä¸‹ä¿¡æ¯ --]\nÂ  Â print(&quot;æ²¡æœ‰åŒ¹é… a çš„å€¼&quot;Â )\nend\nprint(&quot;a çš„çœŸå®å€¼ä¸º: &quot;,Â aÂ )\nå‡½æ•°\nåœ¨ lua ä¸­ï¼Œå‡½æ•°æ˜¯å¯¹è¯­å¥å’Œè¡¨è¾¾å¼è¿›è¡ŒæŠ½è±¡çš„ä¸»è¦æ–¹æ³•ã€‚æ—¢å¯ä»¥ç”¨æ¥å¤„ç†ä¸€äº›ç‰¹æ®Šçš„å·¥ä½œï¼Œ\r\nä¹Ÿå¯ä»¥ç”¨æ¥è®¡ç®—ä¸€äº›å€¼ã€‚\nLua æä¾›äº†è®¸å¤šçš„å†…å»ºå‡½æ•°ï¼Œä½ å¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨ç¨‹åºä¸­è°ƒç”¨å®ƒä»¬ï¼Œå¦‚ print() å‡½æ•°å¯ä»¥å°†\r\nä¼ å…¥çš„å‚æ•°æ‰“å°åœ¨æ§åˆ¶å°ä¸Šã€‚\nLua å‡½æ•°ä¸»è¦æœ‰ä¸¤ç§ç”¨é€”ï¼š\n\n1.å®ŒæˆæŒ‡å®šçš„ä»»åŠ¡ï¼Œè¿™ç§æƒ…å†µä¸‹å‡½æ•°ä½œä¸ºè°ƒç”¨è¯­å¥ä½¿ç”¨ï¼›\n2.è®¡ç®—å¹¶è¿”å›å€¼ï¼Œè¿™ç§æƒ…å†µä¸‹å‡½æ•°ä½œä¸ºèµ‹å€¼è¯­å¥çš„è¡¨è¾¾å¼ä½¿ç”¨ã€‚\n\nLua ç¼–ç¨‹è¯­è¨€å‡½æ•°å®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š\noptional_function_scope function function_name( argument1, argument2, argument3..., argumentn)\nÂ Â Â Â function_body\nÂ Â Â Â return result_params_comma_separated\nend\nè§£æï¼š\n\noptional_function_scope:Â è¯¥å‚æ•°æ˜¯å¯é€‰çš„åˆ¶å®šå‡½æ•°æ˜¯å…¨å±€å‡½æ•°è¿˜æ˜¯å±€éƒ¨å‡½æ•°ï¼Œ\r\næœªè®¾ç½®è¯¥å‚æ•°é»˜è®¤ä¸ºå…¨å±€å‡½æ•°ï¼Œå¦‚æœä½ éœ€è¦è®¾ç½®å‡½æ•°ä¸ºå±€éƒ¨å‡½æ•°éœ€è¦ä½¿ç”¨å…³é”®å­—Â local.\nfunction_name:Â æŒ‡å®šå‡½æ•°åç§°ã€‚\nargument1, argument2, argument3â€¦, argumentn:Â å‡½æ•°å‚æ•°ï¼Œå¤šä¸ªå‚æ•°ä»¥é€—å·éš”å¼€ï¼Œå‡½æ•°ä¹Ÿå¯ä»¥ä¸å¸¦å‚æ•°ã€‚\nfunction_body:Â å‡½æ•°ä½“ï¼Œå‡½æ•°ä¸­éœ€è¦æ‰§è¡Œçš„ä»£ç è¯­å¥å—ã€‚\nresult_params_comma_separated:Â å‡½æ•°è¿”å›å€¼ï¼ŒLua è¯­è¨€å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼ï¼Œæ¯ä¸ªå€¼ä»¥é€—å·éš”å¼€ã€‚\n\nå¤šè¿”å›å€¼\nLua å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªç»“æœå€¼ã€‚\nå¯å˜å‚æ•°\nLua å‡½æ•°å¯ä»¥æ¥å—å¯å˜æ•°ç›®çš„å‚æ•°ï¼Œåœ¨å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­ä½¿ç”¨...è¡¨ç¤ºå‡½æ•°æœ‰å¯å˜çš„å‚æ•°ã€‚\nfunction average(...)\n   result = 0\n   local arg={...}    --&gt; arg ä¸ºä¸€ä¸ªè¡¨ï¼Œå±€éƒ¨å˜é‡\n   for i,v in ipairs(arg) do\n      result = result + v\n   end\n   print(&quot;æ€»å…±ä¼ å…¥ &quot; .. #arg .. &quot; ä¸ªæ•°&quot;)\n   return result/#arg\nend\n \nprint(&quot;å¹³å‡å€¼ä¸º&quot;,average(10,5,3,4,5,6))\nç»“æœï¼š\næ€»å…±ä¼ å…¥ 6 ä¸ªæ•°\nå¹³å‡å€¼ä¸º    5.5\nè¿ç®—ç¬¦\nç®—æœ¯è¿ç®—ç¬¦\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\næ“ä½œç¬¦æè¿°å®ä¾‹+åŠ æ³•A + B è¾“å‡ºç»“æœ 30-å‡æ³•A - B è¾“å‡ºç»“æœ -10*ä¹˜æ³•A * B è¾“å‡ºç»“æœ 200/é™¤æ³•B / A è¾“å‡ºç»“æœ 2%å–ä½™B % A è¾“å‡ºç»“æœ 0^ä¹˜å¹‚A^2 è¾“å‡ºç»“æœ 100-è´Ÿå·-A è¾“å‡ºç»“æœ -10//æ•´é™¤è¿ç®—ç¬¦ (&gt;=lua5.3)5//2 è¾“å‡ºç»“æœ 2\nå…³ç³»è¿ç®—ç¬¦\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\næ“ä½œç¬¦æè¿°å®ä¾‹==ç­‰äºï¼Œæ£€æµ‹ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› trueï¼Œå¦åˆ™è¿”å› false(A == B) ä¸º falseã€‚~=ä¸ç­‰äºï¼Œæ£€æµ‹ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› trueï¼Œå¦åˆ™è¿”å› false(A ~= B) ä¸º trueã€‚&gt;å¤§äºï¼Œå¦‚æœå·¦è¾¹çš„å€¼å¤§äºå³è¾¹çš„å€¼ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› false(A &gt; B) ä¸º falseã€‚&lt;å°äºï¼Œå¦‚æœå·¦è¾¹çš„å€¼å¤§äºå³è¾¹çš„å€¼ï¼Œè¿”å› falseï¼Œå¦åˆ™è¿”å› true(A &lt; B) ä¸º trueã€‚&gt;=å¤§äºç­‰äºï¼Œå¦‚æœå·¦è¾¹çš„å€¼å¤§äºç­‰äºå³è¾¹çš„å€¼ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› false(A &gt;= B) è¿”å› falseã€‚â‡å°äºç­‰äºï¼Œå¦‚æœå·¦è¾¹çš„å€¼å°äºç­‰äºå³è¾¹çš„å€¼ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› false(A â‡ B) è¿”å› trueã€‚\né€»è¾‘è¿ç®—ç¬¦\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\næ“ä½œç¬¦æè¿°å®ä¾‹andé€»è¾‘ä¸æ“ä½œç¬¦ã€‚è‹¥ A ä¸º falseï¼Œåˆ™è¿”å› Aï¼Œå¦åˆ™è¿”å› Bã€‚(A and B) ä¸º falseã€‚oré€»è¾‘æˆ–æ“ä½œç¬¦ã€‚è‹¥ A ä¸º trueï¼Œåˆ™è¿”å› Aï¼Œå¦åˆ™è¿”å› Bã€‚(A or B) ä¸º trueã€‚noté€»è¾‘éæ“ä½œç¬¦ã€‚ä¸é€»è¾‘è¿ç®—ç»“æœç›¸åï¼Œå¦‚æœæ¡ä»¶ä¸º trueï¼Œé€»è¾‘éä¸º falseã€‚not(A and B) ä¸º trueã€‚\nå…¶ä»–è¿ç®—ç¬¦\n\n.. è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²\n# ä¸€å…ƒè¿ç®—ç¬¦ï¼Œè¿”å›å­—ç¬¦ä¸²æˆ–è¡¨çš„é•¿åº¦\n\nå­—ç¬¦ä¸²\nå­—ç¬¦ä¸²çš„è¡¨è¾¾æ–¹å¼ï¼š\n\nå•å¼•å·ï¼šlocal str1 = &#039;This is a string.&#039;\nåŒå¼•å·ï¼šlocal str2 = &quot;This is a string.&quot;\n: local str3 = [[This is a  multiline string]]\n\nå­—ç¬¦ä¸²æ“ä½œ\nåœ¨ Neovim ä¸­h: string.upper() æŸ¥çœ‹è¯¦ç»†è¯´æ˜ã€‚\n\nstring.upper(str): å…¨éƒ¨è½¬åŒ–ä¸ºå¤§å†™å­—æ¯\nstring.lower(str): å…¨éƒ¨è½¬åŒ–ä¸ºå°å†™å­—æ¯\nstring.gsub(): æŸ¥æ‰¾æ›¿æ¢\nstring.find()ï¼šæŸ¥æ‰¾å­ä¸²è¿”å›ä½ç½®\nstring.reverse()ï¼šåè½¬å­—ç¬¦ä¸²\nstring.format(â€¦)ï¼šæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œç±»ä¼¼ c çš„ print\nstring.char(), string.byte()ï¼šç±»å‹è½¬åŒ–\nstring.len()ï¼šè¿”å›é•¿åº¦\n\næ›´å¤šæ–¹æ³•æŸ¥çœ‹:h lua.lib.string\næ•°ç»„"},"Aè®¡ç§‘å·¥ç¨‹/ç¼–ç¨‹è¯­è¨€/Python/Python-ç¬”è®°":{"title":"Python ç¬”è®°","links":[],"tags":["TODO","python"],"content":"PYTHON ç¬”è®°\n\nå˜é‡å’Œæ•°æ®ç±»å‹\nå˜é‡\nåœ¨ Python ä¸­ï¼Œå˜é‡å¯ä»¥è¢«è§†ä¸ºæ•°æ®çš„å¼•ç”¨ï¼Œå®ƒä»¬æŒ‡å‘è®¡ç®—æœºå†…å­˜ä¸­å­˜å‚¨çš„æ•°æ®ã€‚Python æ˜¯ä¸€ç§åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œè¿™æ„å‘³ç€å˜é‡çš„ç±»å‹æ˜¯åœ¨è¿è¡Œæ—¶å†³å®šçš„ï¼ŒåŒä¸€ä¸ªå˜é‡å¯ä»¥é‡æ–°èµ‹å€¼ä¸ºä»»ä½•ç±»å‹ã€‚\nåˆ¤æ–­å˜é‡ç±»å‹\ntype() è¿”å›å˜é‡çš„ç±»å‹\r\nisinstance() åˆ¤æ–­æ˜¯å¦ä¸ºç‰¹å®šçš„ç±»å‹\nä½œç”¨åŸŸå’Œç”Ÿå‘½å‘¨æœŸ\nåœ¨å‡½æ•°ä¹‹å¤–åˆ›å»ºçš„å˜é‡ä¸ºå…¨å±€å˜é‡ã€‚å…¨å±€å˜é‡å¯åœ¨å‡½æ•°å†…éƒ¨å’Œå¤–éƒ¨ä½¿ç”¨ã€‚åœ¨å‡½æ•°å†…éƒ¨å¯ä»¥ä½¿ç”¨ global å…³é”®å­—åˆ›å»ºå…¨å±€å˜é‡ã€‚\næ•°æ®ç±»å‹"},"Aè®¡ç§‘å·¥ç¨‹/ç¼–ç¨‹è¯­è¨€/Python/Python-è™šæ‹Ÿç¯å¢ƒ":{"title":"Python è™šæ‹Ÿç¯å¢ƒ","links":[],"tags":["TODO","python"],"content":"Python è™šæ‹Ÿç¯å¢ƒ\n\nMiniconda\né…ç½®\nä½¿ç”¨é•œåƒ conda config --set show_channel_urls yes, ç„¶åç¼–è¾‘ .condarc\nchannels:\r\n  - defaults\r\nshow_channel_urls: true\r\ndefault_channels:\r\n  - mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main\r\n  - mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r\r\n  - mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2\r\ncustom_channels:\r\n  conda-forge: mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\r\n  msys2: mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\r\n  bioconda: mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\r\n  menpo: mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\r\n  pytorch: mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\r\n  pytorch-lts: mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\r\n  simpleitk: mirrors.tuna.tsinghua.edu.cn/anaconda/cloud\r\n  deepmodeling: mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/\n\nè¿è¡ŒÂ conda clean -iÂ æ¸…é™¤ç´¢å¼•ç¼“å­˜ï¼Œä¿è¯ç”¨çš„æ˜¯é•œåƒç«™æä¾›çš„ç´¢å¼•ã€‚\r\nè¿è¡ŒÂ conda create -n myenv numpyÂ æµ‹è¯•ä¸€ä¸‹å§\nå‚è€ƒé“¾æ¥"},"Aè®¡ç§‘å·¥ç¨‹/ç¼–ç¨‹è¯­è¨€/Python/ç±»å±æ€§å»¶è¿Ÿè®¡ç®—":{"title":"ç±»å±æ€§å»¶è¿Ÿè®¡ç®—","links":[],"tags":[],"content":"æ‰€è°“ç±»å±æ€§çš„å»¶è¿Ÿè®¡ç®—å°±æ˜¯å°†ç±»çš„å±æ€§å®šä¹‰æˆä¸€ä¸ª propertyï¼Œåªåœ¨è®¿é—®çš„æ—¶å€™æ‰ä¼šè®¡ç®—ï¼Œè€Œä¸”ä¸€æ—¦è¢«è®¿é—®åï¼Œç»“æœå°†ä¼šè¢«ç¼“å­˜èµ·æ¥ï¼Œä¸ç”¨æ¯æ¬¡éƒ½è®¡ç®—ã€‚\nå®ç°\nclass LazyProperty(object):\n    def __init__(self, func):\n        self.func = func\n \n    def __get__(self, instance, owner):\n        if instance is None:\n            return self\n        else:\n            value = self.func(instance)\n            setattr(instance, self.func.__name__, value)\n            return value\n \n \nimport math\n \n \nclass Circle(object):\n    def __init__(self, radius):\n        self.radius = radius\n \n    @LazyProperty\n    def area(self):\n        print &#039;Computing area&#039;\n        return math.pi * self.radius ** 2\n \n    @LazyProperty\n    def perimeter(self):\n        print &#039;Computing perimeter&#039;\n        return 2 * math.pi * self.radius\nè¯´æ˜\nå®šä¹‰äº†ä¸€ä¸ªå»¶è¿Ÿè®¡ç®—çš„è£…é¥°å™¨ç±» LazyPropertyã€‚Circle æ˜¯ç”¨äºæµ‹è¯•çš„ç±»ï¼ŒCircle ç±»æœ‰æ˜¯ä¸‰ä¸ªå±æ€§åŠå¾„ (radius)ã€é¢ç§¯ (area)ã€å‘¨é•¿ (perimeter)ã€‚é¢ç§¯å’Œå‘¨é•¿çš„å±æ€§è¢« LazyProperty è£…é¥°ï¼Œä¸‹é¢æ¥è¯•è¯• LazyProperty çš„é­”æ³•ï¼š\n&gt;&gt;&gt; c = Circle(2)\r\n&gt;&gt;&gt; print c.area\r\nComputing area\r\n12.5663706144\r\n&gt;&gt;&gt; print c.area\r\n12.5663706144\n\nåœ¨ area() ä¸­æ¯è®¡ç®—ä¸€æ¬¡å°±ä¼šæ‰“å°ä¸€æ¬¡â€œComputing areaâ€ï¼Œè€Œè¿ç»­è°ƒç”¨ä¸¤æ¬¡ c.area åâ€œComputing areaâ€åªè¢«æ‰“å°äº†ä¸€æ¬¡ã€‚è¿™å¾—ç›Šäº LazyPropertyï¼Œåªè¦è°ƒç”¨ä¸€æ¬¡åï¼Œæ— è®ºåç»­è°ƒç”¨å¤šå°‘æ¬¡éƒ½ä¸ä¼šé‡å¤è®¡ç®—ã€‚"},"Aè®¡ç§‘å·¥ç¨‹/ç¼–ç¨‹è¯­è¨€/Python/é­”æœ¯æ–¹æ³•":{"title":"é­”æœ¯æ–¹æ³•","links":[],"tags":["TODO"],"content":"é­”æœ¯æ–¹æ³•\n\nä»‹ç»\nåœ¨ Python ä¸­ï¼Œæ‰€æœ‰ä»¥â€œ**â€åŒä¸‹åˆ’çº¿åŒ…èµ·æ¥çš„æ–¹æ³•ï¼Œéƒ½ç»Ÿç§°ä¸ºâ€œMagic Methodâ€,ä¾‹å¦‚ç±»çš„åˆå§‹åŒ–æ–¹æ³•Â **init\\_\\_Â ,Python ä¸­æ‰€æœ‰çš„é­”æœ¯æ–¹æ³•å‡åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æœ‰ç›¸åº”æè¿°ï¼Œä½†æ˜¯å¯¹äºå®˜æ–¹çš„æè¿°æ¯”è¾ƒæ··ä¹±è€Œä¸”ç»„ç»‡æ¯”è¾ƒæ¾æ•£ã€‚å¾ˆéš¾æ‰¾åˆ°æœ‰ä¸€ä¸ªä¾‹å­ã€‚\næ„é€ å’Œåˆå§‹åŒ–\næ¯ä¸ª Pythoner éƒ½çŸ¥é“ä¸€ä¸ªæœ€åŸºæœ¬çš„é­”æœ¯æ–¹æ³•ï¼ŒÂ __init__Â ã€‚é€šè¿‡æ­¤æ–¹æ³•æˆ‘ä»¬å¯ä»¥å®šä¹‰ä¸€ä¸ªå¯¹è±¡çš„åˆå§‹æ“ä½œã€‚ç„¶è€Œï¼Œå½“è°ƒç”¨ x = SomeClass() çš„æ—¶å€™ï¼ŒÂ __init__Â å¹¶ä¸æ˜¯ç¬¬ä¸€ä¸ªè¢«è°ƒç”¨çš„æ–¹æ³•ã€‚å®é™…ä¸Šï¼Œè¿˜æœ‰ä¸€ä¸ªå«åš__new__Â çš„æ–¹æ³•ï¼Œä¸¤ä¸ªå…±åŒæ„æˆäº†â€œæ„é€ å‡½æ•°â€ã€‚\n__new__æ˜¯ç”¨æ¥åˆ›å»ºç±»å¹¶è¿”å›è¿™ä¸ªç±»çš„å®ä¾‹ï¼Œè€Œ__init__åªæ˜¯å°†ä¼ å…¥çš„å‚æ•°æ¥åˆå§‹åŒ–è¯¥å®ä¾‹ã€‚\nåœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸè°ƒç”¨ç»“æŸæ—¶ï¼Œ__del__Â æ–¹æ³•ä¼šè¢«è°ƒç”¨ï¼Œå¯ä»¥å°†__del__ç†è§£ä¸ºâ€œæ„æå‡½æ•°â€ã€‚ä¸‹é¢é€šè¿‡ä»£ç çš„çœ‹ä¸€çœ‹è¿™ä¸‰ä¸ªæ–¹æ³•ï¼š\nfrom os.path import join\n \nclass FileObject:\n    &#039;&#039;&#039;ç»™æ–‡ä»¶å¯¹è±¡è¿›è¡ŒåŒ…è£…ä»è€Œç¡®è®¤åœ¨åˆ é™¤æ—¶æ–‡ä»¶æµå…³é—­&#039;&#039;&#039;\n \n    def __init__(self, filepath=&#039;~&#039;, filename=&#039;sample.txt&#039;):\n        #è¯»å†™æ¨¡å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶\n        self.file = open(join(filepath, filename), &#039;r+&#039;)\n \n    def __del__(self):\n        self.file.close()\n        del self.file\næ§åˆ¶å±æ€§è®¿é—®\nè®¸å¤šä»å…¶ä»–è¯­è¨€è½¬åˆ° Python çš„äººä¼šæŠ±æ€¨å®ƒç¼ºä¹ç±»çš„çœŸæ­£å°è£…ã€‚(æ²¡æœ‰åŠæ³•å®šä¹‰ç§æœ‰å˜é‡ï¼Œç„¶åå®šä¹‰å…¬å…±çš„ getter å’Œ setter)ã€‚Python å…¶å®å¯ä»¥é€šè¿‡é­”æœ¯æ–¹æ³•æ¥å®Œæˆå°è£…ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼š\n\n__getattr__(self, name):\n\nå®šä¹‰å½“ç”¨æˆ·è¯•å›¾è·å–ä¸€ä¸ªä¸å­˜åœ¨çš„å±æ€§æ—¶çš„è¡Œä¸ºã€‚è¿™é€‚ç”¨äºå¯¹æ™®é€šæ‹¼å†™é”™è¯¯çš„è·å–å’Œé‡å®šå‘ï¼Œå¯¹è·å–ä¸€äº›ä¸å»ºè®®çš„å±æ€§æ—¶å€™ç»™å‡ºè­¦å‘Š (å¦‚æœä½ æ„¿æ„ä½ ä¹Ÿå¯ä»¥è®¡ç®—å¹¶ä¸”ç»™å‡ºä¸€ä¸ªå€¼) æˆ–è€…å¤„ç†ä¸€ä¸ªÂ AttributeErrorÂ ã€‚åªæœ‰å½“è°ƒç”¨ä¸å­˜åœ¨çš„å±æ€§çš„æ—¶å€™ä¼šè¢«è¿”å›ã€‚\n\n__setattr__(self, name, value):\n\nä¸__getattr__(self, name)ä¸åŒï¼Œ__setattr__Â æ˜¯ä¸€ä¸ªå°è£…çš„è§£å†³æ–¹æ¡ˆã€‚æ— è®ºå±æ€§æ˜¯å¦å­˜åœ¨ï¼Œå®ƒéƒ½å…è®¸ä½ å®šä¹‰å¯¹å¯¹å±æ€§çš„èµ‹å€¼è¡Œä¸ºï¼Œä»¥ä¸ºè¿™ä½ å¯ä»¥å¯¹å±æ€§çš„å€¼è¿›è¡Œä¸ªæ€§å®šåˆ¶ã€‚å®ç°__setattr__æ—¶è¦é¿å…â€æ— é™é€’å½’â€çš„é”™è¯¯ã€‚\n\n__delattr__:\n\nä¸Â __setattr__Â ç›¸åŒï¼Œä½†æ˜¯åŠŸèƒ½æ˜¯åˆ é™¤ä¸€ä¸ªå±æ€§è€Œä¸æ˜¯è®¾ç½®ä»–ä»¬ã€‚å®ç°æ—¶ä¹Ÿè¦é˜²æ­¢æ— é™é€’å½’ç°è±¡å‘ç”Ÿã€‚\n\n__getattribute__(self, name):\n\n__getattribute__å®šä¹‰äº†ä½ çš„å±æ€§è¢«è®¿é—®æ—¶çš„è¡Œä¸ºï¼Œç›¸æ¯”è¾ƒï¼Œ__getattr__åªæœ‰è¯¥å±æ€§ä¸å­˜åœ¨æ—¶æ‰ä¼šèµ·ä½œç”¨ã€‚å› æ­¤ï¼Œåœ¨æ”¯æŒ__getattribute__çš„ Python ç‰ˆæœ¬ï¼Œè°ƒç”¨__getattr__å‰å¿…å®šä¼šè°ƒç”¨Â __getattribute__ã€‚__getattribute__åŒæ ·è¦é¿å…â€æ— é™é€’å½’â€çš„é”™è¯¯ã€‚éœ€è¦æé†’çš„æ˜¯ï¼Œæœ€å¥½ä¸è¦å°è¯•å»å®ç°__getattribute__,å› ä¸ºå¾ˆå°‘è§åˆ°è¿™ç§åšæ³•ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å‡º bugã€‚\nåœ¨è¿›è¡Œå±æ€§è®¿é—®æ§åˆ¶å®šä¹‰çš„æ—¶å€™å¾ˆå¯èƒ½ä¼šå¾ˆå®¹æ˜“å¼•èµ·â€œæ— é™é€’å½’â€ã€‚å¦‚ä¸‹é¢ä»£ç ï¼š\n#  é”™è¯¯ç”¨æ³•\ndef __setattr__(self, name, value):\n    self.name = value\n    # æ¯å½“å±æ€§è¢«èµ‹å€¼çš„æ—¶å€™ (å¦‚ self.name = value)ï¼Œ``__setattr__()`` ä¼šè¢«è°ƒç”¨ï¼Œè¿™æ ·å°±é€ æˆäº†é€’å½’è°ƒç”¨ã€‚\n    # è¿™æ„å‘³è¿™ä¼šè°ƒç”¨ ``self.__setattr__(&#039;name&#039;, value)``ï¼Œæ¯æ¬¡æ–¹æ³•ä¼šè°ƒç”¨è‡ªå·±ã€‚è¿™æ ·ä¼šé€ æˆç¨‹åºå´©æºƒã€‚\n \n#  æ­£ç¡®ç”¨æ³•\ndef __setattr__(self, name, value):\n    self.__dict__[name] = value  # ç»™ç±»ä¸­çš„å±æ€§ååˆ†é…å€¼\n    # å®šåˆ¶ç‰¹æœ‰å±æ€§\nPython çš„é­”æœ¯æ–¹æ³•å¾ˆå¼ºå¤§ï¼Œä½†æ˜¯ç”¨æ—¶å´éœ€è¦æ…ä¹‹åˆæ…ï¼Œäº†è§£æ­£ç¡®çš„ä½¿ç”¨æ–¹æ³•éå¸¸é‡è¦ã€‚\nåˆ›å»ºè‡ªå®šä¹‰å®¹å™¨\næœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥è®©ä½ çš„ Python ç±»è¡Œä¸ºå‘å†…ç½®å®¹å™¨ç±»å‹ä¸€æ ·ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸¸ç”¨çš„ listã€dictã€tupleã€string ç­‰ç­‰ã€‚Python çš„å®¹å™¨ç±»å‹åˆ†ä¸ºå¯å˜ç±»å‹ (å¦‚ listã€dict) å’Œä¸å¯å˜ç±»å‹ï¼ˆå¦‚ stringã€tupleï¼‰ï¼Œå¯å˜å®¹å™¨å’Œä¸å¯å˜å®¹å™¨çš„åŒºåˆ«åœ¨äºï¼Œä¸å¯å˜å®¹å™¨ä¸€æ—¦èµ‹å€¼åï¼Œä¸å¯å¯¹å…¶ä¸­çš„æŸä¸ªå…ƒç´ è¿›è¡Œä¿®æ”¹ã€‚åœ¨è®²åˆ›å»ºè‡ªå®šä¹‰å®¹å™¨ä¹‹å‰ï¼Œåº”è¯¥å…ˆäº†è§£ä¸‹åè®®ã€‚è¿™é‡Œçš„åè®®è·Ÿå…¶ä»–è¯­è¨€ä¸­æ‰€è°“çš„â€æ¥å£â€æ¦‚å¿µå¾ˆåƒï¼Œå®ƒç»™ä½ å¾ˆå¤šä½ å¿…é¡»å®šä¹‰çš„æ–¹æ³•ã€‚ç„¶è€Œåœ¨ Python ä¸­çš„åè®®æ˜¯å¾ˆä¸æ­£å¼çš„ï¼Œä¸éœ€è¦æ˜ç¡®å£°æ˜å®ç°ã€‚äº‹å®ä¸Šï¼Œä»–ä»¬æ›´åƒä¸€ç§æŒ‡å—ã€‚\nè‡ªå®šä¹‰å®¹å™¨çš„ magic method\nä¸‹é¢ç»†è‡´äº†è§£ä¸‹å®šä¹‰å®¹å™¨å¯èƒ½ç”¨åˆ°çš„é­”æœ¯æ–¹æ³•ã€‚é¦–å…ˆï¼Œå®ç°ä¸å¯å˜å®¹å™¨çš„è¯ï¼Œä½ åªèƒ½å®šä¹‰Â __len__Â å’ŒÂ __getitem__Â (ä¸‹é¢ä¼šè®²æ›´å¤š)ã€‚å¯å˜å®¹å™¨åè®®åˆ™éœ€è¦æ‰€æœ‰ä¸å¯å˜å®¹å™¨çš„æ‰€æœ‰ï¼Œå¦å¤–è¿˜éœ€è¦Â __setitem__Â å’ŒÂ __delitem__Â ã€‚å¦‚æœä½ å¸Œæœ›ä½ çš„å¯¹è±¡æ˜¯å¯è¿­ä»£çš„è¯ï¼Œä½ éœ€è¦å®šä¹‰Â __iter__Â ä¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ã€‚è¿­ä»£å™¨å¿…é¡»éµå¾ªè¿­ä»£å™¨åè®®ï¼Œéœ€è¦æœ‰Â __iter__(è¿”å›å®ƒæœ¬èº«) å’Œ nextã€‚\n\n__len__(self):\n\nè¿”å›å®¹å™¨çš„é•¿åº¦ã€‚å¯¹äºå¯å˜å’Œä¸å¯å˜å®¹å™¨çš„åè®®ï¼Œè¿™éƒ½æ˜¯å…¶ä¸­çš„ä¸€éƒ¨åˆ†ã€‚\n\n__getitem__(self, key):\n\nå®šä¹‰å½“æŸä¸€é¡¹è¢«è®¿é—®æ—¶ï¼Œä½¿ç”¨*self[key]*æ‰€äº§ç”Ÿçš„è¡Œä¸ºã€‚è¿™ä¹Ÿæ˜¯ä¸å¯å˜å®¹å™¨å’Œå¯å˜å®¹å™¨åè®®çš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœé”®çš„ç±»å‹é”™è¯¯å°†äº§ç”Ÿ TypeErrorï¼›å¦‚æœ key æ²¡æœ‰åˆé€‚çš„å€¼åˆ™äº§ç”Ÿ KeyErrorã€‚\n\n__setitem__(self, key, value):\n\nå½“ä½ æ‰§è¡Œself[key] = valueæ—¶ï¼Œè°ƒç”¨çš„æ˜¯è¯¥æ–¹æ³•ã€‚\n\n__delitem__(self, key):\n\nå®šä¹‰å½“ä¸€ä¸ªé¡¹ç›®è¢«åˆ é™¤æ—¶çš„è¡Œä¸º (æ¯”å¦‚Â del self[key])ã€‚è¿™åªæ˜¯å¯å˜å®¹å™¨åè®®ä¸­çš„ä¸€éƒ¨åˆ†ã€‚å½“ä½¿ç”¨ä¸€ä¸ªæ— æ•ˆçš„é”®æ—¶åº”è¯¥æŠ›å‡ºé€‚å½“çš„å¼‚å¸¸ã€‚\n\n__iter__(self):\n\nè¿”å›ä¸€ä¸ªå®¹å™¨è¿­ä»£å™¨ï¼Œå¾ˆå¤šæƒ…å†µä¸‹ä¼šè¿”å›è¿­ä»£å™¨ï¼Œå°¤å…¶æ˜¯å½“å†…ç½®çš„iter()æ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œä»¥åŠå½“ä½¿ç”¨for x in container:æ–¹å¼å¾ªç¯çš„æ—¶å€™ã€‚è¿­ä»£å™¨æ˜¯å®ƒä»¬æœ¬èº«çš„å¯¹è±¡ï¼Œå®ƒä»¬å¿…é¡»å®šä¹‰è¿”å›selfçš„__iter__æ–¹æ³•ã€‚\n\n__reversed__(self):\n\nå®ç°å½“*reversed()*è¢«è°ƒç”¨æ—¶çš„è¡Œä¸ºã€‚åº”è¯¥è¿”å›åºåˆ—åè½¬åçš„ç‰ˆæœ¬ã€‚ä»…å½“åºåˆ—å¯ä»¥æ˜¯æœ‰åºçš„æ—¶å€™å®ç°å®ƒï¼Œä¾‹å¦‚å¯¹äºåˆ—è¡¨æˆ–è€…å…ƒç»„ã€‚\n\n__contains__(self, item):\n\nå®šä¹‰äº†è°ƒç”¨ in å’Œ not in æ¥æµ‹è¯•æˆå‘˜æ˜¯å¦å­˜åœ¨çš„æ—¶å€™æ‰€äº§ç”Ÿçš„è¡Œä¸ºã€‚ä½ å¯èƒ½ä¼šé—®ä¸ºä»€ä¹ˆè¿™ä¸ªä¸æ˜¯åºåˆ—åè®®çš„ä¸€éƒ¨åˆ†ï¼Ÿå› ä¸ºå½“__contains__æ²¡æœ‰è¢«å®šä¹‰çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰ï¼Œé‚£ä¹ˆ Python ä¼šè¿­ä»£å®¹å™¨ä¸­çš„å…ƒç´ æ¥ä¸€ä¸ªä¸€ä¸ªæ¯”è¾ƒï¼Œä»è€Œå†³å®šè¿”å› True æˆ–è€… Falseã€‚\n\n__missing__(self, key):\n\ndict å­—å…¸ç±»å‹ä¼šæœ‰è¯¥æ–¹æ³•ï¼Œå®ƒå®šä¹‰äº† key å¦‚æœåœ¨å®¹å™¨ä¸­æ‰¾ä¸åˆ°æ—¶è§¦å‘çš„è¡Œä¸ºã€‚æ¯”å¦‚d = {â€˜aâ€™: 1}, å½“ä½ æ‰§è¡Œ*d[notexist]*æ—¶ï¼Œd.__missing__[&#039;notexist&#039;]å°±ä¼šè¢«è°ƒç”¨ã€‚\nä¸€ä¸ªåˆ—å­\nä¸‹é¢æ˜¯ä¹¦ä¸­çš„ä¾‹å­ï¼Œç”¨é­”æœ¯æ–¹æ³•æ¥å®ç° Haskell è¯­è¨€ä¸­çš„ä¸€ä¸ªæ•°æ®ç»“æ„ã€‚\n# -*- coding: utf-8 -*-\nclass FunctionalList:\n    &#039;&#039;&#039; å®ç°äº†å†…ç½®ç±»å‹ list çš„åŠŸèƒ½ï¼Œå¹¶ä¸°å¯Œäº†ä¸€äº›å…¶ä»–æ–¹æ³•ï¼šhead, tail, init, last, drop, take&#039;&#039;&#039;\n \n    def __init__(self, values=None):\n        if values is None:\n            self.values = []\n        else:\n            self.values = values\n \n    def __len__(self):\n        return len(self.values)\n \n    def __getitem__(self, key):\n        return self.values[key]\n \n    def __setitem__(self, key, value):\n        self.values[key] = value\n \n    def __delitem__(self, key):\n        del self.values[key]\n \n    def __iter__(self):\n        return iter(self.values)\n \n    def __reversed__(self):\n        return FunctionalList(reversed(self.values))\n \n    def append(self, value):\n        self.values.append(value)\n    def head(self):\n        # è·å–ç¬¬ä¸€ä¸ªå…ƒç´ \n        return self.values[0]\n    def tail(self):\n        # è·å–ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹åçš„æ‰€æœ‰å…ƒç´ \n        return self.values[1:]\n    def init(self):\n        # è·å–æœ€åä¸€ä¸ªå…ƒç´ ä¹‹å‰çš„æ‰€æœ‰å…ƒç´ \n        return self.values[:-1]\n    def last(self):\n        # è·å–æœ€åä¸€ä¸ªå…ƒç´ \n        return self.values[-1]\n    def drop(self, n):\n        # è·å–æ‰€æœ‰å…ƒç´ ï¼Œé™¤äº†å‰ N ä¸ª\n        return self.values[n:]\n    def take(self, n):\n        # è·å–å‰ N ä¸ªå…ƒç´ \n        return self.values[:n]\nå…¶å®åœ¨ collections æ¨¡å—ä¸­å·²ç»æœ‰äº†å¾ˆå¤šç±»ä¼¼çš„å®ç°ï¼Œæ¯”å¦‚ Counterã€OrderedDict ç­‰ç­‰ã€‚\nåå°„\nä½ ä¹Ÿå¯ä»¥æ§åˆ¶æ€ä¹ˆä½¿ç”¨å†…ç½®åœ¨å‡½æ•° sisinstance() å’Œ issubclass() æ–¹æ³• åå°„å®šä¹‰é­”æœ¯æ–¹æ³•ã€‚è¿™ä¸ªé­”æœ¯æ–¹æ³•æ˜¯ï¼š\n\n__instancecheck__(self, instance):\n\næ£€æŸ¥ä¸€ä¸ªå®ä¾‹æ˜¯ä¸æ˜¯ä½ å®šä¹‰çš„ç±»çš„å®ä¾‹\n\n__subclasscheck__(self, subclass):   æ£€æŸ¥ä¸€ä¸ªç±»æ˜¯ä¸æ˜¯ä½ å®šä¹‰çš„ç±»çš„å­ç±»\n\nè¿™äº›é­”æœ¯æ–¹æ³•çš„ç”¨ä¾‹çœ‹èµ·æ¥å¾ˆå°ï¼Œå¹¶ä¸”ç¡®å®éå¸¸å®ç”¨ã€‚å®ƒä»¬ååº”äº†å…³äºé¢å‘å¯¹è±¡ç¨‹åºä¸Šä¸€äº›é‡è¦çš„ä¸œè¥¿åœ¨ Python ä¸Šï¼Œå¹¶ä¸”æ€»çš„æ¥è¯´ Python: æ€»æ˜¯ä¸€ä¸ªç®€å•çš„æ–¹æ³•å»æ‰¾æŸäº›äº‹æƒ…ï¼Œå³ä½¿æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚è¿™äº›é­”æ³•æ–¹æ³•å¯èƒ½çœ‹èµ·æ¥ä¸æ˜¯å¾ˆæœ‰ç”¨ï¼Œä½†æ˜¯ä¸€æ—¦ä½ éœ€è¦å®ƒä»¬ï¼Œä½ ä¼šæ„Ÿåˆ°åº†å¹¸å®ƒä»¬çš„å­˜åœ¨ã€‚\nå¯è°ƒç”¨çš„å¯¹è±¡\nä½ ä¹Ÿè®¸å·²ç»çŸ¥é“ï¼Œåœ¨ Python ä¸­ï¼Œæ–¹æ³•æ˜¯æœ€é«˜çº§çš„å¯¹è±¡ã€‚è¿™æ„å‘³ç€ä»–ä»¬ä¹Ÿå¯ä»¥è¢«ä¼ é€’åˆ°æ–¹æ³•ä¸­ï¼Œå°±åƒå…¶ä»–å¯¹è±¡ä¸€æ ·ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸æƒŠäººçš„ç‰¹æ€§ã€‚\nåœ¨ Python ä¸­ï¼Œä¸€ä¸ªç‰¹æ®Šçš„é­”æœ¯æ–¹æ³•å¯ä»¥è®©ç±»çš„å®ä¾‹çš„è¡Œä¸ºè¡¨ç°çš„åƒå‡½æ•°ä¸€æ ·ï¼Œä½ å¯ä»¥è°ƒç”¨å®ƒä»¬ï¼Œå°†ä¸€ä¸ªå‡½æ•°å½“åšä¸€ä¸ªå‚æ•°ä¼ åˆ°å¦å¤–ä¸€ä¸ªå‡½æ•°ä¸­ç­‰ç­‰ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ç‰¹æ€§ï¼Œå…¶è®© Python ç¼–ç¨‹æ›´åŠ èˆ’é€‚ç”œç¾ã€‚\n\n__call__(self, [args...]):\n\nå…è®¸ä¸€ä¸ªç±»çš„å®ä¾‹åƒå‡½æ•°ä¸€æ ·è¢«è°ƒç”¨ã€‚å®è´¨ä¸Šè¯´ï¼Œè¿™æ„å‘³ç€Â x()Â ä¸Â x.__call__()Â æ˜¯ç›¸åŒçš„ã€‚æ³¨æ„Â __call__Â çš„å‚æ•°å¯å˜ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥å®šä¹‰Â __call__Â ä¸ºå…¶ä»–ä½ æƒ³è¦çš„å‡½æ•°ï¼Œæ— è®ºæœ‰å¤šå°‘ä¸ªå‚æ•°ã€‚\n__call__Â åœ¨é‚£äº›ç±»çš„å®ä¾‹ç»å¸¸æ”¹å˜çŠ¶æ€çš„æ—¶å€™ä¼šéå¸¸æœ‰æ•ˆã€‚è°ƒç”¨è¿™ä¸ªå®ä¾‹æ˜¯ä¸€ç§æ”¹å˜è¿™ä¸ªå¯¹è±¡çŠ¶æ€çš„ç›´æ¥å’Œä¼˜é›…çš„åšæ³•ã€‚ç”¨ä¸€ä¸ªå®ä¾‹æ¥è¡¨è¾¾æœ€å¥½ä¸è¿‡äº†ï¼š\n# -*- coding: UTF-8 -*-\n \nclass Entity:\n    &quot;&quot;&quot;\n    è°ƒç”¨å®ä½“æ¥æ”¹å˜å®ä½“çš„ä½ç½®\n    &quot;&quot;&quot;\n \ndef __init__(self, size, x, y):\n    self.x, self.y = x, y\n    self.size = size\n \n \ndef __call__(self, x, y):\n    &quot;&quot;&quot;\n    æ”¹å˜å®ä½“çš„ä½ç½®\n    &quot;&quot;&quot;\n    self.x, self.y = x, y\nä¸Šä¸‹æ–‡ç®¡ç†\nwithå£°æ˜æ˜¯ä» Python2.5 å¼€å§‹å¼•è¿›çš„å…³é”®è¯ã€‚ä½ åº”è¯¥é‡è¿‡è¿™æ ·å­çš„ä»£ç ï¼š\nwith open(&#039;foo.txt&#039;) as bar:\n    # do something with bar\nåœ¨ with å£°æ˜çš„ä»£ç æ®µä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åšä¸€äº›å¯¹è±¡çš„å¼€å§‹æ“ä½œå’Œé€€å‡ºæ“ä½œï¼Œè¿˜èƒ½å¯¹å¼‚å¸¸è¿›è¡Œå¤„ç†ã€‚è¿™éœ€è¦å®ç°ä¸¤ä¸ªé­”æœ¯æ–¹æ³•:Â __enter__Â å’ŒÂ __exit__ã€‚\n\n__enter__(self):\n\nå®šä¹‰äº†å½“ä½¿ç”¨ with è¯­å¥çš„æ—¶å€™ï¼Œä¼šè¯ç®¡ç†å™¨åœ¨å—è¢«åˆå§‹åˆ›å»ºæ—¶è¦äº§ç”Ÿçš„è¡Œä¸ºã€‚è¯·æ³¨æ„ï¼Œ__enter__çš„è¿”å›å€¼ä¸ with è¯­å¥çš„ç›®æ ‡æˆ–è€… as åçš„åå­—ç»‘å®šã€‚\n\n__exit__(self, exception_type, exception_value, traceback):\n\nå®šä¹‰äº†å½“ä¸€ä¸ªä»£ç å—è¢«æ‰§è¡Œæˆ–è€…ç»ˆæ­¢åï¼Œä¼šè¯ç®¡ç†å™¨åº”è¯¥åšä»€ä¹ˆã€‚å®ƒå¯ä»¥è¢«ç”¨æ¥å¤„ç†å¼‚å¸¸ã€æ‰§è¡Œæ¸…ç†å·¥ä½œæˆ–åšä¸€äº›ä»£ç å—æ‰§è¡Œå®Œæ¯•ä¹‹åçš„æ—¥å¸¸å·¥ä½œã€‚å¦‚æœä»£ç å—æ‰§è¡ŒæˆåŠŸï¼Œexception_typeï¼Œexception_valueï¼Œå’Œ traceback å°†ä¼šä¸º Noneã€‚å¦åˆ™ï¼Œä½ å¯ä»¥é€‰æ‹©å¤„ç†è¿™ä¸ªå¼‚å¸¸æˆ–è€…æ˜¯ç›´æ¥äº¤ç»™ç”¨æˆ·å¤„ç†ã€‚å¦‚æœä½ æƒ³å¤„ç†è¿™ä¸ªå¼‚å¸¸çš„è¯ï¼Œè¯·ç¡®ä¿__exit__åœ¨æ‰€æœ‰è¯­å¥ç»“æŸä¹‹åè¿”å› Trueã€‚å¦‚æœä½ æƒ³è®©å¼‚å¸¸è¢«ä¼šè¯ç®¡ç†å™¨å¤„ç†çš„è¯ï¼Œé‚£ä¹ˆå°±è®©å…¶äº§ç”Ÿè¯¥å¼‚å¸¸ã€‚\nåˆ›å»ºå¯¹è±¡æè¿°å™¨\næè¿°å™¨æ˜¯é€šè¿‡è·å–ã€è®¾ç½®ä»¥åŠåˆ é™¤çš„æ—¶å€™è¢«è®¿é—®çš„ç±»ã€‚å½“ç„¶ä¹Ÿå¯ä»¥æ”¹å˜å…¶å®ƒçš„å¯¹è±¡ã€‚æè¿°å™¨å¹¶ä¸æ˜¯ç‹¬ç«‹çš„ã€‚ç›¸åï¼Œå®ƒæ„å‘³ç€è¢«ä¸€ä¸ªæ‰€æœ‰è€…ç±»æŒæœ‰ã€‚å½“åˆ›å»ºé¢å‘å¯¹è±¡çš„æ•°æ®åº“æˆ–è€…ç±»ï¼Œé‡Œé¢å«æœ‰ç›¸äº’ä¾èµ–çš„å±ç›¸æ—¶ï¼Œæè¿°å™¨å°†ä¼šéå¸¸æœ‰ç”¨ã€‚ä¸€ç§å…¸å‹çš„ä½¿ç”¨æ–¹æ³•æ˜¯ç”¨ä¸åŒçš„å•ä½è¡¨ç¤ºåŒä¸€ä¸ªæ•°å€¼ï¼Œæˆ–è€…è¡¨ç¤ºæŸä¸ªæ•°æ®çš„é™„åŠ å±æ€§ã€‚ä¸ºäº†æˆä¸ºä¸€ä¸ªæè¿°å™¨ï¼Œä¸€ä¸ªç±»å¿…é¡»è‡³å°‘æœ‰__get__ï¼Œ__set__ï¼Œ__delete__æ–¹æ³•è¢«å®ç°ï¼š\n\n\n__get__(self, instance, owner):\nå®šä¹‰äº†å½“æè¿°å™¨çš„å€¼è¢«å–å¾—çš„æ—¶å€™çš„è¡Œä¸ºã€‚instance æ˜¯æ‹¥æœ‰è¯¥æè¿°å™¨å¯¹è±¡çš„ä¸€ä¸ªå®ä¾‹ã€‚owner æ˜¯æ‹¥æœ‰è€…æœ¬èº«\n\n\n__set__(self, instance, value):\nå®šä¹‰äº†å½“æè¿°å™¨çš„å€¼è¢«æ”¹å˜çš„æ—¶å€™çš„è¡Œä¸ºã€‚instance æ˜¯æ‹¥æœ‰è¯¥æè¿°å™¨ç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚value æ˜¯è¦è®¾ç½®çš„å€¼ã€‚\n\n\n__delete__(self, instance):\nå®šä¹‰äº†å½“æè¿°å™¨çš„å€¼è¢«åˆ é™¤çš„æ—¶å€™çš„è¡Œä¸ºã€‚instance æ˜¯æ‹¥æœ‰è¯¥æè¿°å™¨å¯¹è±¡çš„ä¸€ä¸ªå®ä¾‹ã€‚\n\n\nä¸‹é¢æ˜¯ä¸€ä¸ªæè¿°å™¨çš„å®ä¾‹ï¼šå•ä½è½¬æ¢ã€‚\n# -*- coding: UTF-8 -*-\nclass Meter(object):\n    &quot;&quot;&quot;\n    å¯¹äºå•ä½&quot;ç±³&quot;çš„æè¿°å™¨\n    &quot;&quot;&quot;\n \n    def __init__(self, value=0.0):\n        self.value = float(value)\n \n    def __get__(self, instance, owner):\n        return self.value\n \n    def __set__(self, instance, value):\n        self.value = float(value)\n \n \nclass Foot(object):\n    &quot;&quot;&quot;\n    å¯¹äºå•ä½&quot;è‹±å°º&quot;çš„æè¿°å™¨\n    &quot;&quot;&quot;\n \n    def __get__(self, instance, owner):\n        return instance.meter * 3.2808\n \n    def __set__(self, instance, value):\n        instance.meter = float(value) / 3.2808\n \n \nclass Distance(object):\n    &quot;&quot;&quot;\n    ç”¨ç±³å’Œè‹±å¯¸æ¥è¡¨ç¤ºä¸¤ä¸ªæè¿°å™¨ä¹‹é—´çš„è·ç¦»\n    &quot;&quot;&quot;\n    meter = Meter(10)\n    foot = Foot()\nä½¿ç”¨æ—¶ï¼š\n&gt;&gt;&gt;d = Distance()\r\n&gt;&gt;&gt;print d.foot\r\n&gt;&gt;&gt;print d.meter\r\n32.808\r\n10.0\n\nå¤åˆ¶\næœ‰æ—¶å€™ï¼Œå°¤å…¶æ˜¯å½“ä½ åœ¨å¤„ç†å¯å˜å¯¹è±¡æ—¶ï¼Œä½ å¯èƒ½æƒ³è¦å¤åˆ¶ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå¯¹å…¶åšå‡ºä¸€äº›æ”¹å˜è€Œä¸å¸Œæœ›å½±å“åŸæ¥çš„å¯¹è±¡ã€‚è¿™å°±æ˜¯ Python çš„ copy æ‰€å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚\n\n__copy__(self):\n\nå®šä¹‰äº†å½“å¯¹ä½ çš„ç±»çš„å®ä¾‹è°ƒç”¨*copy.copy()*æ—¶æ‰€äº§ç”Ÿçš„è¡Œä¸ºã€‚*copy.copy()*è¿”å›äº†ä½ çš„å¯¹è±¡çš„ä¸€ä¸ªæµ…æ‹·è´â€”â€”è¿™æ„å‘³ç€ï¼Œå½“å®ä¾‹æœ¬èº«æ˜¯ä¸€ä¸ªæ–°å®ä¾‹æ—¶ï¼Œå®ƒçš„æ‰€æœ‰æ•°æ®éƒ½è¢«å¼•ç”¨äº†â€”â€”ä¾‹å¦‚ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æœ¬èº«è¢«å¤åˆ¶äº†ï¼Œå®ƒçš„æ•°æ®ä»ç„¶æ˜¯è¢«å¼•ç”¨çš„ï¼ˆå› æ­¤ï¼Œå¯¹äºæµ…æ‹·è´ä¸­æ•°æ®çš„æ›´æ”¹ä»ç„¶å¯èƒ½å¯¼è‡´æ•°æ®åœ¨åŸå§‹å¯¹è±¡çš„ä¸­çš„æ”¹å˜ï¼‰ã€‚\n\n__deepcopy__(self, memodict={}):\n\nå®šä¹‰äº†å½“å¯¹ä½ çš„ç±»çš„å®ä¾‹è°ƒç”¨*copy.deepcopy()*æ—¶æ‰€äº§ç”Ÿçš„è¡Œä¸ºã€‚copy.deepcopy()è¿”å›äº†ä½ çš„å¯¹è±¡çš„ä¸€ä¸ªæ·±æ‹·è´â€”â€”å¯¹è±¡å’Œå…¶æ•°æ®éƒ½è¢«æ‹·è´äº†ã€‚memodict æ˜¯å¯¹ä¹‹å‰è¢«æ‹·è´çš„å¯¹è±¡çš„ä¸€ä¸ªç¼“å­˜â€”â€”è¿™ä¼˜åŒ–äº†æ‹·è´è¿‡ç¨‹å¹¶ä¸”é˜»æ­¢äº†å¯¹é€’å½’æ•°æ®ç»“æ„æ‹·è´æ—¶çš„æ— é™é€’å½’ã€‚å½“ä½ æƒ³è¦è¿›è¡Œå¯¹ä¸€ä¸ªå•ç‹¬çš„å±æ€§è¿›è¡Œæ·±æ‹·è´æ—¶ï¼Œè°ƒç”¨copy.deepcopy()ï¼Œå¹¶ä»¥ memodict ä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚\né™„å½•\nç”¨äºæ¯”è¾ƒçš„é­”æœ¯æ–¹æ³•\nMagic method\nexplain\n__cmp__(self, other)\næ˜¯æ¯”è¾ƒæ–¹æ³•é‡Œé¢æœ€åŸºæœ¬çš„çš„é­”æ³•æ–¹æ³•\n__eq__(self, other)\nå®šä¹‰ç›¸ç­‰ç¬¦å·çš„è¡Œä¸ºï¼Œ==\n__ne__(self,other)\nå®šä¹‰ä¸ç­‰ç¬¦å·çš„è¡Œä¸ºï¼Œï¼=\n__lt__(self,other)\nå®šä¹‰å°äºç¬¦å·çš„è¡Œä¸ºï¼Œ&lt;\n__gt__(self,other)\nå®šä¹‰å¤§äºç¬¦å·çš„è¡Œä¸ºï¼Œ&gt;\n__le__(self,other)\nå®šä¹‰å°äºç­‰äºç¬¦å·çš„è¡Œä¸ºï¼Œâ‡\n__ge__(self,other)\nå®šä¹‰å¤§äºç­‰äºç¬¦å·çš„è¡Œä¸ºï¼Œ&gt;=\næ•°å€¼è®¡ç®—çš„é­”æœ¯æ–¹æ³•\nå•ç›®è¿ç®—ç¬¦å’Œå‡½æ•°\nMagic method\nexplain\n__pos__(self)\nå®ç°ä¸€ä¸ªå–æ­£æ•°çš„æ“ä½œ\n__neg__(self)\nå®ç°ä¸€ä¸ªå–è´Ÿæ•°çš„æ“ä½œ\n__abs__(self)\nå®ç°ä¸€ä¸ªå†…å»ºçš„ abs() å‡½æ•°çš„è¡Œä¸º\n__invert__(self)\nå®ç°ä¸€ä¸ªå–åæ“ä½œç¬¦ï¼ˆï½æ“ä½œç¬¦ï¼‰çš„è¡Œä¸º\n__round__(self, n)\nå®ç°ä¸€ä¸ªå†…å»ºçš„ roundï¼ˆï¼‰å‡½æ•°çš„è¡Œä¸º\n__floor__(self)\nå®ç° math.floor() çš„å‡½æ•°è¡Œä¸º\n__ceil__(self)\nå®ç° math.ceil() çš„å‡½æ•°è¡Œä¸º\n__trunc__(self)\nå®ç° math.trunc() çš„å‡½æ•°è¡Œä¸º\nåŒç›®è¿ç®—ç¬¦æˆ–å‡½æ•°\nMagic method\nexplain\n__add__(self, other)\nå®ç°ä¸€ä¸ªåŠ æ³•\n__sub__(self, other)\nå®ç°ä¸€ä¸ªå‡æ³•\n__mul__(self, other)\nå®ç°ä¸€ä¸ªä¹˜æ³•\n__floordiv__(self, other)\nå®ç°ä¸€ä¸ªâ€œ//â€æ“ä½œç¬¦äº§ç”Ÿçš„æ•´é™¤æ“ä½œï¼ˆï¼‰\n__div__(self, other)\nå®ç°ä¸€ä¸ªâ€œ/â€æ“ä½œç¬¦ä»£è¡¨çš„é™¤æ³•æ“ä½œ\n__truediv__(self, other)\nå®ç°çœŸå®é™¤æ³•\n__mod__(self, other)\nå®ç°ä¸€ä¸ªâ€œ%â€æ“ä½œç¬¦ä»£è¡¨çš„å–æ¨¡æ“ä½œ\n__divmod__(self, other)\nå®ç°ä¸€ä¸ªå†…å»ºå‡½æ•° divmodï¼ˆï¼‰\n__pow__\nå®ç°ä¸€ä¸ªæŒ‡æ•°æ“ä½œ (â€œ**â€æ“ä½œç¬¦ï¼‰çš„è¡Œä¸º\n__lshift__(self, other)\nå®ç°ä¸€ä¸ªä½å·¦ç§»æ“ä½œï¼ˆ&lt;&lt;ï¼‰çš„åŠŸèƒ½\n__rshift__(self, other)\nå®ç°ä¸€ä¸ªä½å³ç§»æ“ä½œï¼ˆ&gt;&gt;ï¼‰çš„åŠŸèƒ½\n__and__(self, other)\nå®ç°ä¸€ä¸ªæŒ‰ä½è¿›è¡Œä¸æ“ä½œï¼ˆ&amp;ï¼‰çš„è¡Œä¸º\n__or__(self, other)\nå®ç°ä¸€ä¸ªæŒ‰ä½è¿›è¡Œæˆ–æ“ä½œçš„è¡Œä¸º\n__xor__(self, other)\n__xor__(self, other)\nå¢é‡è¿ç®—\nMagic method\nexplain\n__iadd__(self, other)\nåŠ æ³•èµ‹å€¼\n__isub__(self, other)\nå‡æ³•èµ‹å€¼\n__imul__(self, other)\nä¹˜æ³•èµ‹å€¼\n__ifloordiv__(self, other)\næ•´é™¤èµ‹å€¼ï¼Œåœ°æ¿é™¤ï¼Œç›¸å½“äº //= è¿ç®—ç¬¦\n__idiv__(self, other)\né™¤æ³•èµ‹å€¼ï¼Œç›¸å½“äº /= è¿ç®—ç¬¦\n__itruediv__(self, other)\nçœŸé™¤èµ‹å€¼\n__imod_(self, other)\næ¨¡èµ‹å€¼ï¼Œç›¸å½“äº %= è¿ç®—ç¬¦\n__ipow__\nä¹˜æ–¹èµ‹å€¼ï¼Œç›¸å½“äº **= è¿ç®—ç¬¦\n__ilshift__(self, other)\nå·¦ç§»èµ‹å€¼ï¼Œç›¸å½“äº &lt;â‡ è¿ç®—ç¬¦\n__irshift__(self, other)\nå·¦ç§»èµ‹å€¼ï¼Œç›¸å½“äº &gt;&gt;= è¿ç®—ç¬¦\n__iand__(self, other)\nä¸èµ‹å€¼ï¼Œç›¸å½“äº &amp;= è¿ç®—ç¬¦\n__ior__(self, other)\næˆ–èµ‹å€¼\n__ixor__(self, other)\nå¼‚æˆ–è¿ç®—ç¬¦ï¼Œç›¸å½“äº ^= è¿ç®—ç¬¦\nç±»å‹è½¬æ¢\nMagic method\nexplain\n__int__(self)\nè½¬æ¢æˆæ•´å‹\n__long__(self)\nè½¬æ¢æˆé•¿æ•´å‹\n__float__(self)\nè½¬æ¢æˆæµ®ç‚¹å‹\n__complex__(self)\nè½¬æ¢æˆ å¤æ•°å‹\n__oct__(self)\nè½¬æ¢æˆå…«è¿›åˆ¶\n__hex__(self)\nè½¬æ¢æˆåå…­è¿›åˆ¶\n__index__(self)\nå¦‚æœä½ å®šä¹‰äº†ä¸€ä¸ªå¯èƒ½è¢«ç”¨æ¥åšåˆ‡ç‰‡æ“ä½œçš„æ•°å€¼å‹ï¼Œä½ å°±åº”è¯¥å®šä¹‰index\n__trunc__(self)\nå½“ math.trunc(self) ä½¿ç”¨æ—¶è¢«è°ƒç”¨__trunc__è¿”å›è‡ªèº«ç±»å‹çš„æ•´å‹æˆªå–\n__coerce__(self, other)\næ‰§è¡Œæ··åˆç±»å‹çš„è¿ç®—"},"Aè®¡ç§‘å·¥ç¨‹/ç¼–ç¨‹è¯­è¨€/QT/Untitled":{"title":"Untitled","links":[],"tags":[],"content":"QtWebEngine\r\nåŠ è½½æœ¬åœ° html æ–‡ä»¶æ—¶ï¼Œå¼•å…¥ css, js ç­‰èµ„æºæ—¶ï¼Œä¸èƒ½ä½¿ç”¨/path/xx.js è¿™ç§æ ¼å¼ï¼Œéœ€è¦ä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€‚\nåœ¨ vite é¡¹ç›®è®¾ç½®ä¸­ï¼Œå¯ä»¥é€šè¿‡è®¾ç½® base è§£å†³\n"},"Aè®¡ç§‘å·¥ç¨‹/ç¼–ç¨‹è¯­è¨€/Rust/Cargo":{"title":"Cargo","links":[],"tags":["TODO","rust"],"content":"\n"},"Aè®¡ç§‘å·¥ç¨‹/ç¼–ç¨‹è¯­è¨€/Rust/Rust-ç¬”è®°":{"title":"Rust ç¬”è®°","links":["CçŸ¥è¯†å®åº“/åè¯"],"tags":["TODO","rust"],"content":"Rust\n\næ•°æ®ç±»å‹\næ ‡é‡ç±»å‹\næ•´å‹\næµ®ç‚¹\nå¸ƒå°”\nå­—ç¬¦\nå¤åˆç±»å‹\nå…ƒç»„\nå‚è€ƒé“¾æ¥"},"Aè®¡ç§‘å·¥ç¨‹/ç¼–ç¨‹è¯­è¨€/Zig/Zig-ç¬”è®°":{"title":"Zig ç¬”è®°","links":[],"tags":[],"content":"å˜é‡å’Œæ•°æ®ç±»å‹\nå˜é‡å£°æ˜\nå£°æ˜å˜é‡å¯ä»¥ä½¿ç”¨ var å’Œ const, å¦‚ä¸‹ï¼š\nvar a : u8 = undefined;\nconst b = &quot;Hello World!&quot;;\nå‡½æ•°\nzig å‡½æ•°å‚æ•°æ˜¯å¸¸é‡ã€‚"},"Aè®¡ç§‘å·¥ç¨‹/ç¼–è¾‘å™¨":{"title":"ç¼–è¾‘å™¨","links":[],"tags":[],"content":"fleet\nJetbrains å…¨å®¶æ¡¶\nVscode\nzed\nneovim"},"Aè®¡ç§‘å·¥ç¨‹/ç½‘ç»œå®‰å…¨":{"title":"ç½‘ç»œå®‰å…¨","links":[],"tags":[],"content":"å›½å†…åª’ä½“çš„ç§è‡ªä½¿ç”¨ P2P\n\nä¼˜å…ˆä½¿ç”¨æµè§ˆå™¨\næµè§ˆå™¨ç¦ç”¨ webrtc\nfirefox: about:config media.peerconnection.enabled\n"},"Aè®¡ç§‘å·¥ç¨‹/è®¡ç®—æœºåŸºç¡€":{"title":"è®¡ç®—æœºåŸºç¡€","links":[],"tags":["TODO","Doc"],"content":""},"Bæ•°æ®åˆ†æ/jupyter":{"title":"jupyter","links":[],"tags":[],"content":"å®‰è£…\npip config set global.index-url pypi.tuna.tsinghua.edu.cn/simple\r\n\r\n# arch\r\nsudo pacman -S python-jupyterlab_server\r\n#sudo pip install jupyterlab\r\n\r\njupyter-lab\n"},"CçŸ¥è¯†å®åº“/Git-æäº¤è§„èŒƒ":{"title":"Git æäº¤è§„èŒƒ","links":[],"tags":["Doc"],"content":"çº¦å®šå¼æäº¤\næ¦‚è¿°\nçº¦å®šå¼æäº¤è§„èŒƒæ˜¯ä¸€ç§åŸºäºæäº¤ä¿¡æ¯çš„è½»é‡çº§çº¦å®šã€‚å®ƒæä¾›äº†ä¸€ç»„ç®€å•è§„åˆ™æ¥åˆ›å»ºæ¸…æ™°çš„æäº¤å†å²ï¼›è¿™æ›´æœ‰åˆ©äºç¼–å†™è‡ªåŠ¨åŒ–å·¥å…·ã€‚é€šè¿‡åœ¨æäº¤ä¿¡æ¯ä¸­æè¿°åŠŸèƒ½ã€ä¿®å¤å’Œç ´åæ€§å˜æ›´ï¼Œä½¿è¿™ç§æƒ¯ä¾‹ä¸ SemVer ç›¸äº’å¯¹åº”ã€‚\næäº¤è¯´æ˜çš„ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š\n\nåŸæ–‡ï¼š\n&lt;type&gt;[optional scope]: &lt;description&gt;\r\n\r\n[optional body]\r\n\r\n[optional footer(s)]\n\nè¯‘æ–‡ï¼š\n&lt;ç±»å‹&gt;[å¯é€‰ èŒƒå›´]: &lt;æè¿°&gt;\r\n\r\n[å¯é€‰ æ­£æ–‡]\r\n\r\n[å¯é€‰ è„šæ³¨]\n\n\næäº¤è¯´æ˜åŒ…å«äº†ä¸‹é¢çš„ç»“æ„åŒ–å…ƒç´ ï¼Œä»¥å‘ç±»åº“ä½¿ç”¨è€…è¡¨æ˜å…¶æ„å›¾ï¼š\n\nfix: ç±»å‹ ä¸º fix çš„æäº¤è¡¨ç¤ºåœ¨ä»£ç åº“ä¸­ä¿®å¤äº†ä¸€ä¸ª bugï¼ˆè¿™å’Œè¯­ä¹‰åŒ–ç‰ˆæœ¬ä¸­çš„ PATCH ç›¸å¯¹åº”ï¼‰ã€‚\nfeat: ç±»å‹ ä¸º feat çš„æäº¤è¡¨ç¤ºåœ¨ä»£ç åº“ä¸­æ–°å¢äº†ä¸€ä¸ªåŠŸèƒ½ï¼ˆè¿™å’Œè¯­ä¹‰åŒ–ç‰ˆæœ¬ä¸­çš„ MINOR ç›¸å¯¹åº”ï¼‰ã€‚\nBREAKING CHANGE: åœ¨è„šæ³¨ä¸­åŒ…å« BREAKING CHANGE: æˆ– &lt;ç±»å‹&gt;(èŒƒå›´) åé¢æœ‰ä¸€ä¸ª ! çš„æäº¤ï¼Œè¡¨ç¤ºå¼•å…¥äº†ç ´åæ€§ API å˜æ›´ï¼ˆè¿™å’Œè¯­ä¹‰åŒ–ç‰ˆæœ¬ä¸­çš„ MAJOR ç›¸å¯¹åº”ï¼‰ã€‚ç ´åæ€§å˜æ›´å¯ä»¥æ˜¯ä»»æ„ ç±»å‹ æäº¤çš„ä¸€éƒ¨åˆ†ã€‚\né™¤ fix: å’Œ feat: ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶å®ƒæäº¤ ç±»å‹ï¼Œä¾‹å¦‚ @commitlint/config-conventionalï¼ˆåŸºäº Angular çº¦å®šï¼‰ä¸­æ¨èçš„ build:ã€chore:ã€ ci:ã€docs:ã€style:ã€refactor:ã€perf:ã€test:ï¼Œç­‰ç­‰ã€‚\nè„šæ³¨ä¸­é™¤äº† BREAKING CHANGE: &lt;description&gt; ï¼Œå…¶å®ƒæ¡ç›®åº”è¯¥é‡‡ç”¨ç±»ä¼¼ git trailer format è¿™æ ·çš„æƒ¯ä¾‹ã€‚\n\nå…¶å®ƒæäº¤ç±»å‹åœ¨çº¦å®šå¼æäº¤è§„èŒƒä¸­å¹¶æ²¡æœ‰å¼ºåˆ¶é™åˆ¶ï¼Œå¹¶ä¸”åœ¨è¯­ä¹‰åŒ–ç‰ˆæœ¬ä¸­æ²¡æœ‰éšå¼å½±å“ï¼ˆé™¤éå®ƒä»¬åŒ…å« BREAKING CHANGEï¼‰ã€‚å¯ä»¥ä¸ºæäº¤ç±»å‹æ·»åŠ ä¸€ä¸ªå›´åœ¨åœ†æ‹¬å·å†…çš„èŒƒå›´ï¼Œä»¥ä¸ºå…¶æä¾›é¢å¤–çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚ä¾‹å¦‚ feat(parser): adds ability to parse arrays.ã€‚\nç¤ºä¾‹\nåŒ…å«äº†æè¿°å¹¶ä¸”è„šæ³¨ä¸­æœ‰ç ´åæ€§å˜æ›´çš„æäº¤è¯´æ˜\nfeat: allow provided config object to extend other configs\r\n\r\nBREAKING CHANGE: `extends` key in config file is now used for extending other config files\n\nåŒ…å«äº† ! å­—ç¬¦ä»¥æé†’æ³¨æ„ç ´åæ€§å˜æ›´çš„æäº¤è¯´æ˜\nfeat!: send an email to the customer when a product is shipped\n\nåŒ…å«äº†èŒƒå›´å’Œç ´åæ€§å˜æ›´ ! çš„æäº¤èªªæ˜\nfeat(api)!: send an email to the customer when a product is shipped\n\nåŒ…å«äº† ! å’Œ BREAKING CHANGE è„šæ³¨çš„æäº¤è¯´æ˜\nchore!: drop support for Node 6\r\n\r\nBREAKING CHANGE: use JavaScript features not available in Node 6.\n\nä¸åŒ…å«æ­£æ–‡çš„æäº¤è¯´æ˜\ndocs: correct spelling of CHANGELOG\n\nåŒ…å«èŒƒå›´çš„æäº¤è¯´æ˜\nfeat(lang): add polish language\n\nåŒ…å«å¤šè¡Œæ­£æ–‡å’Œå¤šè¡Œè„šæ³¨çš„æäº¤è¯´æ˜\nfix: prevent racing of requests\r\n\r\nIntroduce a request id and a reference to latest request. Dismiss\r\nincoming responses other than from latest request.\r\n\r\nRemove timeouts which were used to mitigate the racing issue but are\r\nobsolete now.\r\n\r\nReviewed-by: Z\r\nRefs: #123\n\nçº¦å®šå¼æäº¤è§„èŒƒ\næœ¬æ–‡ä¸­çš„å…³é”®è¯â€œå¿…é¡»ï¼ˆMUSTï¼‰â€ã€â€œç¦æ­¢ï¼ˆMUST NOTï¼‰â€ã€â€œå¿…è¦ï¼ˆREQUIREDï¼‰â€ã€â€œåº”å½“ï¼ˆSHALLï¼‰â€ã€â€œä¸åº”å½“ï¼ˆSHALL NOTï¼‰â€ã€â€œåº”è¯¥ï¼ˆSHOULDï¼‰â€ã€â€œä¸åº”è¯¥ï¼ˆSHOULD NOTï¼‰â€ã€â€œæ¨èï¼ˆRECOMMENDEDï¼‰â€ã€â€œå¯ä»¥ï¼ˆMAYï¼‰â€å’Œâ€œå¯é€‰ï¼ˆOPTIONALï¼‰â€ ï¼Œå…¶ç›¸å…³è§£é‡Šå‚è€ƒ RFC 2119 ã€‚\n\næ¯ä¸ªæäº¤éƒ½å¿…é¡»ä½¿ç”¨ç±»å‹å­—æ®µå‰ç¼€ï¼Œå®ƒç”±ä¸€ä¸ªåè¯æ„æˆï¼Œè¯¸å¦‚ feat æˆ– fix ï¼Œå…¶åæ¥å¯é€‰çš„èŒƒå›´å­—æ®µï¼Œå¯é€‰çš„ !ï¼Œä»¥åŠå¿…è¦çš„å†’å·ï¼ˆè‹±æ–‡åŠè§’ï¼‰å’Œç©ºæ ¼ã€‚\nå½“ä¸€ä¸ªæäº¤ä¸ºåº”ç”¨æˆ–ç±»åº“å®ç°äº†æ–°åŠŸèƒ½æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ feat ç±»å‹ã€‚\nå½“ä¸€ä¸ªæäº¤ä¸ºåº”ç”¨ä¿®å¤äº† bug æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ fix ç±»å‹ã€‚\nèŒƒå›´å­—æ®µå¯ä»¥è·Ÿéšåœ¨ç±»å‹å­—æ®µåé¢ã€‚èŒƒå›´å¿…é¡»æ˜¯ä¸€ä¸ªæè¿°æŸéƒ¨åˆ†ä»£ç çš„åè¯ï¼Œå¹¶ç”¨åœ†æ‹¬å·åŒ…å›´ï¼Œä¾‹å¦‚ï¼š fix(parser):\næè¿°å­—æ®µå¿…é¡»ç›´æ¥è·Ÿåœ¨ &lt;ç±»å‹&gt;(èŒƒå›´) å‰ç¼€çš„å†’å·å’Œç©ºæ ¼ä¹‹åã€‚æè¿°æŒ‡çš„æ˜¯å¯¹ä»£ç å˜æ›´çš„ç®€çŸ­æ€»ç»“ï¼Œä¾‹å¦‚ï¼šfix: array parsing issue when multiple spaces were contained in stringã€‚\nåœ¨ç®€çŸ­æè¿°ä¹‹åï¼Œå¯ä»¥ç¼–å†™è¾ƒé•¿çš„æäº¤æ­£æ–‡ï¼Œä¸ºä»£ç å˜æ›´æä¾›é¢å¤–çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚æ­£æ–‡å¿…é¡»èµ·å§‹äºæè¿°å­—æ®µç»“æŸçš„ä¸€ä¸ªç©ºè¡Œåã€‚\næäº¤çš„æ­£æ–‡å†…å®¹è‡ªç”±ç¼–å†™ï¼Œå¹¶å¯ä»¥ä½¿ç”¨ç©ºè¡Œåˆ†éš”ä¸åŒæ®µè½ã€‚\nåœ¨æ­£æ–‡ç»“æŸçš„ä¸€ä¸ªç©ºè¡Œä¹‹åï¼Œå¯ä»¥ç¼–å†™ä¸€è¡Œæˆ–å¤šè¡Œè„šæ³¨ã€‚æ¯è¡Œè„šæ³¨éƒ½å¿…é¡»åŒ…å« ä¸€ä¸ªä»¤ç‰Œï¼ˆtokenï¼‰ï¼Œåé¢ç´§è·Ÿ :&lt;space&gt; æˆ– &lt;space&gt;# ä½œä¸ºåˆ†éš”ç¬¦ï¼Œåé¢å†ç´§è·Ÿä»¤ç‰Œçš„å€¼ï¼ˆå— git trailer convention å¯å‘ï¼‰ã€‚\nè„šæ³¨çš„ä»¤ç‰Œå¿…é¡»ä½¿ç”¨ - ä½œä¸ºè¿å­—ç¬¦ï¼Œæ¯”å¦‚ Acked-by (è¿™æ ·æœ‰åŠ©äº åŒºåˆ†è„šæ³¨å’Œå¤šè¡Œæ­£æ–‡)ã€‚æœ‰ä¸€ç§ä¾‹å¤–æƒ…å†µå°±æ˜¯ BREAKING CHANGEï¼Œå®ƒå¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªä»¤ç‰Œã€‚\nè„šæ³¨çš„å€¼å¯ä»¥åŒ…å«ç©ºæ ¼å’Œæ¢è¡Œï¼Œå€¼çš„è§£æè¿‡ç¨‹å¿…é¡»ç›´åˆ°ä¸‹ä¸€ä¸ªè„šæ³¨çš„ä»¤ç‰Œ/åˆ†éš”ç¬¦å‡ºç°ä¸ºæ­¢ã€‚\nç ´åæ€§å˜æ›´å¿…é¡»åœ¨æäº¤ä¿¡æ¯ä¸­æ ‡è®°å‡ºæ¥ï¼Œè¦ä¹ˆåœ¨ &lt;ç±»å‹&gt;(èŒƒå›´) å‰ç¼€ä¸­æ ‡è®°ï¼Œè¦ä¹ˆä½œä¸ºè„šæ³¨çš„ä¸€é¡¹ã€‚\nåŒ…å«åœ¨è„šæ³¨ä¸­æ—¶ï¼Œç ´åæ€§å˜æ›´å¿…é¡»åŒ…å«å¤§å†™çš„æ–‡æœ¬ BREAKING CHANGEï¼Œåé¢ç´§è·Ÿç€å†’å·ã€ç©ºæ ¼ï¼Œç„¶åæ˜¯æè¿°ï¼Œä¾‹å¦‚ï¼šBREAKING CHANGE: environment variables now take precedence over config filesã€‚\nåŒ…å«åœ¨ &lt;ç±»å‹&gt;(èŒƒå›´) å‰ç¼€æ—¶ï¼Œç ´åæ€§å˜æ›´å¿…é¡»é€šè¿‡æŠŠ ! ç›´æ¥æ”¾åœ¨ : å‰é¢æ ‡è®°å‡ºæ¥ã€‚å¦‚æœä½¿ç”¨äº† !ï¼Œé‚£ä¹ˆè„šæ³¨ä¸­å¯ä»¥ä¸å†™ BREAKING CHANGE:ï¼ŒåŒæ—¶æäº¤ä¿¡æ¯çš„æè¿°ä¸­åº”è¯¥ç”¨æ¥æè¿°ç ´åæ€§å˜æ›´ã€‚\nåœ¨æäº¤è¯´æ˜ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ feat å’Œ fix ä¹‹å¤–çš„ç±»å‹ï¼Œæ¯”å¦‚ï¼šdocs: updated ref docs.ã€‚\nå·¥å…·çš„å®ç°å¿…é¡»ä¸åŒºåˆ†å¤§å°å†™åœ°è§£ææ„æˆçº¦å®šå¼æäº¤çš„ä¿¡æ¯å•å…ƒï¼Œåªæœ‰ BREAKING CHANGE å¿…é¡»æ˜¯å¤§å†™çš„ã€‚\nBREAKING-CHANGE ä½œä¸ºè„šæ³¨çš„ä»¤ç‰Œæ—¶å¿…é¡»æ˜¯ BREAKING CHANGE çš„åŒä¹‰è¯ã€‚\n\nä¸ºä»€ä¹ˆä½¿ç”¨çº¦å®šå¼æäº¤\n\nè‡ªåŠ¨åŒ–ç”Ÿæˆ CHANGELOGã€‚\nåŸºäºæäº¤çš„ç±»å‹ï¼Œè‡ªåŠ¨å†³å®šè¯­ä¹‰åŒ–çš„ç‰ˆæœ¬å˜æ›´ã€‚\nå‘åŒäº‹ã€å…¬ä¼—ä¸å…¶ä»–åˆ©ç›Šå…³ç³»è€…ä¼ è¾¾å˜åŒ–çš„æ€§è´¨ã€‚\nè§¦å‘æ„å»ºå’Œéƒ¨ç½²æµç¨‹ã€‚\nè®©äººä»¬æ¢ç´¢ä¸€ä¸ªæ›´åŠ ç»“æ„åŒ–çš„æäº¤å†å²ï¼Œä»¥ä¾¿é™ä½å¯¹ä½ çš„é¡¹ç›®åšå‡ºè´¡çŒ®çš„éš¾åº¦ã€‚\n\nFAQ\nåœ¨åˆå§‹å¼€å‘é˜¶æ®µæˆ‘è¯¥å¦‚ä½•å¤„ç†æäº¤è¯´æ˜ï¼Ÿ\næˆ‘ä»¬å»ºè®®ä½ æŒ‰ç…§å‡è®¾ä½ å·²å‘å¸ƒäº†äº§å“é‚£æ ·æ¥å¤„ç†ã€‚å› ä¸ºé€šå¸¸æ€» æœ‰äºº ä½¿ç”¨ä½ çš„è½¯ä»¶ï¼Œå³ä¾¿é‚£æ˜¯ä½ è½¯ä»¶å¼€å‘çš„åŒäº‹ä»¬ã€‚ä»–ä»¬ä¼šå¸Œæœ›çŸ¥é“è¯¸å¦‚ä¿®å¤äº†ä»€ä¹ˆã€å“ªé‡Œä¸å…¼å®¹ç­‰ä¿¡æ¯ã€‚\næäº¤æ ‡é¢˜ä¸­çš„ç±»å‹æ˜¯å¤§å†™è¿˜æ˜¯å°å†™ï¼Ÿ\nå¤§å°å†™éƒ½å¯ä»¥ï¼Œä½†æœ€å¥½æ˜¯ä¸€è‡´çš„ã€‚\nå¦‚æœæäº¤ç¬¦åˆå¤šç§ç±»å‹æˆ‘è¯¥å¦‚ä½•æ“ä½œï¼Ÿ\nå›é€€å¹¶å°½å¯èƒ½åˆ›å»ºå¤šæ¬¡æäº¤ã€‚çº¦å®šå¼æäº¤çš„å¥½å¤„ä¹‹ä¸€æ˜¯èƒ½å¤Ÿä¿ƒä½¿æˆ‘ä»¬åšå‡ºæ›´æœ‰ç»„ç»‡çš„æäº¤å’Œ PRã€‚\nè¿™ä¸ä¼šé˜»ç¢å¿«é€Ÿå¼€å‘å’Œè¿­ä»£å—ï¼Ÿ\nå®ƒé˜»ç¢çš„æ˜¯ä»¥æ‚ä¹±æ— ç« çš„æ–¹å¼å¿«é€Ÿå‰è¿›ã€‚å®ƒåŠ©ä½ èƒ½åœ¨æ¨ªè·¨å¤šä¸ªé¡¹ç›®ä»¥åŠå’Œå¤šä¸ªè´¡çŒ®è€…åä½œæ—¶é•¿æœŸåœ°å¿«é€Ÿæ¼”è¿›ã€‚\nçº¦å®šå¼æäº¤ä¼šè®©å¼€å‘è€…å—é™äºæäº¤çš„ç±»å‹å—ï¼ˆå› ä¸ºä»–ä»¬ä¼šæƒ³ç€å·²æä¾›çš„ç±»å‹ï¼‰ï¼Ÿ\nçº¦å®šå¼æäº¤é¼“åŠ±æˆ‘ä»¬æ›´å¤šåœ°ä½¿ç”¨æŸäº›ç±»å‹çš„æäº¤ï¼Œæ¯”å¦‚ fixesã€‚é™¤æ­¤ä¹‹å¤–ï¼Œçº¦å®šå¼æäº¤çš„çµæ´»æ€§ä¹Ÿå…è®¸ä½ çš„å›¢é˜Ÿä½¿ç”¨è‡ªå·±çš„ç±»å‹ï¼Œå¹¶éšç€æ—¶é—´çš„æ¨ç§»æ›´æ”¹è¿™äº›ç±»å‹ã€‚\nè¿™å’Œ SemVer æœ‰ä»€ä¹ˆå…³è”å‘¢ï¼Ÿ\nfix ç±»å‹æäº¤åº”å½“å¯¹åº”åˆ° PATCH ç‰ˆæœ¬ã€‚feat ç±»å‹æäº¤åº”è¯¥å¯¹åº”åˆ° MINOR ç‰ˆæœ¬ã€‚å¸¦æœ‰ BREAKING CHANGE çš„æäº¤ä¸ç®¡ç±»å‹å¦‚ä½•ï¼Œéƒ½åº”è¯¥å¯¹åº”åˆ° MAJOR ç‰ˆæœ¬ã€‚\næˆ‘å¯¹çº¦å®šå¼æäº¤åšäº†å½¢å¦‚ @jameswomack/conventional-commit-spec çš„æ‰©å±•ï¼Œè¯¥å¦‚ä½•ç‰ˆæœ¬åŒ–ç®¡ç†è¿™äº›æ‰©å±•å‘¢ï¼Ÿ\næˆ‘ä»¬æ¨èä½¿ç”¨ SemVer æ¥å‘å¸ƒä½ å¯¹äºè¿™ä¸ªè§„èŒƒçš„æ‰©å±•ï¼ˆå¹¶é¼“åŠ±ä½ åˆ›å»ºè¿™äº›æ‰©å±•ï¼ï¼‰\nå¦‚æœæˆ‘ä¸å°å¿ƒä½¿ç”¨äº†é”™è¯¯çš„æäº¤ç±»å‹ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ\nå½“ä½ ä½¿ç”¨äº†åœ¨è§„èŒƒä¸­ä½†é”™è¯¯çš„ç±»å‹æ—¶ï¼Œä¾‹å¦‚å°† feat å†™æˆäº† fix\nåœ¨åˆå¹¶æˆ–å‘å¸ƒè¿™ä¸ªé”™è¯¯ä¹‹å‰ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ git rebase -i æ¥ç¼–è¾‘æäº¤å†å²ã€‚è€Œåœ¨å‘å¸ƒä¹‹åï¼Œæ ¹æ®ä½ ä½¿ç”¨çš„å·¥å…·å’Œæµç¨‹ä¸åŒï¼Œä¼šæœ‰ä¸åŒçš„æ¸…ç†æ–¹æ¡ˆã€‚\nå½“ä½¿ç”¨äº† ä¸åœ¨ è§„èŒƒä¸­çš„ç±»å‹æ—¶ï¼Œä¾‹å¦‚å°† feat å†™æˆäº† feet\nåœ¨æœ€åçš„åœºæ™¯ä¸‹ï¼Œå³ä¾¿æäº¤æ²¡æœ‰æ»¡è¶³çº¦å®šå¼æäº¤çš„è§„èŒƒï¼Œä¹Ÿä¸ä¼šæ˜¯ä¸–ç•Œæœ«æ—¥ã€‚è¿™åªæ„å‘³ç€è¿™ä¸ªæäº¤ä¼šè¢«åŸºäºè§„èŒƒçš„å·¥å…·é”™è¿‡è€Œå·²ã€‚\næ‰€æœ‰çš„è´¡çŒ®è€…éƒ½éœ€è¦ä½¿ç”¨çº¦å®šå¼æäº¤è§„èŒƒå—ï¼Ÿ\nå¹¶ä¸ï¼å¦‚æœä½ ä½¿ç”¨åŸºäº squash çš„ Git å·¥ä½œæµï¼Œä¸»ç®¡ç»´æŠ¤è€…å¯ä»¥åœ¨åˆå¹¶æ—¶æ¸…ç†æäº¤ä¿¡æ¯â€”â€”è¿™ä¸ä¼šå¯¹æ™®é€šæäº¤è€…äº§ç”Ÿé¢å¤–çš„è´Ÿæ‹…ã€‚æœ‰ç§å¸¸è§çš„å·¥ä½œæµæ˜¯è®© git ç³»ç»Ÿè‡ªåŠ¨ä» pull request ä¸­ squash å‡ºæäº¤ï¼Œå¹¶å‘ä¸»ç®¡ç»´æŠ¤è€…æä¾›ä¸€ä»½è¡¨å•ï¼Œç”¨ä»¥åœ¨åˆå¹¶æ—¶è¾“å…¥åˆé€‚çš„ git æäº¤ä¿¡æ¯ã€‚\nçº¦å®šå¼æäº¤è§„èŒƒä¸­å¦‚ä½•å¤„ç†è¿˜åŸï¼ˆrevertï¼‰æäº¤ï¼Ÿ\nè¿˜åŸæäº¤ï¼ˆRevertingï¼‰ä¼šæ¯”è¾ƒå¤æ‚ï¼šä½ è¿˜åŸçš„æ˜¯å¤šä¸ªæäº¤å—ï¼Ÿå¦‚æœä½ è¿˜åŸäº†ä¸€ä¸ªåŠŸèƒ½æ¨¡å—ï¼Œä¸‹æ¬¡å‘å¸ƒçš„åº”è¯¥æ˜¯è¡¥ä¸å—ï¼Ÿ\nçº¦å®šå¼æäº¤ä¸èƒ½æ˜ç¡®çš„å®šä¹‰è¿˜åŸè¡Œä¸ºã€‚æ‰€ä»¥æˆ‘ä»¬æŠŠè¿™ä¸ªé—®é¢˜ç•™ç»™å·¥å…·å¼€å‘è€…ï¼ŒåŸºäº ç±»å‹ å’Œ è„šæ³¨ çš„çµæ´»æ€§æ¥å¼€å‘ä»–ä»¬è‡ªå·±çš„è¿˜åŸå¤„ç†é€»è¾‘ã€‚\nä¸€ç§å»ºè®®æ˜¯ä½¿ç”¨ revert ç±»å‹ï¼Œå’Œä¸€ä¸ªæŒ‡å‘è¢«è¿˜åŸæäº¤æ‘˜è¦çš„è„šæ³¨ï¼š\nrevert: let us never again speak of the noodle incident\r\n\r\nRefs: 676104e, a215868\n\nReferences\n\nGit æäº¤è§„èŒƒ\n"},"CçŸ¥è¯†å®åº“/Git":{"title":"Git","links":[],"tags":[],"content":"Git æ‰‹å†Œ\nPro Git é˜…è¯»ç¬”è®°ã€‚\nèµ·æ­¥\n\nGit è¯ç”Ÿäº 2005 å¹´ï¼Œç”± linus ç¼–å†™ã€‚\nGit æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿã€‚\nGit ä¿å­˜æ–‡ä»¶çš„å¿«ç…§è€Œéå·®å¼‚ã€‚\n\nGit æ–‡ä»¶çŠ¶æ€ï¼š\nuntracked &lt;--&gt; unmodified &lt;--&gt; modified &lt;--&gt; staged\n"},"CçŸ¥è¯†å®åº“/JWT":{"title":"JWT","links":[],"tags":[],"content":"JWT(JSON Web Token)"},"CçŸ¥è¯†å®åº“/Mumuæ¨¡æ‹Ÿå™¨":{"title":"Mumuæ¨¡æ‹Ÿå™¨","links":[],"tags":["TODO"],"content":"Mumu æ¨¡æ‹Ÿå™¨\n\nå¼€å±å¹¿å‘Š\nå¼€å±å¹¿å‘Šç›®å½• C:\\Users\\iFlygo\\AppData\\Roaming\\Netease\\MuMuPlayer-12.0\\data\\startupImageï¼Œç¦æ­¢å†™å…¥æƒé™å°±å¯ä»¥å±è”½äº†ã€‚\n\nå‚è€ƒé“¾æ¥"},"CçŸ¥è¯†å®åº“/Obsidian":{"title":"Obsidian","links":[],"tags":["TODO","obsidian"],"content":"Obsidian\n\nå‚è€ƒé“¾æ¥"},"CçŸ¥è¯†å®åº“/SkipLists":{"title":"SkipLists","links":[],"tags":[],"content":"è·³è¡¨\nSkipList(è·³è¡¨) è¿™ç§æ•°æ®ç»“æ„æ˜¯ç”±_William Pugh_äº 1990 å¹´åœ¨åœ¨ Communications of the ACM June 1990, 33(6) 668-676 å‘è¡¨äº†_Skip lists: a probabilistic alternative to balanced trees_ï¼Œåœ¨å…¶ä¸­è¯¦ç»†æè¿°äº†ä»–çš„å·¥ä½œã€‚ç”±è®ºæ–‡æ ‡é¢˜å¯çŸ¥ï¼ŒSkipList çš„è®¾è®¡åˆè¡·æ˜¯ä½œä¸ºæ›¿æ¢å¹³è¡¡æ ‘çš„ä¸€ç§é€‰æ‹©ã€‚\næˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒAVL æ ‘æœ‰ç€ä¸¥æ ¼çš„ O(\\log_2N) çš„æŸ¥è¯¢æ•ˆç‡ï¼Œä½†æ˜¯ç”±äºæ’å…¥è¿‡ç¨‹ä¸­å¯èƒ½éœ€è¦å¤šæ¬¡æ—‹è½¬ï¼Œå¯¼è‡´æ’å…¥æ•ˆç‡è¾ƒä½ï¼Œå› è€Œæ‰æœ‰äº†åœ¨å·¥ç¨‹ç•Œæ›´åŠ å®ç”¨çš„çº¢é»‘æ ‘ã€‚\nä½†æ˜¯çº¢é»‘æ ‘æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯åœ¨å¹¶å‘ç¯å¢ƒä¸‹ä½¿ç”¨ä¸æ–¹ä¾¿ï¼Œæ¯”å¦‚éœ€è¦æ›´æ–°æ•°æ®æ—¶ï¼ŒSkip éœ€è¦æ›´æ–°çš„éƒ¨åˆ†æ¯”è¾ƒå°‘ï¼Œé”çš„ä¸œè¥¿ä¹Ÿæ›´å°‘ï¼Œè€Œçº¢é»‘æ ‘æœ‰ä¸ªå¹³è¡¡çš„è¿‡ç¨‹ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šæ¶‰åŠåˆ°è¾ƒå¤šçš„èŠ‚ç‚¹ï¼Œéœ€è¦é”ä½æ›´å¤šçš„èŠ‚ç‚¹ï¼Œä»è€Œé™ä½äº†å¹¶å‘æ€§èƒ½ã€‚\nSkipList è¿˜æœ‰ä¸€ä¸ªä¼˜åŠ¿å°±æ˜¯å®ç°ç®€å•ï¼ŒSkipList çš„å®ç°åªèŠ±äº† 2 ä¸ªå°æ—¶ï¼Œè€Œçº¢é»‘æ ‘ï¼Œæˆ‘å¯èƒ½å¾— 2 å¤©ã€‚\næ—¶éš”å°†è¿‘ä¸‰åå¤šå¹´ï¼ŒSkipList è¿™ç§æ•°æ®ç»“æ„ä»åœ¨è®¸å¤šé€”å¾„æœ‰ç”¨æ­¦ä¹‹åœ°ï¼Œæ¯”å¦‚Redis, è¿˜æœ‰ Google çš„è‘—åé¡¹ç›®Bigtable."},"CçŸ¥è¯†å®åº“/åè¯":{"title":"åè¯","links":[],"tags":[],"content":"RDNS\nåå‘ DNSï¼ˆrDNS æˆ– RDNSï¼‰æ˜¯ä» IP åœ°å€æŸ¥æ‰¾åŸŸåçš„åŸŸåæœåŠ¡ï¼ˆDNSï¼‰ã€‚å¸¸è§„çš„ DNS è¯·æ±‚å°†è§£æç»™å®šåŸŸåçš„ IP åœ°å€ï¼›å› æ­¤åç§°ä¸ºâ€œreverseâ€ã€‚\næ ‡é‡ç±»å‹\næ ‡é‡ç±»å‹ï¼ˆScalar typeï¼‰æ˜¯ç›¸å¯¹å¤åˆç±»å‹ï¼ˆCompound typeï¼‰æ¥è¯´çš„ï¼šæ ‡é‡ç±»å‹åªèƒ½æœ‰ä¸€ä¸ªå€¼ï¼Œè€Œå¤åˆç±»å‹å¯ä»¥åŒ…å«å¤šä¸ªå€¼ã€‚å¤åˆç±»å‹æ˜¯ç”±æ ‡é‡ç±»å‹æ„æˆçš„ã€‚"},"CçŸ¥è¯†å®åº“/å¯¹æ•°":{"title":"å¯¹æ•°","links":[],"tags":["math","doc","TODO"],"content":"å¯¹æ•°\n\n"},"CçŸ¥è¯†å®åº“/æ•°å­¦":{"title":"æ•°å­¦","links":[],"tags":[],"content":"æŒ‡æ•°\nX^AX^B = X^{A+B}\r\n\\frac{X^A}{X^B} = X^{A-B}"},"CçŸ¥è¯†å®åº“/æ•°æ®ç»“æ„":{"title":"æ•°æ®ç»“æ„","links":[],"tags":["TODO"],"content":"ç©ºé—´å¤æ‚åº¦\næ—¶é—´å¤æ‚åº¦\n\nè¡¨\nå½¢å¦‚ A_1,A_2,A_3,\\cdots,A_N çš„è¡¨ï¼Œæˆ‘ä»¬è¯´ï¼Œè¿™ä¸ªè¡¨çš„å¤§å°æ˜¯Nã€‚æˆ‘ä»¬ç§°å¤§å°ä¸º 0 çš„è¡¨ä¸ºç©ºè¡¨ (empty list)ã€‚\r\nå¯¹äºé™¤ç©ºè¡¨å¤–çš„ä»»ä½•è¡¨ï¼Œæˆ‘ä»¬è¯´A_{i+1}åç»§A_i(æˆ–ç»§A_iä¹‹å) å¹¶ç§°A_{i-1}(i&lt;N) å‰é©±A_i(i&gt;1)ã€‚è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯A_1ï¼Œæœ€åä¸€ä¸ªå…ƒç´ æ˜¯A_Nã€‚\næ•°ç»„ Array\næ•°ç»„å°±æ˜¯ä¸€ç§çº¿æ€§è¡¨ï¼Œç‰©ç†ç»“æ„ä¸ºé¡ºåºå­˜å‚¨ï¼Œæ˜¯å¤§å¤šæ•°è¯­è¨€å†…ç½®çš„åŸºæœ¬æ•°æ®ç±»å‹ã€‚\n\n\n// å®šä¹‰æ•°æ®å…ƒç´ \ntypedef struct {\n\tint id;\n\tchar name[30];\n\tchar sex; // man-&gt;m, woman-&gt;w\n\tunsigned int age;\n} Node;\n \nNode array[5];\nä¼˜ç‚¹\n\næ„å»ºéå¸¸ç®€å•\nèƒ½åœ¨ O(1) çš„æ—¶é—´é‡Œæ ¹æ®æ•°ç»„çš„ä¸‹æ ‡ï¼ˆindexï¼‰æŸ¥è¯¢æŸä¸ªå…ƒç´ \n\nç¼ºç‚¹\n\næ„å»ºæ—¶å¿…é¡»åˆ†é…ä¸€æ®µè¿ç»­çš„è¾ƒå¤§çš„ç©ºé—´ï¼Œå®¹æ˜“é€ æˆæµªè´¹\næŸ¥è¯¢æŸä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨æ—¶éœ€è¦éå†æ•´ä¸ªæ•°ç»„ï¼Œè€—è´¹ O(n) çš„æ—¶é—´ï¼ˆå…¶ä¸­ï¼Œn æ˜¯å…ƒç´ çš„ä¸ªæ•°ï¼‰\nåˆ é™¤å’Œæ·»åŠ æŸä¸ªå…ƒç´ æ—¶ï¼ŒåŒæ ·éœ€è¦è€—è´¹ O(n) çš„æ—¶é—´\n\né“¾è¡¨ Linked List\né“¾è¡¨æ˜¯é“¾å¼å­˜å‚¨ç»“æ„çš„çº¿æ€§è¡¨ã€‚\n\nå•é“¾è¡¨ï¼ˆsinglelistï¼‰\n\nstruct Node {\n\tElementType data;\n\tstruct Node next;\n};\n \ntypedef struct Node *PtrNode;\ntypedef PtrNode List;\ntypedef PtrNode Position;\n \nåŒé“¾è¡¨\n\n\n \n \n\næ ˆ\nLast In First Out å…ˆè¿›å…ˆå‡º\næ ˆæ˜¯é™å®šä»…åœ¨è¡¨å°¾è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œçš„çº¿æ€§è¡¨ã€‚\næ’å…¥ â†’ å…¥æ ˆ â†’ å‹æ ˆ\r\nåˆ é™¤ â†’ å‡ºæ ˆ â†’ å¼¹æ ˆ\r\n\n\né˜Ÿåˆ—\né˜Ÿåˆ—æ˜¯åªèƒ½åœ¨ä¸€ç«¯è¿›è¡Œæ’å…¥æ“ä½œï¼Œåœ¨å¦ä¸€ç«¯è¿›è¡Œåˆ é™¤æ“ä½œçš„çº¿æ€§è¡¨ã€‚\n\nä¸²ï¼ˆå­—ç¬¦ä¸²ï¼‰string\næ ‘ tree\n"},"CçŸ¥è¯†å®åº“/æ¦‚ç‡è®º/æ¦‚ç‡":{"title":"æ¦‚ç‡","links":[],"tags":["TODO"],"content":""},"CçŸ¥è¯†å®åº“/ç¿»è¯‘ç§¯ç´¯":{"title":"ç¿»è¯‘ç§¯ç´¯","links":[],"tags":[],"content":"ç¿»è¯‘ç§¯ç´¯\nè®¡ç®—æœº\nout of memory(OOM) å†…å­˜ä¸è¶³\nparameters(å½¢å‚)\narguments(å®å‚)\nscope(ä½œç”¨åŸŸ)\nè®ºå›\noff-topic(OT) è·‘é¢˜"},"CçŸ¥è¯†å®åº“/è¾¾èŠ¬å¥‡å‰ªè¾‘":{"title":"è¾¾èŠ¬å¥‡å‰ªè¾‘","links":[],"tags":[],"content":"å¿«æ·é”®\nå‰ªè¾‘\n\ni  o ï¼šæ ‡è®°å…¥ç‚¹å’Œå‡ºç‚¹\nF9 : æ’å…¥\n\næ€§èƒ½ä¼˜åŒ–\nä»£ç†åª’ä½“\n\næ›¿èº«\nåª’ä½“ä¼˜åŒ–"},"Eä¸´æ—¶ç¬”è®°/Bilibiliç¦åˆ©ç¤¾å…‘æ¢":{"title":"Bilibiliç¦åˆ©ç¤¾å…‘æ¢","links":[],"tags":[],"content":"return code:\r\n78107: â€˜å…‘æ¢ä¸­ï¼Œæƒç›Šå°†åœ¨5åˆ†é’Ÿå†…å‘æ”¾ï¼Œè‹¥å› åº“å­˜ä¸è¶³ç­‰åŸå› å…‘æ¢å¤±è´¥å°†è‡ªåŠ¨é€€è¿˜â€™,\r\n78113: â€˜è¯¥æ‰‹æœºå·å·²è¢«å…¶ä»–è´¦å·æˆæƒç»‘å®šï¼Œæ— æ³•å…‘æ¢ï¼Œè¯·åˆ‡æ¢è´¦å·é‡è¯•â€™,\r\n78122: â€˜æ‚¨è¦å…‘æ¢æƒç›Šçš„æ‰‹æœºå·ä¸æ³¨å†Œæ‰‹æœºå·ä¸ä¸€è‡´ï¼Œè¯·é‡æ–°ç»‘å®šâ€™,\r\n78125: â€˜æœ¬æœˆé¢†å–å·²è¾¾ä¸Šé™â€™,\r\n78126: â€˜æ‰‹æœºå·é2233å¡â€™,\r\n78127: â€˜æƒç›Šå·²å‘å®Œï¼Œè¯·æ˜æ—¥å†æ¥â€™,\r\n78104: â€˜ç¦åˆ©ç‚¹ä¸è¶³â€™,\r\n78117: â€˜è¯¥æ‰‹æœºå·/è´¦å·æœ¬æœˆå·²å…‘æ¢ç¦åˆ©ç‚¹è¾¾ä¸Šé™â€™"},"Eä¸´æ—¶ç¬”è®°/ESP32":{"title":"ESP32","links":[],"tags":["TODO"],"content":"ESP32\n\n\n\n"},"Eä¸´æ—¶ç¬”è®°/KDE-6-ä½“éªŒæŠ¥å‘Š":{"title":"KDE 6 ä½“éªŒæŠ¥å‘Š","links":["Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Linux/btrfs"],"tags":["TODO","linux","kde"],"content":"KDE 6 ä½“éªŒæŠ¥å‘Š\n2024 å¹´å¼€æ˜¥æ—¶ï¼Œarchlinux çš„ KDE 6 å‘å¸ƒï¼Œé»˜è®¤å¯ç”¨äº† wayland. æ›¾ç»å°è¯•è¿‡ KDE, ä½†æ˜¯å› ä¸ºå…¶å¤šè€Œæ‚çš„è®¾ç½®ï¼Œ\r\næœ€åå¼ƒä¹‹è€Œé€‰æ‹©äº† sway. KDE 6 å¸¦æ¥äº†å¾ˆå¤šç‰¹æ€§å’Œä¼˜åŒ–ï¼Œè€ƒè™‘å†ä¸‰åï¼Œå†³å®šå†ä¸€æ¬¡å°è¯• KDE.\n\nå¤‡ä»½\nä¸ºé¿å…åç»­å¯¹ KDE ä¸æ»¡æ„ï¼Œå…¶é…ç½®æ–‡ä»¶æ±¡æŸ“æˆ‘çš„ç›®å½•ï¼Œæå‰åˆ©ç”¨ btrfs çš„ç‰¹æ€§å¤‡ä»½ç³»ç»Ÿã€‚\nå®‰è£…\nä»…å®‰è£… plasma-meta åŒ…ï¼Œç®—æ˜¯æœ€å°åŒ–å®‰è£…äº†.\r\næ—¢ç„¶é€‰æ‹©ä½¿ç”¨ DE, é‚£å°±å¯ç”¨ SDDM å§ã€‚\nsudo systemctl enable --now sddm.service\né…ç½®\n\nKde ç›¸å…³é…ç½®ã€‚1\nsddm å¯ç”¨ wayland.2\nå…³é—­ File Search çš„ç´¢å¼•ã€‚(Settingâ†’Searchâ†’File Search)\nå¯ç”¨ Virtual Keyboard, äº«å—åœ¨ electron åº”ç”¨è¾“å…¥ä¸­æ–‡çš„å¿«æ„Ÿã€‚(Settingâ†’Keyboardâ†’Virtual Keyboard)\n\né—®é¢˜\nå‚è€ƒé“¾æ¥\nFootnotes\n\n\nwiki.archlinux.org/title/KDE â†©\n\n\nwiki.archlinux.org/title/SDDM#Running_under_Wayland â†©\n\n\n"},"Eä¸´æ—¶ç¬”è®°/Linux-Kernel-å‚æ•°":{"title":"Linux Kernel å‚æ•°","links":[],"tags":["TODO"],"content":"Linux Kernel å‚æ•°\n"},"Eä¸´æ—¶ç¬”è®°/Obsidian":{"title":"Obsidian","links":[],"tags":[],"content":""},"Eä¸´æ—¶ç¬”è®°/Rime":{"title":"Rime","links":[],"tags":["rime","fcitx5","linux"],"content":"Rime\nè¿™æ˜¯ä¸€ä¸ªå¤šå¹³å°çš„è¾“å…¥æ³•å¼•æ“ï¼Œå¯é«˜åº¦è‡ªå®šä¹‰ã€‚\n"},"Eä¸´æ—¶ç¬”è®°/Wayland":{"title":"Wayland","links":[],"tags":["TODO"],"content":"Wayland åº”ç”¨å¼€å‘\n"},"Eä¸´æ—¶ç¬”è®°/constraint":{"title":"constraint","links":[],"tags":[],"content":""},"Eä¸´æ—¶ç¬”è®°/ffmpeg":{"title":"ffmpeg","links":[],"tags":["TODO","ffmpeg","video","audio"],"content":"ffmpeg\n\næŸ¥çœ‹è§†é¢‘ä¿¡æ¯\nåˆ†ç¦»éŸ³é¢‘\nffmpeg -i input.mp4 -vn -c:a copy output.aac\n-vnÂ æ˜¯â€œno videoâ€çš„ç¼©å†™ï¼Œè¡¨ç¤ºåœ¨è¾“å‡ºä¸­æ’é™¤è§†é¢‘æµã€‚_-c:a copy_Â è¡¨ç¤ºéŸ³é¢‘ç¼–è§£ç å™¨ï¼ˆcodec of audioï¼‰åº”è¯¥ç›´æ¥å¤åˆ¶ï¼Œä¸è¿›è¡Œè½¬ç ï¼Œè¿™æ ·å¯ä»¥åŠ å¿«å¤„ç†é€Ÿåº¦ã€‚å¦‚æœéœ€è¦è¾“å‡ºä¸º MP3 æ ¼å¼ï¼Œå¯ä»¥å°†å‘½ä»¤ä¿®æ”¹ä¸º ffmpeg -i input.mp4 -vn -c:a mp3 output.mp3"},"Eä¸´æ—¶ç¬”è®°/firefox":{"title":"firefox","links":[],"tags":["TODO"],"content":"FIREFOX\n\nç¾åŒ–\nFirefox é»˜è®¤çš„ä¸»é¢˜åœ¨ä¸€äº›ç»†èŠ‚å¤„è®©äººæœ‰äº›ä¸æ»¡ï¼Œfirefox-ui-fix ä¿®å¤äº†è¿™äº›é—®é¢˜ã€‚\nbash -c &quot;$(curl -fsSL raw.githubusercontent.com/black7375/Firefox-UI-Fix/master/install.sh)&quot;"},"Eä¸´æ—¶ç¬”è®°/fish":{"title":"fish","links":[],"tags":[],"content":""},"Eä¸´æ—¶ç¬”è®°/go":{"title":"go","links":[],"tags":[],"content":""},"Eä¸´æ—¶ç¬”è®°/htop":{"title":"htop","links":[],"tags":["TODO","htop","linux","terminal"],"content":"HTOP\nHtop æ˜¯ä¸€æ¬¾è·¨å¹³å°çš„ç»ˆç«¯äº¤äº’å¼è¿›ç¨‹ç›‘è§†å™¨ã€‚1\n\nç•Œé¢ä»‹ç»\n\nCPU2\n\nçº¢è‰²: kernel thread å ç”¨ï¼Œåƒæ˜¯ç³»çµ±éœ€è¦è‡ªå‹•åš process schedulingã€memory management ç­‰ç­‰ï¼Œæ˜¯æ•´å€‹ç³»çµ±ä¸­æœ€é‡è¦ã€å„ªå…ˆæ¬Šä¹Ÿæœ€é«˜çš„ä»»å‹™\nç»¿è‰²: normal priority thread, æ’ç¨‹çš„å„ªå…ˆæ¬Šæ¯” kernel thread ä½ä¸€äº›ï¼Œä¸€èˆ¬ä¾†èªªä½¿ç”¨è€…åŸ·è¡Œçš„ç¨‹å¼å¦‚æœæ²’æœ‰ç‰¹åˆ¥èª¿å„ªå…ˆæ¬Šçš„è©±ï¼Œéƒ½æœƒæ­¸åœ¨é€™ä¸€é¡\nè“è‰²: low priority threadï¼Œå› ç‚ºå„ªå…ˆæ¬Šæ¯”è¼ƒä½ï¼Œåˆ†é…åˆ°çš„ CPU è‡ªç„¶ä¹Ÿæ¯”è¼ƒå°‘ï¼Œé©åˆã€Œæˆ‘ okï¼Œä½ å…ˆè·‘ã€é‚£é¡æ¯”è¼ƒç„¡é—œç·Šè¦çš„ processï¼Œå¦‚æœ CPU å·²ç¶“è¢«æ“åˆ°å¿«ä¸è¡Œäº†ï¼Œæˆ–æ˜¯ memory çœŸçš„ä¸å¤ ç”¨äº†ï¼Œç¬¬ä¸€å€‹æ®ºæ‰çš„ä¹Ÿæ˜¯é€™é¡ process\n\nMemory &amp; Swap\nå‚è€ƒé“¾æ¥\nFootnotes\n\n\ngithub.com/htop-dev/htop â†©\n\n\nä½ ä¸€å®šç”¨é htopï¼Œä½†ä½ æœ‰çœ‹æ‡‚æ¯å€‹æ¬„ä½å— â†©\n\n\n"},"Eä¸´æ—¶ç¬”è®°/icat-develop":{"title":"icat-develop","links":[],"tags":["TODO","c","linux"],"content":"icat develop history\n\næ€§èƒ½åˆ†æ\n\nicat:\n\nv0.1.0\n\nprintf â†’ fputs\r\n\nâ€˜show-endsâ€™\r\n\n\n\ncat:\n\n\n\nuu-cat:\r\nv0.0.20\r\n\n\n"},"Eä¸´æ—¶ç¬”è®°/iperf":{"title":"iperf","links":[],"tags":["TODO"],"content":"IPERF\nIperf 3 æ˜¯ä¸€ä¸ª tcp, udp å’Œ sctp ç½‘ç»œå¸¦å®½æµ‹é‡å·¥å…·ã€‚\n\nç”¨ä¾‹\nå‚è€ƒé“¾æ¥"},"Eä¸´æ—¶ç¬”è®°/irik":{"title":"irik","links":[],"tags":["TODO"],"content":"TODO\n\nåª’ä½“ä¿¡æ¯æœåŠ¡\n\n\n TMDB v3 api âœ… 2022-12-07\n douban api\n bangumi api\n\n\nJackett æœåŠ¡æ¥å…¥\nä¸‹è½½å™¨æ¥å…¥\n\n\n qBittorrent\n[ ]\n"},"Eä¸´æ—¶ç¬”è®°/javascriptç¬”è®°":{"title":"javascriptç¬”è®°","links":[],"tags":["TODO"],"content":"JavaScript å­¦ä¹ ç¬”è®°\n\n"},"Eä¸´æ—¶ç¬”è®°/kvm":{"title":"kvm","links":[],"tags":[],"content":"KVM\nKVM(Kernel-based Virtual Machine)ï¼Œæ˜¯å†…å»ºåœ¨ Linux Kernel ä¸­çš„ hypervisorã€‚ç›¸å¯¹äºå¦ä¸€ç§å¼€æºè™šæ‹ŸåŒ– Xenï¼Œ\r\nKVM æ›´ä¸ºç®€å•å’Œæ˜“ç”¨ï¼Œå¹¶ä¸”å’ŒåŸç”Ÿ QEMU ä¸åŒï¼ŒKVM é€šè¿‡ä¸€ä¸ªå†…æ ¸æ¨¡å—ä½¿ç”¨ CPU ç¡¬ä»¶æ‰©å±• (HVM) æ¥è¿è¡Œä¸€ä¸ªç‰¹æ®Šè¿è¡Œæ¨¡å¼çš„ QEMUã€‚\né€šè¿‡ KVMï¼Œå¯ä»¥åœ¨ Host ç‰©ç†ä¸»æœºä¸Šè¿è¡Œå¤šç§æ— éœ€ä¿®æ”¹çš„æ“ä½œç³»ç»Ÿ (Linux, Windows, ç”šè‡³ macOS)ï¼Œæ¯ä¸ªé¢è™šæ‹Ÿæœºéƒ½æœ‰è‡ªå·±ç§æœ‰çš„\r\nè™šæ‹Ÿç¡¬ä»¶ï¼šç½‘å¡ã€ç£ç›˜ã€æ˜¾å¡ç­‰ç­‰ã€‚æ³¨æ„ï¼ŒKVM å’Œ Xen ä¸åŒä¹‹å¤„æ˜¯ KVM æ˜¯ä½œä¸º Linux çš„ä¸€éƒ¨åˆ†ï¼Œé‡‡ç”¨äº†å¸¸è§„çš„ Linux è°ƒåº¦å’Œå†…å­˜ç®¡ç†ï¼Œ\r\næ‰€ä»¥æ›´ä¸ºå°å·§å’Œæ˜“äºä½¿ç”¨ã€‚åŒæ—¶ KVM ä»…æ”¯æŒ x86 hvmï¼ˆvt/svm æŒ‡ä»¤é›†ï¼‰ï¼Œä¸éœ€è¦ä¿®æ”¹ Guest æ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥ KVM å¹¶ä¸æ”¯æŒ\r\nparavirtualation for CPUï¼Œä½†æ˜¯ KVM ä¸ºäº†æé«˜ I/O æ€§èƒ½ï¼Œæ”¯æŒ paravirtualization for device driversï¼ˆé©±åŠ¨åŠè™šæ‹ŸåŒ–ï¼‰ã€‚\nå‡†å¤‡å·¥ä½œ"},"Eä¸´æ—¶ç¬”è®°/qemu":{"title":"qemu","links":[],"tags":[],"content":"QEMU\nQEMU æ˜¯ä¸€æ¬¾å¼€æºå…è´¹çš„ç‰©ç†æœºæ¨¡æ‹Ÿå™¨å’Œè™šæ‹Ÿå™¨ã€‚æ›´å¤šä»‹ç»å‰å¾€å®˜ç½‘äº†è§£ã€‚www.qemu.org/\nå®‰è£…\n \nä½¿ç”¨\nqemu-system-x86_64 -enable-kvm -machine q35 \\\n                   -device intel-iommu -cpu host -smp 6 -m 8G \\\n                   -drive if=pflash,format=raw,readonly=on,file=/usr/share/edk2-ovmf/x64/OVMF_CODE.fd \\\n                   -drive file=$HOME/KVM/ArchLinux.img,index=0,media=disk,if=virtio \\\n                   -vga none -device qxl-vga,vgamem_mb=256 -display egl-headless,gl=on \\\n                   -spice unix=on,addr=/run/user/1000/archlinux.spice.sock,disable-ticketing=on \\\n                   -device virtio-serial-pci \\\n                   -device virtserialport,chardev=spicechannel0,name=com.redhat.spice.0 \\\n                   -chardev spicevmc,id=spicechannel0,name=vdagent\n \nqemu-system-x86_64 -enable-kvm -machine q35 \\\n                         -device intel-iommu -cpu host -smp 6 -m 8G \\\n                         -drive if=pflash,format=raw,readonly=on,file=/usr/share/edk2-ovmf/x64/OVMF_CODE.fd \\\n                         -drive file=$HOME/KVM/ArchLinux.img \\\n                         -cdrom $HOME/Downloads/archlinux-2023.06.01-x86_64.iso -boot order=d \\\n                         -display egl-headless,gl=on,rendernode=/dev/dri/renderD128 \\\n                         -spice unix=on,addr=/run/user/1000/archlinux.spice.sock,disable-ticketing=on \\\n                         -device virtio-serial-pci \\\n                         -device virtserialport,chardev=spicechannel0,name=com.redhat.spice.0 \\\n                         -chardev spicevmc,id=spicechannel0,name=vdagent\nqemu-system-x86_64 -enable-kvm -machine q35 \\\n                             -device intel-iommu -cpu host -smp 6 -m 8G \\\n                             -drive if=pflash,format=raw,readonly=on,file=/usr/share/edk2-ovmf/x64/OVMF_CODE.fd \\\n                             -drive file=$HOME/KVM/ArchLinux.img,index=0,media=disk,if=virtio \\\n                             -cdrom $HOME/Downloads/archlinux-2023.06.01-x86_64.iso -boot order=d \\\n                             -device virtio-vga-gl -display egl-headless,gl=on,rendernode=/dev/dri/renderD128 \\\n                             -spice unix=on,addr=/run/user/1000/archlinux.spice.sock,disable-ticketing=on \\\n                             -device virtio-serial-pci \\\n                             -device virtserialport,chardev=spicechannel0,name=com.redhat.spice.0 \\\n                             -chardev spicevmc,id=spicechannel0,name=vdagent\nvirt-viewer è¿æ¥ spice+unix:///run/user/1000/archlinux.spice.sock\nReferences\nwiki.qemu.org/Main_Page\r\nwiki.archlinux.org/title/QEMU"},"Eä¸´æ—¶ç¬”è®°/strace":{"title":"strace","links":[],"tags":["TODO","linux"],"content":"strace\nstrace å¸¸ç”¨æ¥è·Ÿè¸ªè¿›ç¨‹æ‰§è¡Œæ—¶çš„ç³»ç»Ÿè°ƒç”¨å’Œæ‰€æ¥æ”¶çš„ä¿¡å·ã€‚åœ¨ Linux ä¸–ç•Œï¼Œè¿›ç¨‹ä¸èƒ½ç›´æ¥è®¿é—®ç¡¬ä»¶è®¾å¤‡ï¼Œå½“è¿›ç¨‹éœ€è¦è®¿é—®ç¡¬ä»¶è®¾å¤‡ (æ¯”å¦‚è¯»å–ç£ç›˜æ–‡ä»¶ï¼Œæ¥æ”¶ç½‘ç»œæ•°æ®ç­‰ç­‰) æ—¶ï¼Œå¿…é¡»ç”±ç”¨æˆ·æ€æ¨¡å¼åˆ‡æ¢è‡³å†…æ ¸æ€æ¨¡å¼ï¼Œé€šè¿‡ç³»ç»Ÿè°ƒç”¨è®¿é—®ç¡¬ä»¶è®¾å¤‡ã€‚strace å¯ä»¥è·Ÿè¸ªåˆ°ä¸€ä¸ªè¿›ç¨‹äº§ç”Ÿçš„ç³»ç»Ÿè°ƒç”¨ï¼ŒåŒ…æ‹¬å‚æ•°ï¼Œè¿”å›å€¼ï¼Œæ‰§è¡Œæ¶ˆè€—çš„æ—¶é—´ã€‚\n"},"Eä¸´æ—¶ç¬”è®°/swap":{"title":"swap","links":["Gç»˜å›¾æ–‡ä»¶/swap.excalidraw"],"tags":["TODO","Doc","swap","linux"],"content":"SWAP\nswap.excalidraw\nå…ˆè¯´ç»“è®ºï¼š\nzramï¼šå°±åªæ˜¯å†…å­˜å‹ç¼©æŠ€æœ¯ï¼Œå¯ä»¥å°†å†…å­˜çš„ä¸€å®šåŒºåŸŸç”¨äºå‹ç¼©ç©ºé—´ï¼Œä»è€Œå…·æœ‰æ›´é«˜çš„å†…å­˜åˆ©ç”¨ç‡ã€‚å…³æœºæ— æ³•ä¿å­˜æ•°æ®ï¼Œå¦‚æœä½ ä¸å¸Œæœ›ä½¿ç”¨ä¼‘çœ åŠŸèƒ½ï¼Œéƒ½ä¸éœ€è¦è®¾ç½®ä»€ä¹ˆswapåˆ†åŒºï¼Œç›´æ¥è®¾ç½®zramæ¥ä½¿ç”¨ã€‚\nswapï¼šè¿™ä¸ªä¸œè¥¿å«äº¤æ¢ç©ºé—´ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§å½¢æ€ï¼Œäº¤æ¢åˆ†åŒºå’Œäº¤æ¢æ–‡ä»¶ï¼Œåªç”¨å®ƒçš„è¯å¹³æ—¶æ‰“å¼€å¤§æ–‡ä»¶ä¹Ÿæœ‰å¯èƒ½å†™å…¥ç¡¬ç›˜äº¤æ¢ç©ºé—´ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥ä¼‘çœ ï¼Œæ–­ç”µä¿å­˜å·¥ä½œè¿›åº¦ã€‚\nzswapï¼šzswapæ˜¯ä¸€ä¸ªå†…æ ¸åŠŸèƒ½ï¼Œå®ƒä¸ºäº¤æ¢é¡µæä¾›äº†ä¸€ä¸ªå‹ç¼©çš„å†…å­˜ç¼“å­˜ã€‚åŸæœ¬ä¼šäº¤æ¢åˆ°ç£ç›˜çš„é¡µè¢«å‹ç¼©å¹¶å­˜å‚¨åˆ°å†…å­˜ä¸­çš„å­˜å‚¨æ± ä¸­ã€‚ä¸zram ç›¸æ¯”çš„åŒºåˆ«åœ¨äºï¼Œzswapä¸swap è®¾å¤‡ååŒå·¥ä½œï¼Œè€Œzramæ˜¯å†…å­˜ä¸­çš„äº¤æ¢è®¾å¤‡ï¼Œä¸éœ€è¦åå¤‡äº¤æ¢è®¾å¤‡ã€‚ä½ æ—¢è¦ä¼‘çœ å°±çš„æœ‰swapï¼Œé€šè¿‡è°ƒæ•´äº¤æ¢ç‡å¯ä»¥åšåˆ°ï¼Œå¹³æ—¶åˆ«è€å¾€swapå†™å…¥æ•°æ®ï¼Œå†…å­˜å‹ç¼©è§£å†³äº†å¹³æ—¶å¼€æœºä½¿ç”¨çš„éœ€æ±‚ï¼Œåªåœ¨ä¼‘çœ çš„æ—¶å€™æ•°æ®è¦å­˜åˆ°ç¡¬ç›˜é‡Œï¼Œç®€ç›´æ˜¯ä¸ªå®Œç¾çš„æ–¹æ¡ˆã€‚\næˆ‘çš„ç»ˆææ–¹æ¡ˆæ˜¯ï¼šé‡‡ç”¨btrfs+swapfile+zswapç»“åˆçš„æ–¹å¼ã€‚\næ³¨æ„ï¼šzswapå’ŒzramäºŒè€…ä¸å¯å…±å­˜ï¼Œä½¿ç”¨zramæ—¶ä¸€å®šè¦å…³é—­zswap\nä¸€.btrfsçš„swapfileå¯ç”¨ï¼š\nä»å†…æ ¸ç‰ˆæœ¬5.0å¼€å§‹æ”¯æŒåœ¨btrfsåˆ†åŒºä½¿ç”¨äº¤æ¢æ–‡ä»¶ä½œä¸ºswapå½¢æ€\nä»btrfs-progs 6.0ç‰ˆæœ¬ä¹‹åæ‰èƒ½é€šè¿‡è‡ªèº«ç£ç›˜å·¥å…·å‘½ä»¤æ¥å¿«é€Ÿåˆ›å»ºäº¤æ¢æ–‡ä»¶\nä»systemd 255ç‰ˆæœ¬æ‰æ”¯æŒä¼‘çœ åˆ°btrfsä¸‹çš„äº¤æ¢æ–‡ä»¶ï¼Œå¯ç”¨Â systemctl --versionæŸ¥çœ‹ï¼Œå› æ­¤uosä¸“ä¸šç‰ˆç‰ˆæœ¬ä¸º241ä¸å¯ä»¥\nå¯¹äºå¯¹ç¡¬ç›˜ä½¿ç”¨æ²¡æœ‰è¿‡å¤šè¦æ±‚çš„äººå®é™…ä¸Šå¯ä»¥ä½¿ç”¨äº¤æ¢åˆ†åŒºå³å¯ï¼Œå› ä¸ºå³ä½¿æ˜¯äº¤æ¢æ–‡ä»¶å®ƒä¹Ÿæ˜¯å›ºå®šå ç”¨ç©ºé—´çš„ï¼Œåªæ˜¯å…·æœ‰ä¸€ç‚¹çµæ´»æ€§ï¼Œå¯ä»¥åæœŸè°ƒæ•´æ–‡ä»¶çš„å¤§å°ã€‚æ‰€ä»¥ä½¿ç”¨äº¤æ¢åˆ†åŒºå¯ä»¥é€‚åº”æ›´å¤šåœºæ™¯ã€‚\nå¦åˆ™å‚ç…§ä»å‰çš„æ–¹æ³•æ¥åˆ›å»ºï¼šbbs.deepin.org/post/270299\næŸ¥è¯¢btrfsç‰ˆæœ¬å¯ä»¥é€šè¿‡btrfs version æ¥æŸ¥è¯¢ï¼Œç›®å‰deepin23beta3æ˜¯v6.3.2\nbtrfs version\nbtrfs-progs v6.3.2\n\nè¿™é‡Œéœ€è¦æ³¨æ„btrfsç£ç›˜å·¥å…·åœ¨åˆ›å»ºå’Œä½¿ç”¨äº¤æ¢æ–‡ä»¶æ—¶ï¼Œå­˜åœ¨ä¸€äº›å±€é™æ€§ï¼š\nfilesystem - åªèƒ½æ˜¯å•ä¸ªç¡¬ä»¶åˆ†åŒºä¸­åˆ›å»º\nfilesystem - å¿…é¡»åªæœ‰å•ä¸ªæ•°æ®é…ç½®æ–‡ä»¶\nsubvolume - å¦‚æœåŒ…å«ä»»ä½•æ´»åŠ¨äº¤æ¢æ–‡ä»¶ï¼Œåˆ™æ— æ³•åˆ›å»ºå¿«ç…§\nswapfile - å¿…é¡»é¢„å…ˆåˆ†é…ï¼ˆå³æ²¡æœ‰æ¼æ´ï¼‰\nswapfile - å¿…é¡»æ˜¯ NODATACOWï¼ˆå³ä¹Ÿæ˜¯ NODATASUMï¼Œæ— å‹ç¼©ï¼‰\nåˆ›å»ºäº¤æ¢æ–‡ä»¶ï¼š\nè¿™ä¸ªè¿‡ç¨‹åœ¨ç³»ç»Ÿå¯åŠ¨çŠ¶æ€ä¸‹å³å¯é…ç½®ï¼Œæ— éœ€è¿›å…¥liveç¯å¢ƒï¼Œ@swapä¸ºç‹¬ç«‹å­å·ï¼Œä¸å¯ç”¨äºå¿«ç…§\næŒ‚è½½çˆ¶å·\nsudo mount /dev/sda2 /mnt\nåˆ›å»º @swapå­å·\nsudo btrfs subvolume create /mnt/@swap\nåˆ›å»ºäº¤æ¢æ–‡ä»¶\nsudo btrfs filesystem mkswapfile --size 8G /mnt/@swap/swapfile\nè¾“å‡ºï¼šcreate swapfile /mnt/@swap/swapfile size 8.00GiB (8589934592)\nå¯ç”¨äº¤æ¢æ–‡ä»¶ï¼š\nsudo swapon /mnt/@swap/swapfile\næ¿€æ´»åï¼Œè¯¥æ–‡ä»¶å°†å‡ºç°åœ¨ /proc/swaps ä¸­ï¼š\n$ cat /proc/swaps\nFilename                 Type    Size       Used      Priority\n/mnt/@swap/swapfile      file    8388604    0         -2\n\nå‰é¢çš„è®¾ç½®æ˜¯ä¸´æ—¶æ€§å¯ç”¨äº¤æ¢æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡fstabæ°¸ä¹…å¯ç”¨\nç¼–è¾‘ï¼šsudo nano /etc/fstab å¢åŠ ä»¥ä¸‹å†…å®¹ï¼Œuuidæ¢æˆä½ çš„\n#å°†å­å·@swapæŒ‚è½½åˆ°/swap,è¿›ä¸€æ­¥æŠŠ/swap/swapfileè¿™ä¸ªæ–‡ä»¶æŒ‚è½½åˆ°swap,è¿™é‡Œçš„å¤„ç†å¾ˆå¤šèµ„æ–™éƒ½æ²¡å†™å…·ä½“\nUUID=0a79ef53-4ea9-4cdb-9b5e-5b7fb8ff0c64 /swap btrfs subvol=@swap 0 0\n/swap/swapfile none swap sw 0 0\n\nå¯ç”¨ä¼‘çœ åˆ°äº¤æ¢æ–‡ä»¶ï¼š\nå¯ç”¨äº¤æ¢æ–‡ä»¶åï¼Œäº¤æ¢æ–‡ä»¶å¯ç”¨äºä¼‘çœ ï¼Œä¸è¿‡è¿™å¯ä¸ç®€å•ï¼Œä½ å³ä½¿çœ‹åˆ°deepiné‡å¯ç•Œé¢æœ‰ä¼‘çœ æŒ‰é’®äº†ï¼Œä½†ä»»ç„¶ä¼šå‡ºé”™ï¼Œæ— æ³•æ­£å¸¸ä¼‘çœ ï¼Œè¿™é‡Œéœ€è¦è¿›ä¸€æ­¥è®¾ç½®\nåœ¨ä¼‘çœ ä¹‹å‰ï¼Œå¿…é¡»å°†æ¢å¤åç§»é‡å†™å…¥æ–‡ä»¶Â /sys/power/resume_offset è¯¥å€¼æ˜¯è®¾å¤‡ä¸Šçš„ç‰©ç†åç§»é‡\nBtrfsæ–‡ä»¶ç³»ç»Ÿä½¿ç”¨é€»è¾‘å’Œç‰©ç†ä¹‹é—´çš„æ˜ å°„åœ°å€ï¼Œä½†åœ¨è¿™é‡Œï¼Œç‰©ç†ä»ç„¶å¯ä»¥æ˜ å°„åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªç‰¹å®šè®¾å¤‡çš„ç‰©ç†å—åœ°å€ã€‚è¿™æ˜¯ç‰¹å®šè®¾å¤‡çš„ç‰©ç†åç§»é‡ï¼Œé€‚åˆä½œä¸ºæ¢å¤åç§»ã€‚\nä»btrfs-progs 6.1 ç‰ˆå¼€å§‹ï¼Œæœ‰ä¸€ä¸ªå‘½ä»¤å¯ä»¥ç›´æ¥æŸ¥è¯¢è¯¥åç§»é‡ï¼Œä½ è¯´æœ‰äº›å‘è¡Œç‰ˆä¸æ›´æ–°btrfs-progsåƒè¯å—ï¼Ÿ\n$ sudo btrfs inspect-internal map-swapfile /mnt/@swap/swapfile\nPhysical start: 183341248512\nResume offset:      44761047\n\nä¸ºäº†ç¼–å†™ä¸€äº›è„šæœ¬å’Œæ–¹ä¾¿èµ·è§ï¼Œé€‰é¡¹ -r å°†åªæ‰“å°åç§»é‡ï¼Œè·å¾—ä¸€ä¸ªå”¯ä¸€è¾“å‡ºï¼š\n$ sudo btrfs inspect-internal map-swapfile -r /mnt/@swap/swapfile\n44761047\n\nsudo nano /sys/power/resume_offset\nå†™å…¥ï¼š44761047è¿™ä¸ªå€¼ä¿å­˜å³å¯\nébtrfsæ–‡ä»¶ç³»ç»Ÿçš„æƒ…å½¢å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è·å¾—åç§»é‡å€¼,btrfsä½¿ç”¨è¯¥å‘½ä»¤æ˜¯ä¸å‡†ç¡®çš„ï¼š\nsudo filefrag -v /swap/swapfile\nå–å›¾ä¸­è¿™ä¸ªä½ç½®çš„å€¼å³å¯\n\nä½†æ˜¯ä¸Šé¢è¿™ä¸ªæ–‡ä»¶é‡å¯å°±ä¼šå¤±æ•ˆï¼Œå¦‚ä½•æ°¸ä¹…å›ºåŒ–å‘¢ï¼Ÿ\né‡ç‚¹æ¥äº†ï¼Œä½¿å°†ä»¥ä¸‹å‚æ•°åŠ å…¥åˆ°ä¸¤ä¸ªåœ°æ–¹\nsudo nano /etc/initramfs-tools/conf.d/resume\nå†™å…¥ï¼šresume=UUID=0a79ef53-4ea9-4cdb-9b5e-5b7fb8ff0c64 resume_offset=44761047\n\nåˆ·æ–°é…ç½® \nsudo update-initramfs -c -k all\n\nsudo nano /etc/default/grub\nGRUB_CMDLINE_LINUX_DEFAULT=&quot;splash quiet resume=UUID=0a79ef53-4ea9-4cdb-9b5e-5b7fb8ff0c64 resume_offset=44761047&quot;\n\nåˆ·æ–°é…ç½®\nsudo update-grub\n\näºŒ.zswapçš„åº”ç”¨ï¼š\nå…³é—­ zswap\nsudo sh -c &#039;echo 0 &gt; /sys/module/zswap/parameters/enabled&#039;\nå¼€å¯ zswap\nsudo sh -c &#039;echo 1 &gt; /sys/module/zswap/parameters/enabled&#039;\n\nzswapå‚æ•°è®¾ç½®ï¼š\nzswap æœ‰å‡ ä¸ªå¯è‡ªå®šä¹‰çš„å‚æ•°ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼æ˜¾ç¤ºå®æ—¶è®¾ç½®\n$ grep -R . /sys/module/zswap/parameters\n/sys/module/zswap/parameters/same_filled_pages_enabled:Y\n/sys/module/zswap/parameters/enabled:Y\n/sys/module/zswap/parameters/max_pool_percent:20\n/sys/module/zswap/parameters/compressor:zstd\n/sys/module/zswap/parameters/zpool:z3fold\n/sys/module/zswap/parameters/accept_threshold_percent:90\n\nå…¶å®ƒå‚æ•°å‚è€ƒÂ docs.kernel.org/admin-guide/mm/zswap.html\næ¯ä¸ªè®¾ç½®éƒ½å¯ä»¥åœ¨è¿è¡Œæ—¶é€šè¿‡ sysfs æ¥å£è¿›è¡Œæ›´æ”¹ã€‚ä½œä¸ºç¤ºä¾‹ï¼Œè¦æ›´æ”¹ compressor å‚æ•°\nsudo echo zstd &gt; /sys/module/zswap/parameters/compressor\nä½¿ç”¨å†…æ ¸å¼•å¯¼å‚æ•°æŒä¹…åŒ–æ›´æ”¹ï¼š\nzswap.enabled=1 zswap.compressor=zstd zswap.max_pool_percent=20 zswap.zpool=z3fold\næ¯”è¾ƒç®€å•çš„æ–¹å¼æ˜¯é€šè¿‡grubå¼•å¯¼æ—¶ä¼ é€’å†…æ ¸å‚æ•°ï¼š\nsudo nano /etc/default/grub\nGRUB_CMDLINE_LINUX_DEFAULT=&quot;splash quiet è·Ÿç€åŠ åˆ°è¿™é‡Œé¢ zswap.compressor=zstd zswap.enabled=1&quot;\n\nä¹‹åÂ sudo update-grubå³å¯\nåŒæ—¶æˆ‘ä»¬è¿˜éœ€è¦æŠŠå‹ç¼©å·¥å…·ç­‰æ”¾åˆ°å†…æ ¸æ¨¡å—é‡Œå†™å…¥\nsudo nano /etc/initramfs-tools/modules\n#å†™å…¥\nzstd\nzatd_compress\nz3fold\n\næ‰§è¡ŒÂ sudo update-initramfs -c -k all\näº¤æ¢å€¼(Swappiness)\nä½ å¯ä»¥é€šè¿‡æ­¤å‘½ä»¤æŸ¥çœ‹å½“å‰çš„äº¤æ¢å€¼ï¼Œdeepin/uoséƒ½è¢«é¢„è®¾ä¸º10ï¼Œè€Œé»˜è®¤å€¼åº”ä¸º60ï¼ŒSwappiness çš„å€¼å¯ä»¥æ˜¯ 0 åˆ° 200 ä¹‹é—´ (åœ¨Linuxå†…æ ¸ç‰ˆæœ¬ä½äº5.8æ—¶æœ€å¤§å€¼ä¸º100)\nsysctl vm.swappiness\n\nä½ å¯ä»¥åœ¨å†…å­˜å ç”¨çš„ç¯å¢ƒä¸‹é€šè¿‡ä¸´æ—¶æ”¹å˜äº¤æ¢å€¼æ¥è§‚å¯Ÿæµ‹è¯•ã€‚\nsysctl -w vm.swappiness=10\n\næœ€ç»ˆé€šè¿‡å†™å…¥æ–‡ä»¶å‚æ•°æ¥æ°¸ä¹…ç”Ÿæ•ˆ\næ–‡ä»¶ç”±sysctl.dç®¡ç†ï¼ŒæŒ‰é¡ºåºçš„ä¼˜å…ˆçº§ç”Ÿæ•ˆï¼Œæˆ‘è¿™é‡ŒæŒ–å‡ºdeepin/uosåœ¨æœ€ä½ä¼˜å…ˆçº§è·¯å¾„åšäº†ç›¸å…³é…ç½®\n/etc/sysctl.conf\n/etc/sysctl.d/*.conf\n/run/sysctl.d/*.conf\n/usr/local/lib/sysctl.d/*.conf\n/usr/lib/sysctl.d/*.conf\n\næŸ¥çœ‹deepin/uosç›¸å…³é…ç½®\nsudo nano /usr/lib/sysctl.d/deepin.conf\n#è¿™ä¸ªå‚æ•°ç”¨äºæ§åˆ¶äº¤æ¢å€¼ï¼Œæ•°å­—è¶Šå°åˆ™ä¼˜å…ˆä½¿ç”¨å†…å­˜ï¼Œå‡å°‘å†…å­˜çš„äº¤æ¢ï¼Œä»è€Œæå‡ä¸€äº›ç³»ç»Ÿä¸Šçš„å“åº”åº¦ï¼›\nvm.swappiness=10\n#è¿™ä¸ªå‚æ•°æ§åˆ¶å†…æ ¸å›æ”¶ VFS ç¼“å­˜çš„ç¨‹åº¦ï¼Œå¢å¤§æ•°å€¼ä¼šå¢åŠ å›æ”¶ VFS ç¼“å­˜çš„é¢‘ç‡ï¼Œæœ€å¥½ä¸è¦è®©æ–‡ä»¶ç³»ç»Ÿå¤ªè¿‡äºç–²åŠ³æ§åˆ¶åœ¨50ä»¥ä¸‹\nvm.vfs_cache_pressure=40\n\nä½¿æ›´æ”¹ç”Ÿæ•ˆ\nsudo sysctl -p\né‡ç‚¹é˜è¿°ï¼šÂ swappinessæ­¤å‚æ•°æ§åˆ¶ç”¨äºå®šä¹‰å†…æ ¸ç›¸å¯¹äºé¡µé¢ç¼“å­˜å’Œå…¶ä»–ç¼“å­˜æ¢å‡ºåŒ¿åå†…å­˜çš„ç§¯æç¨‹åº¦ã€‚å¢åŠ è¯¥å€¼ä¼šå¢åŠ äº¤æ¢é‡ã€‚é»˜è®¤å€¼ä¸ºÂ 60ã€‚\nå‡å°è¯¥å€¼åˆ™ä¼˜å…ˆä½¿ç”¨å†…å­˜ï¼Œå‡å°‘å†…å­˜å¯¹swapçš„äº¤æ¢ï¼Œä»è€Œæå‡ä¸€äº›ç³»ç»Ÿä¸Šçš„å“åº”åº¦ï¼Œé€‚åˆéœ€è¦å†…å­˜å¿«é€Ÿå“åº”çš„è¿™ç±»å·¥ä½œï¼Œå¯¹å†…å­˜å ç”¨ä¸æ•æ„Ÿçš„äººç¾¤ã€‚è¿™ç±»äººç¾¤å¯ä»¥é€‚å½“åˆ’å‡ºä¸€éƒ¨åˆ†å†…å­˜åšzramï¼Œå°†Â swappinesså€¼è®¾ä¸ºå‡ ä¹ä¸º0ï¼Œswapå°†åªç”¨äºä¼‘çœ ã€‚\nå¢å¤§Â swappinesså€¼ï¼Œå°†æå‡äº¤æ¢çš„ç§¯ææ€§ï¼Œæ¯•ç«Ÿæ˜¯å†™å…¥ç¡¬ç›˜ï¼ŒI/Oæ€§èƒ½ä¼šç›¸æ¯”å†…å­˜ä¼šé™ä½ï¼Œå†…å­˜å°†å¤§éƒ¨åˆ†ç”¨äºå®é™…çš„å·¥ä½œï¼Œè€Œswapåˆ™ç”¨äºå­˜æ”¾ç¼“å­˜æ•°æ®ï¼Œè¿™ç§é…ç½®æ–¹æ³•åˆ™é€‚åˆå¸¸å¸¸ä½¿ç”¨è™šæ‹Ÿæœºã€å¸¸å¸¸ç¼–è¾‘å‡ ä¸‡è¡Œxlsæ–‡ä»¶ã€å¸¸å¸¸æµè§ˆå™¨å¼€20ä¸ªæ ‡ç­¾ä»¥ä¸Šçš„ç”¨æˆ·ã€‚è¿™ç±»ç”¨æˆ·ä¸å¤ªæ³¨é‡ioçš„åŠæ—¶æ€§ï¼Œè€Œæ›´åœ¨ä¹èƒ½ç¨³å®šæŒç»­çš„å·¥ä½œä¸ä¼šå¡æ­»ï¼Œå»ºè®®ä¸ºswapåˆ†åŒºåˆ’åˆ†æ›´å¤šçš„ç©ºé—´ï¼Œå¯¹äºæœåŠ¡å™¨æœ€å¥½ä¸è¦äº¤æ¢swapä¸šåŠ¡ç¨³å®šæœ€é‡è¦ï¼Œæ€§èƒ½æœ€é‡è¦ï¼Œå¯¹äºä¸ªäººPCæœºé»˜è®¤çš„60å¯èƒ½æ˜¯ä¸ªå¥½äº‹ã€‚\nå› æ­¤Â swappinesså€¼æ˜¯æƒè¡¡ä¹‹ä¸‹çš„ç»“æœï¼Œæ‰¾åˆ°è‡ªå·±çš„å¹³è¡¡ç‚¹æœ€é‡è¦ï¼\nè¯·æ³¨æ„ï¼Œæ¢å‡ºçš„æ•°æ®è¶Šå¤šï¼Œç³»ç»Ÿåœ¨éœ€è¦æ—¶æ¢å›æ•°æ®æ‰€éœ€çš„æ—¶é—´å°±è¶Šé•¿ã€‚\nä¸‰.å†…å­˜å‹ç¼©çš„å¯ç”¨\næˆ‘çš„ç»ˆææ–¹æ¡ˆè¯´å®Œäº†ï¼Œä¸‹é¢è¯´è¯´zramåœ¨debianç³»é‡Œçš„å¯ç”¨ï¼Œç”±äºå¤§å¤šæ•°å†…æ ¸é»˜è®¤å¼€å¯äº†zswapçš„é…ç½®ï¼Œè¦å¯ç”¨zramè¯·è®¾ç½®å†…æ ¸å‚æ•°Â zswap.enabled=0æ¥ç¦ç”¨zswap\nzram-tools æˆ–è€… systemd-zram-generator è½¯ä»¶åŒ…å¯ç”¨äºè‡ªåŠ¨è®¾ç½® zram è®¾å¤‡,uosä¸“ä¸šç‰ˆæœ¬æœ‰zram-toolsè€Œdeepinæœ‰åè€…systemd-zram-generator\nuosçš„æ–¹å¼ï¼š\nå®‰è£…zram-toolså¹¶å¯åŠ¨ç›¸åº”æœåŠ¡ï¼š\nsudo apt install zram-tools\né»˜è®¤æƒ…å†µä¸‹ï¼ŒzRAMä½¿ç”¨çš„å‹ç¼©ç®—æ³•æ˜¯lzoï¼Œå¦‚æœæƒ³ä½¿ç”¨å…¶ä»–ç®—æ³•æˆ–ä¿®æ”¹zRAMçš„å¤§å°ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶/etc/default/zramswap\nsudo nano /etc/default/zramswap\n#å‹ç¼©ç®—æ³•é€‰æ‹©,æ³¨æ„ç³»ç»Ÿå¿…é¡»å®‰è£…è¿™äº›å‹ç¼©å·¥å…·\n#å‹ç¼©é€Ÿåº¦ï¼šlz4 &gt; zstd &gt; lzo\n#å‹ç¼©ç‡ï¼šzstd &gt; lzo &gt; lz4\nALGO=zstd\n#æŒ‡å®šç”¨äºzramçš„RAMé‡ï¼ŒåŸºäºå¯ç”¨å†…å­˜æ€»é‡çš„ç™¾åˆ†æ¯”ï¼Œè¿™ä¼˜å…ˆå¹¶è¦†ç›–ä¸‹é¢çš„SIZE\nSIZEPERCENT=70\n#æŒ‡å®šåº”è¯¥ç”¨äºçš„é™æ€RAMé‡å•ä½MiBä¸­ï¼Œå¦‚æœä¸Šé¢è®¾ç½®äº†ç™¾åˆ†æ¯”ï¼Œè¿™æ¡å°†ä¸ç”Ÿæ•ˆï¼Œä¹Ÿå¯ä»¥æ³¨é‡Šæ‰\nSIZE=8192\n#æŒ‡å®šäº¤æ¢è®¾å¤‡çš„ä¼˜å…ˆçº§ï¼Œæ•°å­—è¶Šå¤§=ä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¿™åº”è¯¥é«˜äºç¡¬ç›˜swapsçš„ä¼˜å…ˆçº§\nPRIORITY=100\n#å»ºç«‹å‡ ä¸ªzramè®¾å¤‡ï¼Œé»˜è®¤cpuå†…æ ¸å‡ ä¸ªå°±åˆ›å»ºå‡ ä¸ªï¼Œä»¥æ­¤æ§åˆ¶æ•°é‡\n#CORES=1\n\né…ç½®å¥½ä»¥ä¸Šå‚æ•°å¯ç”¨æœåŠ¡å³å¯ï¼š\nsudo service zramswap reload\nå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰ç”¨äºswapçš„zram\nswapon -s\ndeepinçš„æ–¹å¼ï¼š\nå…ˆå®‰è£…\nsudo apt install systemd-zram-generator\nä¿®æ”¹é…ç½®æ–‡ä»¶\n/etc/systemd/zram-generator.conf\nå†™å…¥ï¼š\n[zram0]\ncompression-algorithm = zstd\nzram-size = ram / 2\nswap-priority = 100\n\nè¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªä½¿ç”¨zstdå‹ç¼©ã€å¤§å°ä¸ºæ‰€æœ‰å¯ç”¨å†…å­˜å®¹é‡ä¸€åŠçš„zram swap è®¾å¤‡ï¼ˆram/2è¡¨ç¤ºå¤§å°ä¸º RAMå¤§å°çš„1/2ï¼›ä¹Ÿå¯ä»¥è®¾ç½®ä¸º4ï¼§ã€512Mè¿™æ ·çš„å€¼ï¼‰\nè¯¦ç»†æ‰©å±•å‚æ•°çœ‹ï¼šgithub.com/systemd/zram-generator\nå¯ç”¨æœåŠ¡ï¼š\nsystemctl daemon-reload\nsystemctl start /dev/zram0\n\nè°ƒç”¨ zramctl æˆ– swapon ä»¥ç¡®è®¤è®¾å¤‡å·²åˆ›å»ºå¹¶æ­£åœ¨ä½¿ç”¨ä¸­ã€‚\n$zramct\nlNAME       ALGORITHM DISKSIZE DATA COMPR TOTAL STREAMS MOUNTPOINT\n/dev/zram0 lzo-rle       4.8G   4K   80B   12K       4[SWAP]\n\næ³¨æ„ï¼šåœ¨åŠ¨å®Œç£ç›˜å’Œç›¸å…³æ“ä½œé‡å¯ä¹‹å‰ä¸€å®šè¦æ›´æ–°ä¸€ä¸‹initramfs\nsudo update-initramfs -c -k all\n\n\nä»¥ä¸Šä»£è¡¨äº†æˆ‘ä¸ªäººå¯¹æ­¤æ–¹æ¡ˆçš„æœ€ç»ˆç†è§£ï¼Œä¸ä½¿ç”¨btrfsçš„ä¼™ä¼´ä¹Ÿä¸€æ ·å¯ä»¥æèµ·ï¼Œä¸¾ä¸€åä¸‰ï¼\nå‚è€ƒ\n\nwiki.archlinux.org/title/Swap\n"},"Eä¸´æ—¶ç¬”è®°/systemd-networkd":{"title":"systemd-networkd","links":[],"tags":["TODO"],"content":"systemd-networkd\n"},"Eä¸´æ—¶ç¬”è®°/texlive":{"title":"texlive","links":[],"tags":["TODO","arch"],"content":"texlive å®‰è£…\n\nArch å®˜æ–¹æº\n# åŸºæœ¬åŒ…\nsudo pacman -S texlive-core\n \n# æ— è„‘å®‰è£…\nsudo pacman -S texlive-most\n \n# ä¸­æ–‡æ”¯æŒ\nsudo pacman -S texlive-langchinese\nå…¶ä»–\né»˜è®¤ TeX Live çš„å­—ä½“æ˜¯ä¸è‡ªåŠ¨ç»™ Fontconfig æä¾›å­—ä½“çš„ï¼Œå› æ­¤è‹¥æƒ³è®© XeTeX ä¹‹ç±»çš„ä½¿ç”¨ä»–ä»¬ï¼Œéœ€è¦å‚è€ƒ Arch Wiki ä¸Šçš„æ–¹æ³•ä½œç¬¦å·é“¾æ¥ã€‚è¿™é‡Œä»¥ä¸­æ–‡ç¯å¢ƒé»˜è®¤çš„å­—ä½“ Fandol ä¸ºä¾‹ï¼š\nln -s /usr/share/texmf-dist/fonts/opentype/public/fandol ~/.fonts/OTF/\nfc-cache ~/.fonts\nmkfontscale ~/.fonts/OTF\nmkfontdir ~/.fonts/OTF\nè¿™æ · fc-list | grep Fandol åº”è¯¥å°±èƒ½æ‰¾åˆ°è¿™ä¸ªå­—ä½“äº†ã€‚\nä½†æ­¤æ—¶å»ç¼–è¯‘ä¸­æ–‡å­—ä½“çš„è¯ï¼Œé»˜è®¤çš„ pdf æŸ¥çœ‹å™¨å´ä¾ç„¶æ— æ³•çœ‹åˆ°æ±‰å­—ï¼Œè€Œ Chrome å´èƒ½æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡ã€‚æœ€åå†å®‰è£…å¦‚ä¸‹åŒ…ï¼š\nsudo pacman -S poppler-data\næ±‰å­—å°±å¯ä»¥æ­£å¸¸åœ¨ evince ä¹‹ç±»çš„é»˜è®¤ pdf æŸ¥çœ‹å™¨ä¸­æ­£å¸¸æ˜¾ç¤ºäº†ã€‚"},"Eä¸´æ—¶ç¬”è®°/truncate":{"title":"truncate","links":[],"tags":["TODO","linux"],"content":"truncate\n\nå‚è€ƒ\n\ngnu coreutils-truncate\n"},"Eä¸´æ—¶ç¬”è®°/wine":{"title":"wine","links":[],"tags":["TODO","wine"],"content":"WINE\n"},"Eä¸´æ—¶ç¬”è®°/zram":{"title":"zram","links":[],"tags":[],"content":"ZRAM\nzram æ˜¯ä¸€ä¸ª Linux å†…æ ¸æ¨¡å—ï¼Œå¯ä»¥ç”¨æ¥åˆ›å»ºæœ€é«˜ 5:1 å‹ç¼©ç‡çš„åŸºäº RAM çš„å—è®¾å¤‡ã€‚\r\nzram ä»å†…å­˜ä¸­åˆ†å‡ºä¸€å—åŒºåŸŸï¼Œä½¿ç”¨å‹ç¼©ç®—æ³•å¯ä»¥å¢åŠ æ•°æ®çš„å®¹é‡ã€‚"},"Eä¸´æ—¶ç¬”è®°/å›è°ƒå‡½æ•°":{"title":"å›è°ƒå‡½æ•°","links":[],"tags":["TODO"],"content":"å›è°ƒå‡½æ•°\n\nåœ¨è®¡ç®—æœºç¨‹åºè®¾è®¡ä¸­ï¼Œå›è°ƒå‡½æ•°ï¼Œæˆ–ç®€ç§°å›è°ƒï¼ˆCallback å³ call then back è¢«ä¸»å‡½æ•°è°ƒç”¨è¿ç®—åä¼šè¿”å›ä¸»å‡½æ•°ï¼‰ï¼Œæ˜¯æŒ‡é€šè¿‡å‚æ•° å°†å‡½æ•°ä¼ é€’åˆ°å…¶å®ƒä»£ç çš„ï¼ŒæŸä¸€å—å¯æ‰§è¡Œä»£ç çš„å¼•ç”¨ã€‚è¿™ä¸€è®¾è®¡å…è®¸äº†åº•å±‚ä»£ç è°ƒç”¨åœ¨é«˜å±‚å®šä¹‰çš„å­ç¨‹åºã€‚\n\nä¸‹åˆ—C è¯­è¨€ä»£ç æè¿°äº†åˆ©ç”¨å›è°ƒå¤„ç†POSIXé£æ ¼çš„ä¿¡å·ï¼ˆåœ¨æœ¬ç¤ºä¾‹ä¸­ä¸ºSIGUSR1ï¼‰çš„è¿‡ç¨‹ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨å¤„ç†ä¿¡å·çš„è¿‡ç¨‹ä¸­ï¼Œè°ƒç”¨printf(3)æ˜¯ä¸å®‰å…¨çš„ã€‚\n#include &lt;stdio.h&gt;\n#include &lt;signal.h&gt;\n#include &lt;unistd.h&gt;\n \nvoid sig(int signum)\n{\n        printf(&quot;Received signal number %d!\\n&quot;, signum);\n}\n \nint main(int argc, char *argv[])\n{\n        signal(SIGUSR1, sig);\n \n        pause();\n \n        return 0;\n}\nç³»ç»Ÿè°ƒç”¨pause(3)ä¼šå¯¼è‡´è¿™ä¸ªä¾‹å­ä¸åšä»»ä½•æœ‰æ„ä¹‰çš„äº‹ï¼Œä½†è¿™æ ·åšå¯ä»¥ç»™ä½ å……åˆ†çš„æ—¶é—´æ¥ç»™è¿™ä¸ªè¿›ç¨‹å‘é€ä¿¡å·ã€‚ï¼ˆåœ¨ç±» Unix ç³»ç»Ÿä¸Šï¼Œå¯ä»¥è°ƒç”¨kill -USR1 **&lt;pid&gt;**ï¼Œå…¶ä¸­**&lt;pid&gt;**ä»£è¡¨è¯¥ç¨‹åºçš„è¿›ç¨‹å·ã€‚è¿è¡Œä¹‹åï¼Œè¯¥ç¨‹åºåº”å½“ä¼šæœ‰ååº”ã€‚ï¼‰"},"Eä¸´æ—¶ç¬”è®°/æ–‡ä»¶è¯»å†™":{"title":"æ–‡ä»¶è¯»å†™","links":[],"tags":["TODO"],"content":"C æ–‡ä»¶å¤„ç†\nå¯¹äºæ–‡ä»¶çš„å¤„ç†ä¸å¤–ä¹è¯»å’Œå†™ä¸¤ç§åŸºæœ¬æ“ä½œã€‚\r\nC è¯­è¨€ stdio.h å¤´æ–‡ä»¶åŒ…å«å¤„ç†æ–‡ä»¶çš„ç›¸å…³å‡½æ•°ã€‚\nè¿™äº›å‡½æ•°å¤„ç†çš„å¯¹è±¡éƒ½æ˜¯æ–‡ä»¶æµï¼ˆFILEï¼‰ï¼Œfopenã€fclose æ˜¯\r\nç”¨æ¥åˆ›å»ºå’Œå…³é—­æµçš„å‡½æ•°ã€‚\nè¯»"},"Eä¸´æ—¶ç¬”è®°/è®¡ç®—æœºç½‘ç»œ":{"title":"è®¡ç®—æœºç½‘ç»œ","links":[],"tags":["TODO","net"],"content":"è®¡ç®—æœºç½‘ç»œ\n\nç½‘ç»œåŸºç¡€\n\nå…¨åŒå·¥é€šä¿¡ï¼šå¯åŒæ—¶å‘é€å’Œæ¥æ”¶çš„é€šä¿¡æ–¹å¼ã€‚\nåŠåŒå·¥é€šä¿¡ï¼šåªå‘é€æˆ–åªæ¥æ”¶çš„é€šä¿¡æ–¹å¼ã€‚"},"Gç»˜å›¾æ–‡ä»¶/Drawing-2024-10-09-05.01.56.excalidraw":{"title":"Drawing 2024-10-09 05.01.56.excalidraw","links":[],"tags":["excalidraw"],"content":"âš   Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš  You can decompress Drawing data with the command palette: â€˜Decompress current Excalidraw fileâ€™. For more info check in plugin settings under â€˜Savingâ€™\nDrawing\nN4IgLgngDgpiBcIYA8DGBDANgSwCYCd0B3EAGhADcZ8BnbAewDsEAmcm+gV31TkQAswYKDXgB6MQHNsYfpwBGAOlT0AtmIBeNCtlQbs6RmPry6uA4wC0KDDgLFLUTJ2lH8MTDHQ0YNMWHRJMRZFAFZFAAYyJE9VGEYwGgQAbQBdcnQoKABlALA+UEl8PGzsDT5GTkxMch0YIgAhdFQAayKuRlwAYXpMenwEEABiADMx8ZAAX0mgA\n%%"},"Gç»˜å›¾æ–‡ä»¶/Drawing-2024-11-05-12.32.21.excalidraw":{"title":"Drawing 2024-11-05 12.32.21.excalidraw","links":[],"tags":["excalidraw"],"content":"âš   Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš  You can decompress Drawing data with the command palette: â€˜Decompress current Excalidraw fileâ€™. For more info check in plugin settings under â€˜Savingâ€™\nExcalidraw Data\nText Elements\nt/ns \np/100% "},"Gç»˜å›¾æ–‡ä»¶/Linux-Lancher.excalidraw":{"title":"Linux Lancher.excalidraw","links":[],"tags":["excalidraw"],"content":"âš  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš \nText Elements\nItem List 1 \nInput Box \nRadius "},"Gç»˜å›¾æ–‡ä»¶/MVC.excalidraw":{"title":"MVC.excalidraw","links":[],"tags":["excalidraw"],"content":"âš   Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš  You can decompress Drawing data with the command palette: â€˜Decompress current Excalidraw fileâ€™. For more info check in plugin settings under â€˜Savingâ€™\nExcalidraw Data\nText Elements\nModel \nView \nController "},"Gç»˜å›¾æ–‡ä»¶/calculator":{"title":"calculator","links":[],"tags":["excalidraw"],"content":"âš  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš \nText Elements\nstring \nstart \nis string\r\nvalid \nno \nyes \nstring â†’ num + sign \ncalculate \noutput result \ncontinue \nend \nyes \nno "},"Gç»˜å›¾æ–‡ä»¶/iptables":{"title":"iptables","links":[],"tags":["excalidraw"],"content":"âš  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš \nText Elements\nç½‘å¡ \nå†…æ ¸ç©ºé—´ \nç”¨æˆ·ç©ºé—´ "},"Gç»˜å›¾æ–‡ä»¶/nastools":{"title":"nastools","links":[],"tags":["excalidraw"],"content":"âš  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš \nText Elements\nå¼€å§‹ \nç¯å¢ƒæ£€æŸ¥ \nå…³é”®è¯æœç´¢ \nå¤„ç†å…³é”®è¯ \nWeb \nåª’ä½“æœç´¢ \næ™®é€šæœç´¢ \nTMDB\r\nä¿¡æ¯æœç´¢ \nç´¢å¼•å™¨æœç´¢ \nä¿¡æ¯è¿‡æ»¤ \nè¿”å›\r\nå½±è§†\r\nåˆ—è¡¨ \nUI é€‰æ‹© \nå…³é”®è¯ \nå‰§é›†ä¿¡æ¯åŒ¹é… \nBT ä¸‹è½½å™¨ \nè¯»å–é…ç½®ä¿¡æ¯ \næœåŠ¡å¯åŠ¨ "},"Gç»˜å›¾æ–‡ä»¶/swap.excalidraw":{"title":"swap.excalidraw","links":[],"tags":["excalidraw"],"content":"âš   Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš  You can decompress Drawing data with the command palette: â€˜Decompress current Excalidraw fileâ€™. For more info check in plugin settings under â€˜Savingâ€™\nExcalidraw Data\nText Elements\nRam \nzswap \nram \nBacking store \ncompress \nwhen zswap is full \ndecompress \nBacking store \nzram \nå‹ç¼©ï¼Œå……å½“å—è®¾å¤‡ "},"Gç»˜å›¾æ–‡ä»¶/å†…å­˜æ± ç»“æ„å›¾.excalidraw":{"title":"å†…å­˜æ± ç»“æ„å›¾.excalidraw","links":[],"tags":["excalidraw"],"content":"âš   Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš  You can decompress Drawing data with the command palette: â€˜Decompress current Excalidraw fileâ€™. For more info check in plugin settings under â€˜Savingâ€™\nExcalidraw Data\nText Elements"},"Gç»˜å›¾æ–‡ä»¶/æ•°æ®ç»“æ„":{"title":"æ•°æ®ç»“æ„","links":[],"tags":["excalidraw"],"content":"âš  Switch to EXCALIDRAW VIEW in the MORE OPTIONS menu of this document. âš \nText Elements\nè¡¨ \n0 \n1 \nN "},"Hå…¶ä»–æ–‡ä»¶/PPT/Luaæ•™ç¨‹":{"title":"Lua Tutorial","links":[],"tags":[],"content":"Lua\n\nLua ç‰¹æ€§\n\nLua è¯­æ³•\n\nå˜é‡ä¸ç±»å‹\nLua æ˜¯ä¸€ç§åŠ¨æ€ç±»å‹è¯­è¨€\n\nå˜é‡\nå˜é‡çš„é»˜è®¤å€¼å‡ä¸ºnil;\nLua ä¸­æœ‰ä¸‰ç±»å˜é‡ï¼šå…¨å±€å˜é‡ï¼Œå±€éƒ¨å˜é‡ï¼Œtable çš„åŸŸ;\nLua ä¸­çš„å˜é‡å…¨ä¸ºå…¨å±€å˜é‡ï¼Œé™¤éç”¨localæ˜¾ç¤ºå£°æ˜ä¸ºå±€éƒ¨å˜é‡ã€‚\n\n\n    table {\n        font-size: 10px;\n    }\n    thead {\n        font-size: 12px;\n}\n\nç±»å‹\nLua ä¸­æœ‰å…«ç§åŸºæœ¬ç±»å‹ï¼šnil, boolean, number, string, function, userdata, thread, table\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\næ•°æ®ç±»å‹æè¿°nilåªæœ‰å”¯ä¸€å€¼ nilbooleanå¸ƒå°”å€¼ï¼šfalse, true(false å’Œ nil æ˜¯å”¯äºŒçš„ false, å…¶ä»–éƒ½ä¸º true)numberlua åªæœ‰ä¸€ç§æ•°å­—ç±»å‹ï¼šdoublestringå­—ç¬¦ä¸²ç”±ä¸€å¯¹åŒå¼•å·å’Œå•å¼•å·è¡¨ç¤ºtablelua ä¸­è¡¨å…¶å®æ˜¯ä¸€ä¸ªâ€å…³è”æ•°ç»„â€, æ•°ç»„çš„ç´¢å¼•å¯ä»¥æ˜¯æ•°å­—æˆ–è€…å­—ç¬¦ä¸²ï¼Œåˆ›å»ºç©ºè¡¨ m = {}functionå‡½æ•°æ˜¯è¢«çœ‹ä½œæ˜¯â€ç¬¬ä¸€ç±»å€¼ï¼ˆFirst-Class Valueï¼‰â€œï¼Œå‡½æ•°å¯ä»¥å­˜åœ¨å˜é‡é‡Œthreaduserdataç”¨æˆ·è‡ªå®šä¹‰æ•°æ®ï¼Œç”¨äºè¡¨ç¤ºä¸€ç§ç”±åº”ç”¨ç¨‹åºæˆ– C/C++ è¯­è¨€åº“æ‰€åˆ›å»ºçš„ç±»å‹\n\nå¾ªç¯\né‡å¤æ‰§è¡Œä¸€ç»„è¯­å¥\nå¾ªç¯ç±»å‹\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nå¾ªç¯ç±»å‹æè¿°whileforrepeatâ€¦until\nå¾ªç¯æ§åˆ¶ï¼š\n\nbreak: é€€å‡ºå½“å‰å¾ªç¯\ngoto: å°†ç¨‹åºçš„æ§åˆ¶ç‚¹è½¬ç§»åˆ°ä¸€ä¸ªæ ‡ç­¾å¤„\n"},"Hå…¶ä»–æ–‡ä»¶/PPT/demo":{"title":"demo","links":[],"tags":[],"content":"\nMarp\nMarkdown Presentation Ecosystem\nmarp.app/\n\nHow to write slides\nSplit pages by horizontal ruler (---). Itâ€™s very simple! :satisfied:\n# Slide 1\n \nfoobar\n \n---\n \n# Slide 2\n \nfoobar"},"index":{"title":"å­¦æµ·æ— æ¶¯è‹¦ä½œèˆŸ","links":["ä»£åŠåˆ—è¡¨","é¡¹ç›®è®°å½•","å¨±ä¹è®°å½•","å­¦ä¹ è®°å½•","é˜…è¯»è®°å½•","å¸¸ç”¨å·¥å…·"],"tags":[],"content":"ä¸€ä¸ªäººè‡³å°‘æ‹¥æœ‰ä¸€ä¸ªæ¢¦æƒ³ï¼Œæœ‰ä¸€ä¸ªç†ç”±å»åšå¼ºã€‚å¿ƒè‹¥æ²¡æœ‰æ –æ¯çš„åœ°æ–¹ï¼Œåˆ°å“ªé‡Œéƒ½æ˜¯åœ¨æµæµªã€‚â€”â€”ã€Šæˆ‘çš„é’æ˜¥è°åšä¸»ã€‹\n\n\nä»£åŠåˆ—è¡¨\né¡¹ç›®è®°å½•\nå¨±ä¹è®°å½•\nå­¦ä¹ è®°å½•\né˜…è¯»è®°å½•\nå¸¸ç”¨å·¥å…·\n"},"tags/TODO":{"title":"TODO","links":[],"tags":[],"content":""},"tags/linux":{"title":"Linux","links":[],"tags":[],"content":""},"ä»£åŠåˆ—è¡¨":{"title":"ä»£åŠåˆ—è¡¨","links":["Aè®¡ç§‘å·¥ç¨‹/isync"],"tags":["TODO"],"content":"TODO\nç¼–ç¨‹\n\n isync é¡¹ç›®å‘å¸ƒ v 0.1.0 ğŸ›« 2024-06-13\n"},"å¨±ä¹è®°å½•":{"title":"å¨±ä¹è®°å½•","links":[],"tags":["TODO"],"content":"å¨±ä¹è®°å½•\n\nåŠ¨æ¼«\n\n[/] çµèƒ½ç™¾åˆ†ç™¾\n æœ€åçš„å¬å”¤å¸ˆ Bilibili\n\n\nç”µå½±\n\n æˆ‘çš„å¤©æ‰å¥³å‹\n\n\né˜…è¯»\n\n[/] èµ˜å©¿ ç¬”è¶£é˜\n[/] åå™¬æ˜Ÿç©º ç¬”è¶£é˜\n"},"å­¦ä¹ è®°å½•":{"title":"å­¦ä¹ è®°å½•","links":["Just-in-Time-Learning"],"tags":[],"content":"å­¦ä¹ è®°å½•\nå­¦ä¹ å“²å­¦\n\nJust in Time Learning\nPro Git ä¸­æ–‡ç‰ˆï¼ˆç¬¬äºŒç‰ˆï¼‰\n"},"å¸¸ç”¨å·¥å…·":{"title":"å¸¸ç”¨å·¥å…·","links":[],"tags":[],"content":"ç½‘é¡µå°å·¥å…·\n\nç¨‹åºå‘˜å¿«é€Ÿå‚è€ƒæ¸…å•\n"},"é˜…è¯»è®°å½•":{"title":"é˜…è¯»è®°å½•","links":[],"tags":[],"content":"TABLE ä¹¦å, ä½œè€…, ç±»åˆ«, çŠ¶æ€\nFROM &quot;Fé˜…è¯»å¨±ä¹/é˜…è¯»&quot;\nå½±è§†"},"é¡¹ç›®è®°å½•":{"title":"é¡¹ç›®è®°å½•","links":["Eä¸´æ—¶ç¬”è®°/irik","Aè®¡ç§‘å·¥ç¨‹/ä¸»æœºè¿ç»´/Scrapy"],"tags":[],"content":"ä¸ªäººé¡¹ç›®\nirik\nåª’ä½“å½±éŸ³è‡ªåŠ¨åŒ–ç¨‹åºï¼Œä¸ªäºº NAS çš„è‡ªåŠ¨åŒ–åŠ©æ‰‹ã€‚\nä¸ªäººåšå®¢è®¾è®¡\n\n ä½¿ç”¨ èµ«è¹ ç¾åŒ–æ’ç‰ˆã€‚\n\nSimpleDNS\nç¼–å†™ä¸€ä¸ªç®€å•çš„ DNS æœåŠ¡å™¨ã€‚\nç›®çš„\n\n ç†Ÿæ‚‰è¯­è¨€ã€‚\n å­¦ä¹  DNS çš„æŠ€æœ¯ç»†èŠ‚ã€‚\n\nBilibili ç”¨æˆ·æ•°æ®çˆ¬è™«\nä½¿ç”¨ Scrapy ç¼–å†™ Bilibili ç”¨æˆ·æ•°æ®çˆ¬è™«ã€‚\nç›®çš„\n\n ç†Ÿç»ƒ Python è¯­æ³•\n å­¦ä¹  Scrapy ä½¿ç”¨\n ç†Ÿæ‚‰ SQL è¯­æ³•ä¸åº”ç”¨\n ç”¨æˆ·æ•°æ®åˆ†æ\n\nCMD èŠå¤©è½¯ä»¶\nå‘½ä»¤è¡Œç¿»è¯‘\n\n\n                  \n                  å‘½ä»¤è¡Œç¿»è¯‘ \n                  \n                \n\n\n ç†Ÿç»ƒ Python è¯­æ³•\n å­¦ä¹  Scrapy ä½¿ç”¨\n ç†Ÿæ‚‰ SQL è¯­æ³•ä¸åº”ç”¨\n ç”¨æˆ·æ•°æ®åˆ†æ\n\n\n"}}